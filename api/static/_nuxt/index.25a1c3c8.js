var qh=Object.getPrototypeOf;var Hh=Reflect.get;var ti=(i,t,e)=>Hh(qh(i),e,t);import qn from"./Icon.3eb38d3a.js";import{u as Me,a as Ct}from"./fetch.1e094b73.js";import{o as V,c as X,d as Hn,t as ee,b as et,f as yt,g as Mr,w as Fh,h as Fn,i as tt,j as is,k as ns,_ as Vh,l as Uh,n as Wh,m as ei,q as Bh,s as zh,a as Ge,F as Qe,r as si,v as Kh}from"./entry.1510e103.js";const Qh={class:""},Yh={__name:"Header",props:{uid:Object,inputEnabled:Boolean},setup(i){const t=i;Me("enablePreview");const e=async()=>{await Ct("/api/mixers",{method:"delete",body:{uid:t.uid}},"$hCYo3zfCCM")};return(s,n)=>{const a=qn;return V(),X("div",Qh,[Hn(" Mixer: "+ee(i.uid)+" ",1),et(a,{name:"uil:trash",color:"red",size:"24px",onClick:e})])}}},lt=Symbol(0);let as=!1,mi=!1,ft=null,se=null,ot=null,G=0,te=[],Vn={};const Xh=()=>{},be=0,To=1,Pe=2,qs=3;function Jh(){as=!0,queueMicrotask(ko)}function ko(){if(!te.length){as=!1;return}mi=!0;for(let i=0;i<te.length;i++)te[i].$st!==be&&Zh(te[i]);te=[],as=!1,mi=!1}function Zh(i){let t=[i];for(;i=i[lt];)i.$e&&i.$st!==be&&t.push(i);for(let e=t.length-1;e>=0;e--)Qn(t[e])}function Ao(i){const t=rs();return He(t,i.length?i.bind(null,qe.bind(t)):i,null)}function m(i){return He(ft,i,null)}function Gh(i){return He(null,i,null)}function _t(){mi||ko()}function Hs(){return ft}function K(i,t){try{return He(t,i,null)}catch(e){Un(t,e);return}}function Eo(i,t=ft){return t==null?void 0:t.$cx[i]}function tc(i,t,e=ft){e&&(e.$cx={...e.$cx,[i]:t})}function S(i){if(!i||!ft)return i||Xh;const t=ft;return t.$d?Array.isArray(t.$d)?t.$d.push(i):t.$d=[t.$d,i]:t.$d=i,function(){t.$st!==qs&&(i.call(null),Fs(t.$d)?t.$d=null:Array.isArray(t.$d)&&t.$d.splice(t.$d.indexOf(i),1))}}function qe(i=!0){if(this.$st===qs)return;let t=i?this.$ps||this[lt]:this,e=this.$ns,s=null;for(;e&&e[lt]===this;)qe.call(e,!0),qr(e),s=e.$ns,e.$ns=null,e=s;i&&qr(this),e&&(e.$ps=i?this.$ps:this),t&&(t.$ns=e)}function qr(i){i.$st=qs,i.$d&&So(i),i.$s&&ts(i,0),i.$ps&&(i.$ps.$ns=null),i[lt]=null,i.$s=null,i.$o=null,i.$ps=null,i.$cx=Vn,i.$eh=null}function So(i){try{if(Array.isArray(i.$d))for(let t=i.$d.length-1;t>=0;t--){const e=i.$d[t];e.call(e)}else i.$d.call(i.$d);i.$d=null}catch(t){Un(i,t)}}function He(i,t,e){const s=ft,n=se;ft=i,se=e;try{return t.call(i)}finally{ft=s,se=n}}function Un(i,t){if(!i||!i.$eh)throw t;let e=0,s=i.$eh.length,n=Hr(t);for(e=0;e<s;e++)try{i.$eh[e](n);break}catch(a){n=Hr(a)}if(e===s)throw n}function Hr(i){return i instanceof Error?i:Error(JSON.stringify(i))}function Wn(){return this.$st===qs?this.$v:(se&&!this.$e&&(!ot&&se.$s&&se.$s[G]==this?G++:ot?ot.push(this):ot=[this]),this.$c&&Qn(this),this.$v)}function Po(i){const t=Fs(i)?i(this.$v):i;if(this.$ch(this.$v,t)&&(this.$v=t,this.$o))for(let e=0;e<this.$o.length;e++)Oo(this.$o[e],Pe);return this.$v}const Bn=function(){this[lt]=null,this.$ns=null,this.$ps=null,ft&&ft.append(this)},Jt=Bn.prototype;Jt.$cx=Vn;Jt.$eh=null;Jt.$c=null;Jt.$d=null;Jt.append=function(i){if(i[lt]=this,i.$ps=this,this.$ns)if(i.$ns){let t=i.$ns;for(;t.$ns;)t=t.$ns;t.$ns=this.$ns,this.$ns.$ps=t}else i.$ns=this.$ns,this.$ns.$ps=i;this.$ns=i,i.$cx=i.$cx===Vn?this.$cx:{...this.$cx,...i.$cx},this.$eh&&(i.$eh=i.$eh?[...i.$eh,...this.$eh]:this.$eh)};Jt.dispose=function(){qe.call(this)};function rs(){return new Bn}const Co=function(t,e,s){Bn.call(this),this.$st=e?Pe:be,this.$i=!1,this.$e=!1,this.$s=null,this.$o=null,this.$v=t,e&&(this.$c=e),s&&s.dirty&&(this.$ch=s.dirty)},zn=Co.prototype;Object.setPrototypeOf(zn,Jt);zn.$ch=ec;zn.call=Wn;function Kn(i,t,e){return new Co(i,t,e)}function ec(i,t){return i!==t}function Fs(i){return typeof i=="function"}function Qn(i){if(i.$st===To)for(let t=0;t<i.$s.length&&(Qn(i.$s[t]),i.$st!==Pe);t++);i.$st===Pe?_o(i):i.$st=be}function Fr(i){i.$ns&&i.$ns[lt]===i&&qe.call(i,!1),i.$d&&So(i),i.$eh=i[lt]?i[lt].$eh:null}function _o(i){let t=ot,e=G;ot=null,G=0;try{Fr(i);const s=He(i,i.$c,i);if(ot){if(i.$s&&ts(i,G),i.$s&&G>0){i.$s.length=G+ot.length;for(let a=0;a<ot.length;a++)i.$s[G+a]=ot[a]}else i.$s=ot;let n;for(let a=G;a<i.$s.length;a++)n=i.$s[a],n.$o?n.$o.push(i):n.$o=[i]}else i.$s&&G<i.$s.length&&(ts(i,G),i.$s.length=G);!i.$e&&i.$i?Po.call(i,s):(i.$v=s,i.$i=!0)}catch(s){Un(i,s),i.$st===Pe&&(Fr(i),i.$s&&ts(i,0));return}ot=t,G=e,i.$st=be}function Oo(i,t){if(!(i.$st>=t)&&(i.$e&&i.$st===be&&(te.push(i),as||Jh()),i.$st=t,i.$o))for(let e=0;e<i.$o.length;e++)Oo(i.$o[e],To)}function ts(i,t){let e,s;for(let n=t;n<i.$s.length;n++)e=i.$s[n],e.$o&&(s=e.$o.indexOf(i),e.$o[s]=e.$o[e.$o.length-1],e.$o.pop())}function Yn(...i){}function Dt(i){return i===null}function st(i){return typeof i>"u"}function Pp(i){return Dt(i)||st(i)}function Cp(i){return(i==null?void 0:i.constructor)===Object}function os(i){return typeof i=="number"&&!Number.isNaN(i)}function D(i){return typeof i=="string"}function _p(i){return typeof i=="boolean"}function mt(i){return typeof i=="function"}function ht(i){return Array.isArray(i)}var Vr;const sc=Event,Lo=Symbol("DOM_EVENT");class R extends sc{constructor(t,...e){var n,a;super(t,e[0]),this[Vr]=!0,this.triggers=new ic,this.detail=(n=e[0])==null?void 0:n.detail;const s=(a=e[0])==null?void 0:a.trigger;s&&this.triggers.add(s)}get trigger(){return this.triggers.source}get originEvent(){return this.triggers.origin}get isOriginTrusted(){var t;return((t=this.triggers.origin)==null?void 0:t.isTrusted)??!1}}Vr=Lo;class ic{constructor(){this.chain=[]}get source(){return this.chain[0]}get origin(){return this.chain[this.chain.length-1]}add(t){this.chain.push(t),nc(t)&&this.chain.push(...t.triggers)}remove(t){return this.chain.splice(this.chain.indexOf(t),1)[0]}has(t){return this.chain.some(e=>e===t)}hasType(t){return!!this.findType(t)}findType(t){return this.chain.find(e=>e.type===t)}walk(t){for(const e of this.chain){const s=t(e);if(s)return[e,s]}}[Symbol.iterator](){return this.chain.values()}}function nc(i){return!!(i!=null&&i[Lo])}class Xn extends EventTarget{addEventListener(t,e,s){return super.addEventListener(t,e,s)}removeEventListener(t,e,s){return super.removeEventListener(t,e,s)}}function b(i,t,e,s){return i.addEventListener(t,e,s),S(()=>i.removeEventListener(t,e,s))}function Ur(i){return!!(i!=null&&i.type.startsWith("pointer"))}function es(i){return!!(i!=null&&i.type.startsWith("touch"))}function ac(i){return/^(click|mouse)/.test((i==null?void 0:i.type)??"")}function hs(i){return!!(i!=null&&i.type.startsWith("key"))}function jo(i){return hs(i)&&(i.key==="Enter"||i.key===" ")}function g(i,t,e){if(i)if(!e&&e!==""&&e!==0)i.removeAttribute(t);else{const s=e===!0?"":e+"";i.getAttribute(t)!==s&&i.setAttribute(t,s)}else return}function J(i,t,e){if(i)!e&&e!==0?i.style.removeProperty(t):i.style.setProperty(t,e+"");else return}function E(i,t){const e=Kn(i,null,t),s=Wn.bind(e);return s[lt]=!0,s.set=Po.bind(e),s}function rc(i){return Fs(i)&&lt in i}function U(i,t){const e=Kn(t==null?void 0:t.initial,i,t),s=Wn.bind(e);return s[lt]=!0,s}function oc(i,t){const e=Kn(null,function(){let n=i();return Fs(n)&&S(n),null},void 0);return e.$e=!0,_o(e),qe.bind(e,!0)}function hc(i){return rc(i)&&"set"in i}const l=oc;function It(i){return{id:Symbol(),provide:i}}function ut(i,t,e=Hs()){var n;const s=!st(t);tc(i.id,s?t:(n=i.provide)==null?void 0:n.call(i),e)}function I(i){return Eo(i.id)}function wt(i){return!st(Eo(i.id))}const xe=Symbol(0),Te=Symbol(0),No=Symbol(0);var Wr;const ii={};class cc{constructor(t,e,s){var r;this[Wr]=null,this.$el=E(null),this.a=null,this.d=null,this.f=null,this.g=null,this.e=null,this.o=!1,this.i=ii,this.b=null,this.c=null,this.l=[],this.m=[],this.j=[],this.n=[],this.d=e,s!=null&&s.scope&&s.scope.append(e);let n=t.state,a=t.props;if(n&&(this.h=n.create(),this.k=new Proxy(this.h,{get:(h,o)=>this.h[o]()}),ut(n,this.h)),a&&(this.i=lc(a),s!=null&&s.props))for(const h of Object.keys(s.props))(r=this.i[h])==null||r.set(s.props[h]);S(this.p.bind(this))}w(){K(()=>{for(const t of this.l)t()},this.d)}x(t){this.a||(this.a=t,this.$el.set(t),K(()=>{this.f=rs(),K(()=>{for(const e of this.m)e(this.a);this.q(),this.r()},this.f)},this.d),t.dispatchEvent(new Event("attached")))}s(){var t;(t=this.f)==null||t.dispose(),this.f=null,this.g=null,this.a=null,this.$el.set(null)}y(){!this.a||!this.f||!this.j.length||K(()=>{this.g=rs(),K(()=>{for(const t of this.j)t(this.a)},this.g)},this.f)}z(){var t;(t=this.g)==null||t.dispose(),this.g=null}p(){if(this.o)return;this.o=!0,K(()=>{for(const e of this.n)e(this.a)},this.d);const t=this.a;this.s(),this.d.dispose(),this.l.length=0,this.m.length=0,this.j.length=0,this.n.length=0,this.e=null,this.b=null,this.c=null,this.i=ii,this.d=null,this.k=ii,this.h=null,t&&delete t.$}t(t){t.onSetup&&this.l.push(t.onSetup.bind(t)),t.onAttach&&this.m.push(t.onAttach.bind(t)),t.onConnect&&this.j.push(t.onConnect.bind(t)),t.onDestroy&&this.n.push(t.onDestroy.bind(t))}q(){if(this.b)for(const t of Object.keys(this.b))mt(this.b[t])?l(this.u.bind(this,t)):g(this.a,t,this.b[t])}r(){if(this.c)for(const t of Object.keys(this.c))mt(this.c[t])?l(this.v.bind(this,t)):J(this.a,t,this.c[t])}u(t){g(this.a,t,this.b[t].call(this.e))}v(t){J(this.a,t,this.c[t].call(this.e))}}Wr=No;function lc(i){const t={};for(const e of Object.keys(i)){const s=i[e];t[e]=E(s,s)}return t}let ke={$$:null};function uc(i,t){return Ao(()=>{ke.$$=new cc(i,Hs(),t);const e=new i;return ke.$$.e=e,ke.$$=null,e})}class bt extends EventTarget{constructor(){super(),ke.$$&&this.attach(ke)}get el(){return this.$$.a}get $el(){return this.$$.$el()}get scope(){return this.$$.d}get attachScope(){return this.$$.f}get connectScope(){return this.$$.g}get $props(){return this.$$.i}get $state(){return this.$$.h}get state(){return this.$$.k}attach({$$:t}){return this.$$=t,t.t(this),this}addEventListener(t,e,s){this.listen(t,e,s)}removeEventListener(t,e,s){var n;(n=this.el)==null||n.removeEventListener(t,e,s)}setAttributes(t){this.$$.b||(this.$$.b={}),Object.assign(this.$$.b,t)}setStyles(t){this.$$.c||(this.$$.c={}),Object.assign(this.$$.c,t)}setCSSVars(t){this.setStyles(t)}createEvent(t,...e){return new R(t,e[0])}dispatch(t,...e){if(!this.el)return!1;const s=t instanceof Event?t:new R(t,e[0]);return Object.defineProperty(s,"target",{get:()=>this.$$.e}),Gh(()=>{var n,a;return(a=(n=this.$$)[No])==null||a.call(n,s),this.el.dispatchEvent(s)})}dispatchEvent(t){return this.dispatch(t)}listen(t,e,s){return this.el?b(this.el,t,e,s):Yn}}class w extends bt{subscribe(t){return K(()=>l(()=>t(this.state)),this.$$.d)}destroy(){this.$$.p()}}function A(i,t,e){i[xe]||(i[xe]=new Set),i[xe].add(t)}function H(i,t,e){i[Te]||(i[Te]=new Set),i[Te].add(t)}class Zt{constructor(t){this.id=Symbol(0),this.record=t,this.A=Object.getOwnPropertyDescriptors(t)}create(){const t={},e=new Proxy(t,{get:(s,n)=>t[n]()});for(const s of Object.keys(this.record)){const n=this.A[s].get;t[s]=n?U(n.bind(e)):E(this.record[s])}return t}reset(t,e){for(const s of Object.keys(t))!this.A[s].get&&(!e||e(s))&&t[s].set(this.record[s])}}function Fe(i){return I(i)}function dc(i,t){for(const e of i)e(t)}function Jn(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Do(i){return i.replace(/-./g,t=>t[1].toUpperCase())}function pc(i){return i.charAt(0).toUpperCase()+i.slice(1)}function Ce(i){return mt(i)?i():i}function cs(i){return i?"true":"false"}function Io(){const i=new Set;return{add(...t){for(const e of t)i.add(e)},empty(){for(const t of i)t();i.clear()}}}function Op(){const i=Io();return S(i.empty),i}function bi(){let i,t;return{promise:new Promise((s,n)=>{i=s,t=n}),resolve:i,reject:t}}function fc(i){return new Promise(t=>setTimeout(t,i))}function Rt(i){let t=-1,e;function s(...n){e=n,!(t>=0)&&(t=window.requestAnimationFrame(()=>{i.apply(this,e),t=-1,e=void 0}))}return s}const mc=typeof window<"u"?"requestIdleCallback"in window?window.requestIdleCallback:i=>window.setTimeout(i,1):Yn;function bc(i,t){return new Promise(e=>{mc(s=>{i==null||i(s),e()},t)})}const gi=Math.min,ie=Math.max,ls=Math.round,Ye=Math.floor,Ot=i=>({x:i,y:i});function Ro(i){return i.split("-")[0]}function gc(i){return i.split("-")[1]}function $c(i){return i==="x"?"y":"x"}function yc(i){return i==="y"?"height":"width"}function Mo(i){return["top","bottom"].includes(Ro(i))?"y":"x"}function vc(i){return $c(Mo(i))}function qo(i){return{...i,top:i.y,left:i.x,right:i.x+i.width,bottom:i.y+i.height}}function Br(i,t,e){let{reference:s,floating:n}=i;const a=Mo(t),r=vc(t),h=yc(r),o=Ro(t),c=a==="y",u=s.x+s.width/2-n.width/2,d=s.y+s.height/2-n.height/2,p=s[h]/2-n[h]/2;let f;switch(o){case"top":f={x:u,y:s.y-n.height};break;case"bottom":f={x:u,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:d};break;case"left":f={x:s.x-n.width,y:d};break;default:f={x:s.x,y:s.y}}switch(gc(t)){case"start":f[r]-=p*(e&&c?-1:1);break;case"end":f[r]+=p*(e&&c?-1:1);break}return f}const wc=async(i,t,e)=>{const{placement:s="bottom",strategy:n="absolute",middleware:a=[],platform:r}=e,h=a.filter(Boolean),o=await(r.isRTL==null?void 0:r.isRTL(t));let c=await r.getElementRects({reference:i,floating:t,strategy:n}),{x:u,y:d}=Br(c,s,o),p=s,f={},T=0;for(let x=0;x<h.length;x++){const{name:F,fn:C}=h[x],{x:at,y:Mt,data:Ke,reset:$t}=await C({x:u,y:d,initialPlacement:s,placement:p,strategy:n,middlewareData:f,rects:c,platform:r,elements:{reference:i,floating:t}});if(u=at??u,d=Mt??d,f={...f,[F]:{...f[F],...Ke}},$t&&T<=50){T++,typeof $t=="object"&&($t.placement&&(p=$t.placement),$t.rects&&(c=$t.rects===!0?await r.getElementRects({reference:i,floating:t,strategy:n}):$t.rects),{x:u,y:d}=Br(c,p,o)),x=-1;continue}}return{x:u,y:d,placement:p,strategy:n,middlewareData:f}};function Lt(i){return Ho(i)?(i.nodeName||"").toLowerCase():"#document"}function it(i){var t;return(i==null||(t=i.ownerDocument)==null?void 0:t.defaultView)||window}function Et(i){var t;return(t=(Ho(i)?i.ownerDocument:i.document)||window.document)==null?void 0:t.documentElement}function Ho(i){return i instanceof Node||i instanceof it(i).Node}function At(i){return i instanceof Element||i instanceof it(i).Element}function vt(i){return i instanceof HTMLElement||i instanceof it(i).HTMLElement}function zr(i){return typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof it(i).ShadowRoot}function Ve(i){const{overflow:t,overflowX:e,overflowY:s,display:n}=dt(i);return/auto|scroll|overlay|hidden|clip/.test(t+s+e)&&!["inline","contents"].includes(n)}function xc(i){return["table","td","th"].includes(Lt(i))}function Zn(i){const t=Gn(),e=dt(i);return e.transform!=="none"||e.perspective!=="none"||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(e.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(e.contain||"").includes(s))}function Tc(i){let t=re(i);for(;vt(t)&&!Vs(t);){if(Zn(t))return t;t=re(t)}return null}function Gn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vs(i){return["html","body","#document"].includes(Lt(i))}function dt(i){return it(i).getComputedStyle(i)}function Us(i){return At(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function re(i){if(Lt(i)==="html")return i;const t=i.assignedSlot||i.parentNode||zr(i)&&i.host||Et(i);return zr(t)?t.host:t}function Fo(i){const t=re(i);return Vs(t)?i.ownerDocument?i.ownerDocument.body:i.body:vt(t)&&Ve(t)?t:Fo(t)}function _e(i,t,e){var s;t===void 0&&(t=[]),e===void 0&&(e=!0);const n=Fo(i),a=n===((s=i.ownerDocument)==null?void 0:s.body),r=it(n);return a?t.concat(r,r.visualViewport||[],Ve(n)?n:[],r.frameElement&&e?_e(r.frameElement):[]):t.concat(n,_e(n,[],e))}function Vo(i){const t=dt(i);let e=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const n=vt(i),a=n?i.offsetWidth:e,r=n?i.offsetHeight:s,h=ls(e)!==a||ls(s)!==r;return h&&(e=a,s=r),{width:e,height:s,$:h}}function ta(i){return At(i)?i:i.contextElement}function ne(i){const t=ta(i);if(!vt(t))return Ot(1);const e=t.getBoundingClientRect(),{width:s,height:n,$:a}=Vo(t);let r=(a?ls(e.width):e.width)/s,h=(a?ls(e.height):e.height)/n;return(!r||!Number.isFinite(r))&&(r=1),(!h||!Number.isFinite(h))&&(h=1),{x:r,y:h}}const kc=Ot(0);function Uo(i){const t=it(i);return!Gn()||!t.visualViewport?kc:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ac(i,t,e){return t===void 0&&(t=!1),!e||t&&e!==it(i)?!1:t}function Wt(i,t,e,s){t===void 0&&(t=!1),e===void 0&&(e=!1);const n=i.getBoundingClientRect(),a=ta(i);let r=Ot(1);t&&(s?At(s)&&(r=ne(s)):r=ne(i));const h=Ac(a,e,s)?Uo(a):Ot(0);let o=(n.left+h.x)/r.x,c=(n.top+h.y)/r.y,u=n.width/r.x,d=n.height/r.y;if(a){const p=it(a),f=s&&At(s)?it(s):s;let T=p.frameElement;for(;T&&s&&f!==p;){const x=ne(T),F=T.getBoundingClientRect(),C=dt(T),at=F.left+(T.clientLeft+parseFloat(C.paddingLeft))*x.x,Mt=F.top+(T.clientTop+parseFloat(C.paddingTop))*x.y;o*=x.x,c*=x.y,u*=x.x,d*=x.y,o+=at,c+=Mt,T=it(T).frameElement}}return qo({width:u,height:d,x:o,y:c})}function Ec(i){let{rect:t,offsetParent:e,strategy:s}=i;const n=vt(e),a=Et(e);if(e===a)return t;let r={scrollLeft:0,scrollTop:0},h=Ot(1);const o=Ot(0);if((n||!n&&s!=="fixed")&&((Lt(e)!=="body"||Ve(a))&&(r=Us(e)),vt(e))){const c=Wt(e);h=ne(e),o.x=c.x+e.clientLeft,o.y=c.y+e.clientTop}return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-r.scrollLeft*h.x+o.x,y:t.y*h.y-r.scrollTop*h.y+o.y}}function Sc(i){return Array.from(i.getClientRects())}function Wo(i){return Wt(Et(i)).left+Us(i).scrollLeft}function Pc(i){const t=Et(i),e=Us(i),s=i.ownerDocument.body,n=ie(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=ie(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let r=-e.scrollLeft+Wo(i);const h=-e.scrollTop;return dt(s).direction==="rtl"&&(r+=ie(t.clientWidth,s.clientWidth)-n),{width:n,height:a,x:r,y:h}}function Cc(i,t){const e=it(i),s=Et(i),n=e.visualViewport;let a=s.clientWidth,r=s.clientHeight,h=0,o=0;if(n){a=n.width,r=n.height;const c=Gn();(!c||c&&t==="fixed")&&(h=n.offsetLeft,o=n.offsetTop)}return{width:a,height:r,x:h,y:o}}function _c(i,t){const e=Wt(i,!0,t==="fixed"),s=e.top+i.clientTop,n=e.left+i.clientLeft,a=vt(i)?ne(i):Ot(1),r=i.clientWidth*a.x,h=i.clientHeight*a.y,o=n*a.x,c=s*a.y;return{width:r,height:h,x:o,y:c}}function Kr(i,t,e){let s;if(t==="viewport")s=Cc(i,e);else if(t==="document")s=Pc(Et(i));else if(At(t))s=_c(t,e);else{const n=Uo(i);s={...t,x:t.x-n.x,y:t.y-n.y}}return qo(s)}function Bo(i,t){const e=re(i);return e===t||!At(e)||Vs(e)?!1:dt(e).position==="fixed"||Bo(e,t)}function Oc(i,t){const e=t.get(i);if(e)return e;let s=_e(i,[],!1).filter(h=>At(h)&&Lt(h)!=="body"),n=null;const a=dt(i).position==="fixed";let r=a?re(i):i;for(;At(r)&&!Vs(r);){const h=dt(r),o=Zn(r);!o&&h.position==="fixed"&&(n=null),(a?!o&&!n:!o&&h.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||Ve(r)&&!o&&Bo(i,r))?s=s.filter(u=>u!==r):n=h,r=re(r)}return t.set(i,s),s}function Lc(i){let{element:t,boundary:e,rootBoundary:s,strategy:n}=i;const r=[...e==="clippingAncestors"?Oc(t,this._c):[].concat(e),s],h=r[0],o=r.reduce((c,u)=>{const d=Kr(t,u,n);return c.top=ie(d.top,c.top),c.right=gi(d.right,c.right),c.bottom=gi(d.bottom,c.bottom),c.left=ie(d.left,c.left),c},Kr(t,h,n));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}}function jc(i){return Vo(i)}function Nc(i,t,e){const s=vt(t),n=Et(t),a=e==="fixed",r=Wt(i,!0,a,t);let h={scrollLeft:0,scrollTop:0};const o=Ot(0);if(s||!s&&!a)if((Lt(t)!=="body"||Ve(n))&&(h=Us(t)),s){const c=Wt(t,!0,a,t);o.x=c.x+t.clientLeft,o.y=c.y+t.clientTop}else n&&(o.x=Wo(n));return{x:r.left+h.scrollLeft-o.x,y:r.top+h.scrollTop-o.y,width:r.width,height:r.height}}function Qr(i,t){return!vt(i)||dt(i).position==="fixed"?null:t?t(i):i.offsetParent}function zo(i,t){const e=it(i);if(!vt(i))return e;let s=Qr(i,t);for(;s&&xc(s)&&dt(s).position==="static";)s=Qr(s,t);return s&&(Lt(s)==="html"||Lt(s)==="body"&&dt(s).position==="static"&&!Zn(s))?e:s||Tc(i)||e}const Dc=async function(i){let{reference:t,floating:e,strategy:s}=i;const n=this.getOffsetParent||zo,a=this.getDimensions;return{reference:Nc(t,await n(e),s),floating:{x:0,y:0,...await a(e)}}};function Ic(i){return dt(i).direction==="rtl"}const Rc={convertOffsetParentRelativeRectToViewportRelativeRect:Ec,getDocumentElement:Et,getClippingRect:Lc,getOffsetParent:zo,getElementRects:Dc,getClientRects:Sc,getDimensions:jc,getScale:ne,isElement:At,isRTL:Ic};function Mc(i,t){let e=null,s;const n=Et(i);function a(){clearTimeout(s),e&&e.disconnect(),e=null}function r(h,o){h===void 0&&(h=!1),o===void 0&&(o=1),a();const{left:c,top:u,width:d,height:p}=i.getBoundingClientRect();if(h||t(),!d||!p)return;const f=Ye(u),T=Ye(n.clientWidth-(c+d)),x=Ye(n.clientHeight-(u+p)),F=Ye(c),at={rootMargin:-f+"px "+-T+"px "+-x+"px "+-F+"px",threshold:ie(0,gi(1,o))||1};let Mt=!0;function Ke($t){const Gs=$t[0].intersectionRatio;if(Gs!==o){if(!Mt)return r();Gs?r(!1,Gs):s=setTimeout(()=>{r(!1,1e-7)},100)}Mt=!1}try{e=new IntersectionObserver(Ke,{...at,root:n.ownerDocument})}catch{e=new IntersectionObserver(Ke,at)}e.observe(i)}return r(!0),a}function qc(i,t,e,s){s===void 0&&(s={});const{ancestorScroll:n=!0,ancestorResize:a=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:o=!1}=s,c=ta(i),u=n||a?[...c?_e(c):[],..._e(t)]:[];u.forEach(C=>{n&&C.addEventListener("scroll",e,{passive:!0}),a&&C.addEventListener("resize",e)});const d=c&&h?Mc(c,e):null;let p=-1,f=null;r&&(f=new ResizeObserver(C=>{let[at]=C;at&&at.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{f&&f.observe(t)})),e()}),c&&!o&&f.observe(c),f.observe(t));let T,x=o?Wt(i):null;o&&F();function F(){const C=Wt(i);x&&(C.x!==x.x||C.y!==x.y||C.width!==x.width||C.height!==x.height)&&e(),x=C,T=requestAnimationFrame(F)}return e(),()=>{u.forEach(C=>{n&&C.removeEventListener("scroll",e),a&&C.removeEventListener("resize",e)}),d&&d(),f&&f.disconnect(),f=null,o&&cancelAnimationFrame(T)}}const Hc=(i,t,e)=>{const s=new Map,n={platform:Rc,...e},a={...n.platform,_c:s};return wc(i,t,{...n,platform:a})},ni=i=>i===null?"":i+"",Fc=i=>i===null?null:i+"",Vc=i=>i===null?0:Number(i),Ko=i=>i!==null,Uc=()=>null,Wc=i=>i===null?[]:JSON.parse(i),Bc=i=>i===null?{}:JSON.parse(i);function zc(i){if(i===null)return Fc;switch(typeof i){case"undefined":return ni;case"string":return ni;case"boolean":return Ko;case"number":return Vc;case"function":return Uc;case"object":return ht(i)?Wc:Bc;default:return ni}}const St=Symbol(0),Qo=Symbol(0),Ut=Symbol(0),Ht=Symbol(0);function v(i,t){var e,s,n;const r=class r extends i{constructor(...o){if(super(...o),this[s]=0,this[n]=null,this.keepAlive=!1,this.forwardKeepAlive=!0,this.$=K(()=>uc(t),null),this.$.$$.t(this),t.props){const c=this.$props,u=Object.getOwnPropertyDescriptors(this);for(const d of Object.keys(u))d in t.props&&(c[d].set(this[d]),delete this[d])}}static get observedAttributes(){var o;if(!this[St]&&t.props){const c=new Map;for(const u of Object.keys(t.props)){let d=(o=this.attrs)==null?void 0:o[u],p=D(d)?d:d&&(d==null?void 0:d.attr);p!==!1&&(p||(p=Jn(u)),c.set(p,{C:u,B:d&&!D(d)&&(d==null?void 0:d.converter)||zc(t.props[u])}))}this[St]=c}return this[St]?Array.from(this[St].keys()):[]}get scope(){return this.$.$$.d}get attachScope(){return this.$.$$.f}get connectScope(){return this.$.$$.g}get $props(){return this.$.$$.i}get $state(){return this.$.$$.h}get state(){return this.$.state}attributeChangedCallback(o,c,u){var f;const d=this.constructor;if(!d[St]){(f=super.attributeChangedCallback)==null||f.call(this,o,c,u);return}const p=d[St].get(o);p&&(this[p.C]=p.B(u))}connectedCallback(){var u;const o=(u=this.$)==null?void 0:u.$$;if(!o||o.o)return;if(this[Ut]!==2){Qc.call(this);return}if(!this.isConnected)return;this.hasAttribute("keep-alive")&&(this.keepAlive=!0),o.y(),ht(this[Ht])&&dc(this[Ht],this),this[Ht]=null;const c=super.connectedCallback;c&&K(()=>c.call(this),this.connectScope)}disconnectedCallback(){var u;const o=(u=this.$)==null?void 0:u.$$;if(!o||o.o)return;o.z();const c=super.disconnectedCallback;c&&c.call(this),!this.keepAlive&&!this.hasAttribute("keep-alive")&&setTimeout(()=>{requestAnimationFrame(()=>{this.isConnected||o.p()})},0)}[(e=St,s=Ut,n=Ht,Qo)](){const o=this.$.$$,c=this.constructor;if(o.o)return;const u=c[St];if(u)for(const d of this.attributes){let p=u.get(d.name);p&&p.B&&o.i[p.C].set(p.B(this.getAttribute(d.name)))}o.w(),o.x(this),this[Ut]=2,this.connectedCallback()}subscribe(o){return this.$.subscribe(o)}destroy(){this.disconnectedCallback(),this.$.destroy()}};r[e]=null;let a=r;return Kc(a,t),a}function Kc(i,t){const e=i.prototype,s=t.prototype;if(t.props)for(const n of Object.keys(t.props))Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get(){return this.$props[n]()},set(a){this.$props[n].set(a)}});if(s[xe])for(const n of s[xe])Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get(){return this.$[n]},set(a){this.$[n]=a}});if(s[Te])for(const n of s[Te])e[n]=function(...a){return this.$[n](...a)}}function Qc(){if(this[Ut]!==0)return;this[Ut]=1;const i=Xc(this),t=i&&window.customElements.get(i.localName),e=i&&i[Ut]===2;if(i&&(!t||!e)){Yc.call(this,i);return}Yo.call(this,i)}async function Yc(i){await window.customElements.whenDefined(i.localName),i[Ut]!==2&&await new Promise(t=>(i[Ht]??(i[Ht]=[])).push(t)),Yo.call(this,i)}function Yo(i){if(this.isConnected){if(i){i.keepAlive&&i.forwardKeepAlive&&(this.keepAlive=!0,this.setAttribute("keep-alive",""));const t=this.$.$$.d;t&&i.$.$$.f.append(t)}this[Qo]()}}function Xc(i){let t=i.parentNode,e=i.localName.split("-",1)[0]+"-";for(;t;){if(t.nodeType===1&&t.localName.startsWith(e))return t;t=t.parentNode}return null}function y(i,t=!1){(t||!window.customElements.get(i.tagName))&&window.customElements.define(i.tagName,i)}const Jc=Symbol(0),Zc=Symbol(0),Gc=Symbol(0),tl=Symbol(0),el=Symbol(0),sl=Symbol(0),il=Symbol(0),nl=Symbol(0),al=Symbol(0),O={oa:Jc,Yb:Zc,H:Gc,pa:tl,Zb:el,Mc:sl,ne:il,oe:nl,pe:al},rl=(navigator==null?void 0:navigator.userAgent.toLowerCase())||"",ol=/iphone|ipad|ipod|ios|crios|fxios/i.test(rl),Yr=/(iphone|ipod)/gi.test((navigator==null?void 0:navigator.platform)||""),Lp=!!window.chrome,hl=!!window.safari||ol;function Xo(){return cl()&&mt(screen.orientation.unlock)}function cl(){return!st(window.screen.orientation)&&!st(window.screen.orientation.lock)}function ll(i){return i||(i=document.createElement("video")),i.canPlayType("application/vnd.apple.mpegurl").length>0}function jp(i){return!!document.pictureInPictureEnabled&&!i.disablePictureInPicture}function Np(i){return mt(i==null?void 0:i.webkitSupportsPresentationMode)&&mt(i==null?void 0:i.webkitSetPresentationMode)}async function ul(){const i=document.createElement("video");return i.volume=.5,await fc(0),i.volume===.5}function dl(){return(window==null?void 0:window.MediaSource)??(window==null?void 0:window.WebKitMediaSource)}function pl(){return(window==null?void 0:window.SourceBuffer)??(window==null?void 0:window.WebKitSourceBuffer)}function Jo(){const i=dl();if(st(i))return!1;const t=i&&mt(i.isTypeSupported)&&i.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),e=pl(),s=st(e)||!st(e.prototype)&&mt(e.prototype.appendBuffer)&&mt(e.prototype.remove);return!!t&&!!s}var Xr;class Zo extends Xn{constructor(){super(...arguments),this.r=[],this[Xr]=!1}get length(){return this.r.length}get readonly(){return this[O.Zb]}toArray(){return[...this.r]}[(Xr=O.Zb,Symbol.iterator)](){return this.r.values()}[O.oa](t,e){const s=this.r.length;""+s in this||Object.defineProperty(this,s,{get(){return this.r[s]}}),!this.r.includes(t)&&(this.r.push(t),this.dispatchEvent(new R("add",{detail:t,trigger:e})))}[O.Yb](t,e){var n;const s=this.r.indexOf(t);s>=0&&((n=this[O.oe])==null||n.call(this,t,e),this.r.splice(s,1),this.dispatchEvent(new R("remove",{detail:t,trigger:e})))}[O.H](t){var e;for(const s of[...this.r])this[O.Yb](s,t);this.r=[],this[O.Mc](!1,t),(e=this[O.ne])==null||e.call(this)}[O.Mc](t,e){this[O.Zb]!==t&&(this[O.Zb]=t,this.dispatchEvent(new R("readonly-change",{detail:t,trigger:e})))}}class ai{get length(){return this.$.length}constructor(t,e){ht(t)?this.$=t:!st(t)&&!st(e)?this.$=[[t,e]]:this.$=[]}start(t){return this.$[t][0]??1/0}end(t){return this.$[t][1]??1/0}}function Jr(i){if(!i.length)return null;let t=i.start(0);for(let e=1;e<i.length;e++){const s=i.start(e);s<t&&(t=s)}return t}function Zr(i){if(!i.length)return null;let t=i.end(0);for(let e=1;e<i.length;e++){const s=i.end(e);s>t&&(t=s)}return t}const ea=new Zt({audioTracks:[],audioTrack:null,autoplay:!1,autoplayError:null,buffered:new ai,duration:0,canLoad:!1,canFullscreen:!1,canOrientScreen:Xo(),canPictureInPicture:!1,canPlay:!1,controls:!1,controlsVisible:!1,crossorigin:null,currentTime:0,ended:!1,error:null,fullscreen:!1,loop:!1,logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new ai,playing:!1,playsinline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,seekable:new ai,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,volume:1,waiting:!1,get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return this.providedViewType!=="unknown"?this.providedViewType:this.inferredViewType},get streamType(){return this.providedStreamType!=="unknown"?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){return Jr(this.buffered)??0},get bufferedEnd(){return Zr(this.buffered)??0},get seekableStart(){return Jr(this.seekable)??0},get seekableEnd(){return this.canPlay?Zr(this.seekable)??1/0:0},get seekableWindow(){return Math.max(0,this.seekableEnd-this.seekableStart)},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.seekableWindow)&&(!this.live||/:dvr/.test(this.streamType)&&this.seekableWindow>=this.minLiveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.duration)},get liveEdgeStart(){return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,(this.liveSyncPosition??this.seekableEnd)-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},autoplaying:!1,providedTitle:"",inferredTitle:"",providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null}),fl=new Set(["autoplay","canFullscreen","canLoad","canPictureInPicture","canSetVolume","controls","crossorigin","fullscreen","height","inferredViewType","logLevel","loop","mediaHeight","mediaType","mediaWidth","muted","orientation","pictureInPicture","playsinline","pointer","preload","providedPoster","providedStreamType","providedTitle","providedViewType","source","sources","textTrack","textTracks","volume","width"]);function ml(i){ea.reset(i,t=>!fl.has(t)),_t()}const Go=It();function $(){return I(Go)}const bl=eval,gl=/:\s+'?"?(.*?)'?"?\)/g,$l=/\s+not\s+/g,yl=/\s+and\s+/g,vl=/\s+or\s+/g,wl=/(\d)px/g,As=class As extends Xn{constructor(t,e){super(),this.ec=E("true"),this.Xc=new Set,this.Yc=E(!0),this.$matches=U(()=>{let s=this.ec();if(s==="never")return!1;for(const n of this.Xc){const a=this.Le[n](),r=D(a)?`'${a}'`:a+"";s=s.replace(Jn(n),r)}return bl(`!!(${s})`)&&this.Yc()}),this.Ke=e,this.Le=t,Ao(s=>{l(this.jg.bind(this)),l(this.kg.bind(this)),this.Me=s})}get query(){return Ce(this.Ke)}get matches(){return this.$matches()}jg(){const t=this.query;if(t==="")return;if(t==="never"){this.ec.set(t);return}const e=t.trim().split(/\s*,\s*/g),s=e.filter(a=>a.startsWith("@media")).join(","),n=e.filter(a=>!a.startsWith("@media"));if(s.length){const a=window.matchMedia(s.replace(/@media\s/g,"")),r=()=>void this.Yc.set(a.matches);r(),b(a,"change",r)}if(n.length){const a=this.lg(n),r=Object.keys(ea.record);for(const h of a.matchAll(/\(([-a-zA-Z]+)\s/g)){const o=Do(h[1]);r.includes(o)&&this.Xc.add(o)}this.ec.set(a)}return()=>{this.Xc.clear(),this.ec.set("true"),this.Yc.set(!0)}}kg(){this.$matches(),this.dispatchEvent(new Event("change"))}lg(t){return t.map(e=>"("+e.replace(gl,' == "$1")').replace($l,"!").replace(yl," && ").replace(vl," || ").replace(wl,"$1").trim()+")").join(" || ")}destroy(){this.Me()}};As.create=t=>{const e=$();return new As(e.$state,t)};let oe=As;function Dp(i,t){const e=new URLSearchParams;for(const s of Object.keys(t))e.set(s,t[s]+"");return i+"?"+e.toString()}function th(i,t="preconnect"){const e=document.querySelector(`link[href="${i}"]`);if(!Dt(e))return!0;const s=document.createElement("link");return s.rel=t,s.href=i,s.crossOrigin="true",document.head.append(s),!0}const Xe={};function Ip(i){if(Xe[i])return Xe[i].promise;const t=bi(),e=document.querySelector(`script[src="${i}"]`);if(!Dt(e))return t.resolve(),t.promise;const s=document.createElement("script");return s.src=i,s.onload=()=>{t.resolve(),delete Xe[i]},s.onerror=()=>{t.reject(),delete Xe[i]},setTimeout(()=>document.head.append(s),0),t.promise}function us(i){return i==="use-credentials"?"include":D(i)?"same-origin":void 0}const xl=Symbol(0),Tl=Symbol(0),kl=Symbol(0),Al=Symbol(0),El=Symbol(0),Sl=Symbol(0),Pl=Symbol(0),P={Sa:xl,M:Tl,Ta:kl,P:Al,Ua:El,T:Sl,te:Pl};function Cl(i,t){for(let e=0,s=i.length;e<s;e++)if(ds(i[e],t))return i[e];return null}function ds(i,t){return t>=i.startTime&&t<i.endTime}function Ws(i,t,e){let s=null;function n(){const a=D(t)?[t]:t,r=i.toArray().find(h=>a.includes(h.kind)&&h.mode==="showing");if(r!==s){if(!r){e(null),s=null;return}r.readyState==2?e(r):(e(null),r.addEventListener("load",()=>e(r),{once:!0})),s=r}}return n(),b(i,"mode-change",n)}var Gr,to,eo;class $i extends Xn{constructor(t){super(),this.id="",this.label="",this.language="",this.default=!1,this.P=!1,this.Va=0,this.I="disabled",this.ue={},this.ac=[],this.J=[],this.Wa=[],this[Gr]=0,this[to]=null,this[eo]=null;for(const e of Object.keys(t))this[e]=t[e];this.type||(this.type="vtt"),t.content?yt(()=>import("./prod.a087075c.js").then(e=>e.d),["./prod.a087075c.js","./entry.1510e103.js","./entry.d736548a.css"],import.meta.url).then(({parseText:e,VTTCue:s,VTTRegion:n})=>{t.type==="json"?this.ve(t.content,s,n):e(t.content,{type:t.type}).then(({cues:a,regions:r})=>{this.J=a,this.ac=r,this.M()})}):t.src||(this[P.M]=2)}static createId(t){return`id::${t.type}-${t.kind}-${t.src??t.label}`}get metadata(){return this.ue}get regions(){return this.ac}get cues(){return this.J}get activeCues(){return this.Wa}get readyState(){return this[P.M]}get mode(){return this.I}set mode(t){this.setMode(t)}addCue(t,e){var a;let s=0,n=this.J.length;for(s=0;s<n&&!(t.endTime<=this.J[s].startTime);s++);s===n?this.J.push(t):this.J.splice(s,0,t),(e==null?void 0:e.type)!=="cuechange"&&((a=this[P.T])==null||a.track.addCue(t)),this.dispatchEvent(new R("add-cue",{detail:t,trigger:e})),ds(t,this.Va)&&this[P.Ta](this.Va,e)}removeCue(t,e){var n;const s=this.J.indexOf(t);if(s>=0){const a=this.Wa.includes(t);this.J.splice(s,1),(n=this[P.T])==null||n.track.removeCue(t),this.dispatchEvent(new R("remove-cue",{detail:t,trigger:e})),a&&this[P.Ta](this.Va,e)}}setMode(t,e){var s;this.I!==t&&(this.I=t,t==="disabled"?(this.Wa=[],this.we()):this.readyState===2?this[P.Ta](this.Va,e):this.xe(),this.dispatchEvent(new R("mode-change",{detail:this,trigger:e})),(s=this[P.Ua])==null||s.call(this))}[(Gr=P.M,to=P.Ua,eo=P.T,P.Ta)](t,e){if(this.Va=t,this.mode==="disabled"||!this.J.length)return;const s=[];for(let a=0,r=this.J.length;a<r;a++){const h=this.J[a];ds(h,t)&&s.push(h)}let n=s.length!==this.Wa.length;if(!n){for(let a=0;a<s.length;a++)if(!this.Wa.includes(s[a])){n=!0;break}}this.Wa=s,n&&this.we(e)}[P.P](){this.P=!0,this.I!=="disabled"&&this.xe()}async xe(){var t,e;if(!(!this.P||!this.src||this[P.M]>0)){this[P.M]=1,this.dispatchEvent(new R("load-start"));try{const{parseResponse:s,VTTCue:n,VTTRegion:a}=await yt(()=>import("./prod.a087075c.js").then(o=>o.d),["./prod.a087075c.js","./entry.1510e103.js","./entry.d736548a.css"],import.meta.url),r=(t=this[P.Sa])==null?void 0:t.call(this),h=fetch(this.src,{headers:this.type==="json"?{"Content-Type":"application/json"}:void 0,credentials:us(r)});if(this.type==="json")this.ve(await(await h).text(),n,a);else{const{errors:o,metadata:c,regions:u,cues:d}=await s(h,{type:this.type,encoding:this.encoding});if(((e=o[0])==null?void 0:e.code)===0)throw o[0];this.ue=c,this.ac=u,this.J=d}this.M()}catch(s){this.ye(s)}}}M(){var e;if(this[P.M]=2,!this.src||this.type!=="vtt"){const s=(e=this[P.T])==null?void 0:e.track;if(s)for(const n of this.J)s.addCue(n)}const t=new R("load");this[P.Ta](this.Va,t),this.dispatchEvent(t)}ye(t){this[P.M]=3,this.dispatchEvent(new R("error",{detail:t}))}ve(t,e,s){try{const{regions:n,cues:a}=eh(t,e,s);this.ac=n,this.J=a}catch(n){this.ye(n)}}we(t){this.dispatchEvent(new R("cue-change",{trigger:t}))}}const _l=/captions|subtitles/;function z(i){return _l.test(i.kind)}function eh(i,t,e){const s=JSON.parse(i);let n=[],a=[];return s.regions&&e&&(n=s.regions.map(r=>Object.assign(new e,r))),(s.cues||ht(s))&&(a=(ht(s)?s:s.cues).filter(r=>os(r.startTime)&&os(r.endTime)).map(r=>Object.assign(new t(0,0,""),r))),{regions:n,cues:a}}function _(i,t,e){i.hasAttribute(t)||i.setAttribute(t,e)}function ge(i,t){if(i.hasAttribute("aria-label"))return;function e(){g(i,"aria-label",t())}l(e)}function sh(i,t,e){for(;t;){if(t===i)return!0;if(e!=null&&e(t))break;t=t.parentElement}return!1}function Bt(i,t){b(i,"pointerup",e=>{e.button===0&&t(e)}),b(i,"keydown",e=>{jo(e)&&t(e)})}function sa(i){return es(i)&&(i.touches.length>1||i.changedTouches.length>1)}function zt(i){let t=Hs(),e=window.requestAnimationFrame(()=>{K(i,t),e=-1});return()=>void window.cancelAnimationFrame(e)}function ih(i,t,e){let s,n=i,a=i.parentElement,r=i.content.firstElementChild,h=[];!r&&i.firstElementChild&&(i.innerHTML=i.firstElementChild.outerHTML,i.firstElementChild.remove(),r=i.content.firstElementChild);for(let o=0;o<t;o++)s=document.importNode(r,!0),e==null||e(s,o),a.insertBefore(s,n.nextSibling),h.push(s),n=s;return S(()=>{for(let o=0;o<h.length;o++)h[o].remove()}),h}function nh(i){const t=document.createElement("template");return t.innerHTML=i,t.content}function ah(i){return i.cloneNode(!0).firstElementChild}function rh(i,t,e,{offsetVarName:s,xOffset:n,yOffset:a,...r}){if(!i)return;const h=e.replace(" ","-").replace("-center","");if(J(i,"visibility",t?null:"hidden"),!t)return;const o=c=>e.includes("top")?`calc(-1 * ${c})`:c;return qc(t,i,()=>{Hc(t,i,{placement:h,...r}).then(({x:c,y:u})=>{Object.assign(i.style,{top:`calc(${u+"px"} + ${o(a?a+"px":`var(--${s}-y-offset, 0px)`)})`,left:`calc(${c+"px"} + ${n?n+"px":`var(--${s}-x-offset, 0px)`})`})})})}function Ol(i){return getComputedStyle(i).animationName!=="none"}const Ll=Symbol(0),jl=Symbol(0),Gt={Ya:Ll,Za:jl};function ri(i){return i instanceof Error?i:Error(JSON.stringify(i))}const Nl=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,Dl=new Set(["audio/mpeg","audio/ogg","audio/3gp","audio/mp4","audio/webm","audio/flac"]),Il=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,Rl=new Set(["video/mp4","video/webm","video/3gp","video/ogg","video/avi","video/mpeg"]),Ml=/\.(m3u8)($|\?)/i,ql=new Set(["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]);function ia({src:i,type:t}){return D(i)&&Ml.test(i)||ql.has(t)}function Rp(i){return typeof window.MediaStream<"u"&&i instanceof window.MediaStream}function Q(i,t=2){return Number(i.toFixed(t))}function Hl(i){var t;return((t=String(i).split(".")[1])==null?void 0:t.length)??0}function na(i,t,e){return Math.max(i,Math.min(e,t))}var Z={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},so=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],io=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],no=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],Y=typeof window<"u"&&typeof window.document<"u"?window.document:{},rt="fullscreenEnabled"in Y&&Object.keys(Z)||so[0]in Y&&so||io[0]in Y&&io||no[0]in Y&&no||[],Fl={requestFullscreen:function(i){return i[rt[Z.requestFullscreen]]()},requestFullscreenFunction:function(i){return i[rt[Z.requestFullscreen]]},get exitFullscreen(){return Y[rt[Z.exitFullscreen]].bind(Y)},get fullscreenPseudoClass(){return":"+rt[Z.fullscreen]},addEventListener:function(i,t,e){return Y.addEventListener(rt[Z[i]],t,e)},removeEventListener:function(i,t,e){return Y.removeEventListener(rt[Z[i]],t,e)},get fullscreenEnabled(){return!!Y[rt[Z.fullscreenEnabled]]},set fullscreenEnabled(i){},get fullscreenElement(){return Y[rt[Z.fullscreenElement]]},set fullscreenElement(i){},get onfullscreenchange(){return Y[("on"+rt[Z.fullscreenchange]).toLowerCase()]},set onfullscreenchange(i){return Y[("on"+rt[Z.fullscreenchange]).toLowerCase()]=i},get onfullscreenerror(){return Y[("on"+rt[Z.fullscreenerror]).toLowerCase()]},set onfullscreenerror(i){return Y[("on"+rt[Z.fullscreenerror]).toLowerCase()]=i}},Ft=Fl;const ps=Ft.fullscreenEnabled;class Vl extends bt{constructor(){super(...arguments),this.ub=!1,this.Nc=!1}get active(){return this.Nc}get supported(){return ps}onConnect(){b(Ft,"fullscreenchange",this.Oc.bind(this)),b(Ft,"fullscreenerror",this._b.bind(this)),S(this.ya.bind(this))}async ya(){ps&&await this.exit()}Oc(t){const e=oi(this.el);e!==this.Nc&&(e||(this.ub=!1),this.Nc=e,this.dispatch("fullscreen-change",{detail:e,trigger:t}))}_b(t){this.ub&&(this.dispatch("fullscreen-error",{detail:null,trigger:t}),this.ub=!1)}async enter(){try{return this.ub=!0,!this.el||oi(this.el)?void 0:(ao(),Ft.requestFullscreen(this.el))}catch(t){throw this.ub=!1,t}}async exit(){if(!(!this.el||!oi(this.el)))return ao(),Ft.exitFullscreen()}}function Ul(){return ps}function oi(i){if(Ft.fullscreenElement===i)return!0;try{return i.matches(Ft.fullscreenPseudoClass)}catch{return!1}}function ao(){if(!ps)throw Error("[vidstack] no fullscreen API")}const Es=class Es extends bt{constructor(){super(...arguments),this.vb=E(this.qe()),this.Ra=E(!1)}get type(){return this.vb()}get locked(){return this.Ra()}get portrait(){return this.vb().startsWith("portrait")}get landscape(){return this.vb().startsWith("landscape")}get supported(){return Es.supported}onConnect(){if(this.supported)b(screen.orientation,"change",this.re.bind(this));else{const t=window.matchMedia("(orientation: landscape)");t.onchange=this.re.bind(this),S(()=>t.onchange=null)}S(this.ya.bind(this))}async ya(){this.supported&&this.Ra()&&await this.unlock()}re(t){this.vb.set(this.qe()),this.dispatch("orientation-change",{detail:{orientation:m(this.vb),lock:this.$b},trigger:t})}async lock(t){m(this.Ra)||this.$b===t||(this.se(),await screen.orientation.lock(t),this.Ra.set(!0),this.$b=t)}async unlock(){m(this.Ra)&&(this.se(),this.$b=void 0,await screen.orientation.unlock(),this.Ra.set(!1))}se(){if(!this.supported)throw Error("[vidstack] no orientation API")}qe(){return this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"}};Es.supported=Xo();let fs=Es;class Wl{constructor(t=void 0){this.tb=t,this.A=null,this.aa=null,this.Pc=-1}setTarget(t){this.A=t}getPlayer(t){var e;return this.aa?this.aa:((e=t??this.A)==null||e.dispatchEvent(new R("find-media-player",{detail:s=>void(this.aa=s),bubbles:!0,composed:!0})),this.aa)}setPlayer(t){this.aa=t}startLoading(t){this.s("media-start-loading",t)}play(t){this.s("media-play-request",t)}pause(t){this.s("media-pause-request",t)}mute(t){this.s("media-mute-request",t)}unmute(t){this.s("media-unmute-request",t)}enterFullscreen(t,e){this.s("media-enter-fullscreen-request",e,t)}exitFullscreen(t,e){this.s("media-exit-fullscreen-request",e,t)}lockScreenOrientation(t,e){this.s("media-orientation-lock-request",e,t)}unlockScreenOrientation(t){this.s("media-orientation-unlock-request",t)}enterPictureInPicture(t){this.s("media-enter-pip-request",t)}exitPictureInPicture(t){this.s("media-exit-pip-request",t)}seeking(t,e){this.s("media-seeking-request",e,t)}seek(t,e){this.s("media-seek-request",e,t)}seekToLiveEdge(t){this.s("media-live-edge-request",t)}changeVolume(t,e){this.s("media-volume-change-request",e,Math.max(0,Math.min(1,t)))}changeAudioTrack(t,e){this.s("media-audio-track-change-request",e,t)}changeQuality(t,e){this.s("media-quality-change-request",e,t)}requestAutoQuality(t){this.changeQuality(-1,t)}changeTextTrackMode(t,e,s){this.s("media-text-track-change-request",s,{index:t,mode:e})}changePlaybackRate(t,e){this.s("media-rate-change-request",e,t)}resumeControls(t){this.s("media-resume-controls-request",t)}pauseControls(t){this.s("media-pause-controls-request",t)}togglePaused(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.paused?this.play(t):this.pause(t))}toggleControls(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.controls.showing?e.controls.hide(0,t):e.controls.show(0,t))}toggleMuted(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.muted?this.unmute(t):this.mute(t))}toggleFullscreen(t,e){const s=this.getPlayer(e==null?void 0:e.target);s&&(s.state.fullscreen?this.exitFullscreen(t,e):this.enterFullscreen(t,e))}togglePictureInPicture(t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.pictureInPicture?this.exitPictureInPicture(t):this.enterPictureInPicture(t))}disableCaptions(t){const e=this.getPlayer(t==null?void 0:t.target);if(!e)return;const s=e.state.textTracks,n=e.state.textTrack;if(n){const a=s.indexOf(n);this.changeTextTrackMode(a,"disabled",t)}}toggleCaptions(t){const e=this.getPlayer(t==null?void 0:t.target);if(!e)return;const s=e.state.textTracks,n=e.state.textTrack;if(n){const a=s.indexOf(n);this.changeTextTrackMode(a,"disabled",t),this.Pc=a}else{let a=this.Pc;(!s[a]||!z(s[a]))&&(a=-1),a===-1&&(a=s.findIndex(r=>z(r)&&r.default)),a===-1&&(a=s.findIndex(r=>z(r))),a>=0&&this.changeTextTrackMode(a,"showing",t),this.Pc=-1}}s(t,e,s){var h,o;const n=new R(t,{bubbles:!0,composed:!0,detail:s,trigger:e});let a=(e==null?void 0:e.target)||null;a&&a instanceof w&&(a=a.el),a=!a||a===document||a===window||a===document.body||((h=this.aa)==null?void 0:h.el)&&a instanceof Node&&!this.aa.el.contains(a)?this.A??((o=this.getPlayer())==null?void 0:o.el):a??this.A,this.aa?this.aa.canPlayQueue.k(t,()=>a==null?void 0:a.dispatchEvent(n)):a==null||a.dispatchEvent(n)}za(t){}}class $e extends bt{}class Bl extends $e{constructor(){super(...arguments),this.Qc=-2,this.Xa=!1,this.ze=E(!1),this.Rc=E(!1),this.wb=null,this.defaultDelay=2e3}get hideOnMouseLeave(){const{hideControlsOnMouseLeave:t}=this.$props;return this.ze()||t()}set hideOnMouseLeave(t){this.ze.set(t)}get showing(){return this.$state.controlsVisible()}show(t=0,e){this.Sc(),this.Xa||this.bc(!0,t,e)}hide(t=this.defaultDelay,e){this.Sc(),this.Xa||this.bc(!1,t,e)}pause(t){this.Xa=!0,this.Sc(),this.bc(!0,0,t)}resume(t){this.Xa=!1,!this.$state.paused()&&this.bc(!1,this.defaultDelay,t)}onConnect(){l(this.bg.bind(this)),l(this.Tc.bind(this));const t=this.xb.bind(this),e=this.Aa.bind(this);this.listen("can-play",s=>this.show(0,s)),this.listen("play",t),this.listen("pause",e),this.listen("autoplay-fail",e)}bg(){const{started:t,pointer:e,paused:s}=this.$state;if(!t()||e()!=="fine")return;const n=this.hideOnMouseLeave;(!n||!this.Rc())&&l(()=>{s()||this.listen("pointermove",this.Ae.bind(this))}),n&&(this.listen("mouseenter",this.cg.bind(this)),this.listen("mouseleave",this.dg.bind(this)))}Tc(){const{paused:t,started:e,autoplayError:s}=this.$state;if(t()||s()&&!e())return;const n=this.Ae.bind(this);l(()=>{const a=this.$state.pointer(),r=a==="coarse",h=[r?"touchend":"pointerup","keydown"];for(const o of h)this.listen(o,n,{passive:!1})})}xb(t){this.show(0,t),this.hide(void 0,t)}Aa(t){this.show(0,t)}cg(t){this.Rc.set(!1),this.show(0,t),this.hide(void 0,t)}dg(t){this.Rc.set(!0),this.hide(0,t)}Sc(){window.clearTimeout(this.Qc),this.Qc=-1}Ae(t){var e;t.MEDIA_GESTURE||this.Xa||sa(t)||(hs(t)&&(t.key==="Escape"?((e=this.el)==null||e.focus(),this.wb=null):this.wb&&(t.preventDefault(),requestAnimationFrame(()=>{var s;(s=this.wb)==null||s.focus(),this.wb=null}))),this.show(0,t),this.hide(this.defaultDelay,t))}bc(t,e,s){if(e===0){this.B(t,s);return}this.Qc=window.setTimeout(()=>{this.scope&&this.B(t&&!this.Xa,s)},e)}B(t,e){var s;this.$state.controlsVisible()!==t&&(this.$state.controlsVisible.set(t),!t&&document.activeElement&&((s=this.el)!=null&&s.contains(document.activeElement))&&(this.wb=document.activeElement,requestAnimationFrame(()=>{var n;return(n=this.el)==null?void 0:n.focus()})),this.dispatch("controls-change",{detail:t,trigger:e}))}}class zl{constructor(){this.priority=0,this.Be=!0,this.m=null,this.z=null,this.yb=new Set}canRender(t,e){return!!e}attach(t){this.m=t,t&&(t.textTracks.onchange=this.B.bind(this))}addTrack(t){this.yb.add(t),this.eg(t)}removeTrack(t){var e,s;(s=(e=t[P.T])==null?void 0:e.remove)==null||s.call(e),t[P.T]=null,this.yb.delete(t)}changeTrack(t){const e=t==null?void 0:t[P.T];e&&e.track.mode!=="showing"&&(e.track.mode="showing"),this.z=t}setDisplay(t){this.Be=t,this.B()}detach(){this.m&&(this.m.textTracks.onchange=null);for(const t of this.yb)this.removeTrack(t);this.yb.clear(),this.m=null,this.z=null}eg(t){var s;if(!this.m)return;const e=t[s=P.T]??(t[s]=this.fg(t));e instanceof HTMLElement&&(this.m.append(e),e.track.mode=e.default?"showing":"hidden")}fg(t){const e=document.createElement("track"),s=t.default||t.mode==="showing",n=t.src&&t.type==="vtt";return e.id=t.id,e.src=n?t.src:"https://cdn.jsdelivr.net/npm/vidstack@next/empty.vtt",e.label=t.label,e.kind=t.kind,e.default=s,t.language&&(e.srclang=t.language),s&&!n&&this.Ce(t,e.track),e}Ce(t,e){var s;if(!(t.src&&t.type==="vtt"||(s=e.cues)!=null&&s.length))for(const n of t.cues)e.addCue(n)}B(t){var e;for(const s of this.yb){const n=(e=s[P.T])==null?void 0:e.track;if(!n)continue;if(!this.Be){n.mode="disabled";continue}const a=n.mode==="showing";a&&this.Ce(s,n),s.setMode(a?"showing":"disabled",t)}}}class Kl{constructor(t){this.a=t,this.m=null,this.cc=[],this.De=!1,this.ba=null,this.Ba=null;const e=t.textTracks;this.Uc=e,l(this.Vc.bind(this)),S(this.Ee.bind(this)),b(e,"add",this.Wc.bind(this)),b(e,"remove",this.gg.bind(this)),b(e,"mode-change",this.ea.bind(this))}Vc(){const{$state:t,$iosControls:e}=this.a;this.De=t.controls()||e(),this.ea()}add(t){this.cc.push(t),this.ea()}remove(t){t.detach(),this.cc.splice(this.cc.indexOf(t),1),this.ea()}Fe(t){requestAnimationFrame(()=>{if(this.m=t,t){this.ba=new zl,this.ba.attach(t);for(const e of this.Uc)this.Ge(e)}this.ea()})}Ge(t){var e;z(t)&&((e=this.ba)==null||e.addTrack(t))}hg(t){var e;z(t)&&((e=this.ba)==null||e.removeTrack(t))}Wc(t){this.Ge(t.detail)}gg(t){this.hg(t.detail)}ea(){var s,n,a,r,h,o,c;const t=this.Uc.selected;if(this.m&&(this.De||t!=null&&t[P.te])){(s=this.Ba)==null||s.changeTrack(null),(n=this.ba)==null||n.setDisplay(!0),(a=this.ba)==null||a.changeTrack(t);return}if((r=this.ba)==null||r.setDisplay(!1),(h=this.ba)==null||h.changeTrack(null),!t){(o=this.Ba)==null||o.changeTrack(null);return}const e=this.cc.sort((u,d)=>u.priority-d.priority).find(u=>u.canRender(t,this.m));this.Ba!==e&&((c=this.Ba)==null||c.detach(),e==null||e.attach(this.m),this.Ba=e??null),e==null||e.changeTrack(t)}Ee(){var t,e;(t=this.ba)==null||t.detach(),this.ba=null,(e=this.Ba)==null||e.detach(),this.Ba=null}}class Ql extends Zo{constructor(){super(...arguments),this.P=!1,this.dc={},this.Je=this.ig.bind(this)}get selected(){return this.r.find(e=>e.mode==="showing"&&z(e))??null}add(t,e){const s=t instanceof $i,n=s?t:new $i(t);return this.dc[t.kind]&&t.default&&delete t.default,n.addEventListener("mode-change",this.Je),this[O.oa](n,e),n[P.Sa]=this[P.Sa],this.P&&n[P.P](),t.default&&(this.dc[t.kind]=n,n.mode="showing"),this}remove(t,e){if(this.r.includes(t))return t===this.dc[t.kind]&&delete this.dc[t.kind],t.mode="disabled",t[P.Ua]=null,t.removeEventListener("mode-change",this.Je),this[O.Yb](t,e),this}clear(t){for(const e of[...this.r])this.remove(e,t);return this}getById(t){return this.r.find(e=>e.id===t)??null}getByKind(t){const e=Array.isArray(t)?t:[t];return this.r.filter(s=>e.includes(s.kind))}[P.P](){if(!this.P){for(const t of this.r)t[P.P]();this.P=!0}}ig(t){const e=t.detail;if(e.mode==="showing"){const s=z(e)?["captions","subtitles"]:[e.kind];for(const n of this.r)n.mode==="showing"&&n!=e&&s.includes(n.kind)&&(n.mode="disabled")}this.dispatchEvent(new R("mode-change",{detail:t.detail,trigger:t}))}}const ve=Symbol(0);class oh extends Zo{get selected(){return this.r.find(t=>t.selected)??null}get selectedIndex(){return this.r.findIndex(t=>t.selected)}[O.oe](t,e){this[O.pa](t,!1,e)}[O.oa](t,e){t[ve]=!1,Object.defineProperty(t,"selected",{get(){return this[ve]},set:s=>{var n;this.readonly||((n=this[O.pe])==null||n.call(this),this[O.pa](t,s))}}),super[O.oa](t,e)}[O.pa](t,e,s){if(e===(t==null?void 0:t[ve]))return;const n=this.selected;t&&(t[ve]=e),(e?n!==t:n===t)&&(n&&(n[ve]=!1),this.dispatchEvent(new R("change",{detail:{prev:n,current:this.selected},trigger:s})))}}class Yl extends oh{getById(t){return t===""?null:this.r.find(e=>e.id===t)??null}}class Xl extends oh{constructor(){super(...arguments),this.fc=!1,this.switch="current"}get auto(){return this.fc||this.readonly}[O.pe](){this[Gt.Ya](!1)}[O.ne](t){this[Gt.Ya](!1,t)}autoSelect(t){var e;this.readonly||this.fc||!this[Gt.Za]||((e=this[Gt.Za])==null||e.call(this),this[Gt.Ya](!0,t))}[Gt.Ya](t,e){this.fc!==t&&(this.fc=t,this.dispatchEvent(new R("auto-change",{detail:t,trigger:e})))}}function Jl(i){return i instanceof HTMLAudioElement}function Zl(i){return i instanceof HTMLVideoElement}function Gl(i){return Jl(i)||Zl(i)}const tu={togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},ro=new Set(["Shift","Alt","Meta","Control"]),eu='button, [role="button"]',oo='input, textarea, select, [contenteditable], [role^="menuitem"]';class su extends $e{constructor(t){super(),this.a=t,this._a=null}onConnect(){l(this.mg.bind(this))}mg(){const{keyDisabled:t,keyTarget:e}=this.$props;if(t())return;const s=e()==="player"?this.el:document,n=E(!1);s===this.el?(this.listen("focusin",()=>n.set(!0)),this.listen("focusout",a=>{this.el.contains(a.target)||n.set(!1)})):(m(n)||n.set(document.querySelector("[data-media-player]")===this.el),b(document,"focusin",a=>{const r=a.composedPath().find(h=>h instanceof Element&&h.localName==="media-player");r!==void 0&&n.set(this.el===r)})),l(()=>{n()&&(b(s,"keyup",this.zb.bind(this)),b(s,"keydown",this.Ab.bind(this)),b(s,"keydown",this.ng.bind(this),{capture:!0}))})}zb(t){const e=document.activeElement;if(!t.key||!this.$state.canSeek()||e!=null&&e.matches(oo))return;let{method:s,value:n}=this.Zc(t);if(!D(n)&&!ht(n)){n==null||n.callback(t);return}if(s!=null&&s.startsWith("seek")&&(t.preventDefault(),t.stopPropagation(),this._a?(this.Ne(t,s==="seekForward"),this._a=null):(this.a.remote.seek(this.gc,t),this.gc=void 0)),s!=null&&s.startsWith("volume")){const a=this.el.querySelector("[data-media-volume-slider]");a==null||a.dispatchEvent(new KeyboardEvent("keyup",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}))}}Ab(t){var a,r;if(!t.key||ro.has(t.key))return;const e=document.activeElement;if(e!=null&&e.matches(oo)||jo(t)&&(e!=null&&e.matches(eu)))return;let{method:s,value:n}=this.Zc(t);if(!D(n)&&!ht(n)){n==null||n.callback(t);return}if(!s&&!t.metaKey&&/[0-9]/.test(t.key)){t.preventDefault(),t.stopPropagation(),this.a.remote.seek(this.$state.duration()/10*Number(t.key),t);return}if(s)switch(t.preventDefault(),t.stopPropagation(),s){case"seekForward":case"seekBackward":this.qa(t,s,s==="seekForward");break;case"volumeUp":case"volumeDown":const h=this.el.querySelector("[data-media-volume-slider]");if(h)h.dispatchEvent(new KeyboardEvent("keydown",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}));else{const c=t.shiftKey?.1:.05;this.a.remote.changeVolume(this.$state.volume()+(s==="volumeUp"?+c:-c),t)}break;case"toggleFullscreen":this.a.remote.toggleFullscreen("prefer-media",t);break;case"speedUp":case"slowDown":const o=this.$state.playbackRate();this.a.remote.changePlaybackRate(Math.max(.25,Math.min(2,o+(s==="speedUp"?.25:-.25))),t);break;default:(r=(a=this.a.remote)[s])==null||r.call(a,t)}}ng(t){Gl(t.target)&&this.Zc(t).method&&t.preventDefault()}Zc(t){const e={...this.$props.keyShortcuts(),...this.a.ariaKeys},s=Object.keys(e).find(n=>{var h;const a=e[n],r=ht(a)?a.join(" "):D(a)?a:a==null?void 0:a.keys;return(h=ht(r)?r:r==null?void 0:r.split(" "))==null?void 0:h.some(o=>nu(o).replace(/Control/g,"Ctrl").split("+").every(c=>ro.has(c)?t[c.toLowerCase()+"Key"]:t.key===c.replace("Space"," ")))});return{method:s,value:s?e[s]:null}}og(t,e){const s=t.shiftKey?10:5;return this.gc=Math.max(0,Math.min((this.gc??this.$state.currentTime())+(e==="seekForward"?+s:-s),this.$state.duration()))}Ne(t,e){var s;(s=this._a)==null||s.dispatchEvent(new KeyboardEvent(t.type,{key:e?"Right":"Left",shiftKey:t.shiftKey,trigger:t}))}qa(t,e,s){this.$state.canSeek()&&(this._a||(this._a=this.el.querySelector("[data-media-time-slider]")),this._a?this.Ne(t,s):this.a.remote.seeking(this.og(t,e),t))}}const iu=["!","@","#","$","%","^","&","*","(",")"];function nu(i){return i.replace(/Shift\+(\d)/g,(t,e)=>iu[e-1])}class au extends bt{constructor(t){super(),this._c=t}onAttach(t){const{$props:e,ariaKeys:s}=$(),n=t.getAttribute("aria-keyshortcuts");if(n){s[this._c]=n,S(()=>{delete s[this._c]});return}const a=e.keyShortcuts()[this._c];if(a){const r=ht(a)?a.join(" "):D(a)?a:a==null?void 0:a.keys;t.setAttribute("aria-keyshortcuts",ht(r)?r.join(" "):r)}}}class ru{canPlay({src:t,type:e}){return D(t)?Nl.test(t)||Dl.has(e)||t.startsWith("blob:")&&e==="audio/object":e==="audio/object"}mediaType(){return"audio"}async load(){return new(await yt(()=>import("./vidstack-audio.0afbe05f.js"),["./vidstack-audio.0afbe05f.js","./vidstack-html.be714f82.js","./vidstack-4jGm7oeB.fc442265.js","./Icon.3eb38d3a.js","./entry.1510e103.js","./entry.d736548a.css","./index.b8fe2cb5.js","./Icon.cf693866.css","./fetch.1e094b73.js"],import.meta.url)).AudioProvider(this.target)}}class hh{canPlay(t){return D(t.src)?Il.test(t.src)||Rl.has(t.type)||t.src.startsWith("blob:")&&t.type==="video/object"||ia(t)&&ll():t.type==="video/object"}mediaType(){return"video"}async load(t){return new(await yt(()=>import("./vidstack-video.511aca21.js"),["./vidstack-video.511aca21.js","./vidstack-html.be714f82.js","./vidstack-4jGm7oeB.fc442265.js","./Icon.3eb38d3a.js","./entry.1510e103.js","./entry.d736548a.css","./index.b8fe2cb5.js","./Icon.cf693866.css","./fetch.1e094b73.js"],import.meta.url)).VideoProvider(this.target,t)}}class ou{canPlay(t){return D(t.src)&&t.type==="video/youtube"}mediaType(){return"video"}async load(t){return new(await yt(()=>import("./vidstack-youtube.4a32c1ec.js"),["./vidstack-youtube.4a32c1ec.js","./vidstack-cgu9mlil.db88e17f.js","./Icon.3eb38d3a.js","./entry.1510e103.js","./entry.d736548a.css","./index.b8fe2cb5.js","./Icon.cf693866.css","./fetch.1e094b73.js"],import.meta.url)).YouTubeProvider(this.target)}}const Ss=class Ss extends hh{canPlay(t){return Ss.supported&&ia(t)}async load(t){return new(await yt(()=>import("./vidstack-hls.62334e1f.js"),["./vidstack-hls.62334e1f.js","./vidstack-video.511aca21.js","./vidstack-html.be714f82.js","./vidstack-4jGm7oeB.fc442265.js","./Icon.3eb38d3a.js","./entry.1510e103.js","./entry.d736548a.css","./index.b8fe2cb5.js","./Icon.cf693866.css","./fetch.1e094b73.js"],import.meta.url)).HLSProvider(this.target,t)}};Ss.supported=Jo();let yi=Ss;class hu{canPlay(t){return D(t.src)&&t.type==="video/vimeo"}mediaType(){return"video"}async load(t){return new(await yt(()=>import("./vidstack-vimeo.1801fece.js"),["./vidstack-vimeo.1801fece.js","./vidstack-4jGm7oeB.fc442265.js","./vidstack-cgu9mlil.db88e17f.js","./Icon.3eb38d3a.js","./entry.1510e103.js","./entry.d736548a.css","./index.b8fe2cb5.js","./Icon.cf693866.css","./fetch.1e094b73.js"],import.meta.url)).VimeoProvider(this.target)}}const hi=Symbol(0),cu=["autoplay","canFullscreen","canPictureInPicture","canLoad","canPlay","canSeek","ended","fullscreen","loop","live","liveEdge","mediaType","muted","paused","pictureInPicture","playing","playsinline","seeking","started","streamType","viewType","waiting"],lu={autoplay:!1,controls:!1,currentTime:0,crossorigin:null,fullscreenOrientation:"landscape",load:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:tu};class uu extends $e{constructor(t){super(),this.Ca=t}async onAttach(t){const e=this.$props.load();if(e==="eager")requestAnimationFrame(this.Ca);else if(e==="idle")bc(this.Ca);else if(e==="visible"){const s=new IntersectionObserver(n=>{this.scope&&n[0].isIntersecting&&(s.disconnect(),this.Ca())});return s.observe(t),s.disconnect.bind(s)}}}class du{constructor(t,e){this.X=t,this.a=e,this.c=(s,...n)=>{this.X(new R(s,{detail:n==null?void 0:n[0],trigger:n==null?void 0:n[1]}))}}async jc(t,e){var u;const{$state:s,logger:n}=this.a;if(m(s.canPlay))return;const a={duration:(t==null?void 0:t.duration)??m(s.duration),seekable:(t==null?void 0:t.seekable)??m(s.seekable),buffered:(t==null?void 0:t.buffered)??m(s.buffered),provider:m(this.a.$provider)};this.c("can-play",a,e),_t();const r=m(this.a.$provider),{muted:h,volume:o,playsinline:c}=this.a.$props;r&&(r.setVolume(m(o)),r.setMuted(m(h)),(u=r.setPlaysinline)==null||u.call(r,m(c))),s.canPlay()&&s.autoplay()&&!s.started()&&await this.oh(e)}async oh(t){const{player:e,$state:s}=this.a;s.autoplaying.set(!0);const n=new R("autoplay-attempt",{trigger:t});try{await e.play(n)}catch{}}}class pu{constructor(){this.e=new Map}k(t,e){this.e.has(t)||this.e.set(t,new Set),this.e.get(t).add(e)}td(t,e){const s=this.e.get(t);if(s)for(const n of s)e(n);this.e.delete(t)}qc(t){this.e.delete(t)}ph(t){var e;return((e=this.e.get(t))==null?void 0:e.size)??0}H(){this.e.clear()}}class ch{constructor(){this.Mb=!1,this.Ed=bi(),this.e=new Map}get ph(){return this.e.size}get Rj(){return this.Mb}async Sj(){this.Mb||await this.Ed.promise}k(t,e){if(this.Mb){e();return}this.e.delete(t),this.e.set(t,e)}td(t){var e;(e=this.e.get(t))==null||e(),this.e.delete(t)}Bb(){this.jf(),this.Mb=!0,this.e.size>0&&this.jf()}ra(){this.Mb=!1}H(){this.ra(),this.e.clear(),this.kf()}jf(){for(const t of this.e.keys())this.td(t);this.kf()}kf(){this.Ed.resolve(),this.Ed=bi()}}class fu extends $e{constructor(t,e,s){super(),this.ga=t,this.f=e,this.a=s,this.vk=new ch,this.vd=!1,this.uk=s.$provider,this.Ib=new Bl,this.rc=new Vl,this.ta=new fs}onAttach(){this.listen("fullscreen-change",this.Oc.bind(this))}onConnect(){const t=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),e=this.qh.bind(this);for(const s of t)s.startsWith("media-")&&this.listen(s,e);l(this.wk.bind(this)),l(this.rh.bind(this)),l(this.sh.bind(this)),l(this.th.bind(this))}onDestroy(){this.vk.H()}wk(){const t=this.uk(),e=this.$state.canPlay();return t&&e&&this.vk.Bb(),()=>{this.vk.ra()}}qh(t){t.stopPropagation(),this[t.type]&&(m(this.uk)?this[t.type](t):this.vk.k(t.type,()=>{m(this.uk)&&this[t.type](t)}))}async sc(t){const{canPlay:e,paused:s,ended:n,autoplaying:a,seekableStart:r}=this.$state;if(m(s)){(t==null?void 0:t.type)==="media-play-request"&&this.f.e.k("play",t);try{const h=m(this.uk);return ci(h,m(e)),m(n)&&h.setCurrentTime(r()+.1),await h.play()}catch(h){const o=this.createEvent("play-fail",{detail:ri(h),trigger:t});throw o.autoplay=a(),this.ga.X(o),h}}}async ud(t){const{canPlay:e,paused:s}=this.$state;if(m(s))return;(t==null?void 0:t.type)==="media-pause-request"&&this.f.e.k("pause",t);const n=m(this.uk);return ci(n,m(e)),n.pause()}Ze(t){const{canPlay:e,live:s,liveEdge:n,canSeek:a,liveSyncPosition:r,seekableEnd:h,userBehindLiveEdge:o}=this.$state;if(o.set(!1),m(()=>!s()||n()||!a()))return;const c=m(this.uk);ci(c,m(e)),c.setCurrentTime(r()??h()-2)}async _e(t="prefer-media",e){const s=this.$e(t);if(ho(t,s),!s.active)return m(this.$state.pictureInPicture)&&(this.vd=!0,await this.wd(e)),(e==null?void 0:e.type)==="media-enter-fullscreen-request"&&this.f.e.k("fullscreen",e),s.enter()}async af(t="prefer-media",e){const s=this.$e(t);if(ho(t,s),!!s.active){(e==null?void 0:e.type)==="media-exit-fullscreen-request"&&this.f.e.k("fullscreen",e);try{const n=await s.exit();return this.vd&&m(this.$state.canPictureInPicture)&&await this.xd(),n}finally{this.vd=!1}}}$e(t){const e=m(this.uk);return t==="prefer-media"&&this.rc.supported||t==="media"?this.rc:e==null?void 0:e.fullscreen}async xd(t){if(this.bf(),!this.$state.pictureInPicture())return(t==null?void 0:t.type)==="media-enter-pip-request"&&this.f.e.k("pip",t),await this.uk().pictureInPicture.enter()}async wd(t){if(this.bf(),!!this.$state.pictureInPicture())return(t==null?void 0:t.type)==="media-exit-pip-request"&&this.f.e.k("pip",t),await this.uk().pictureInPicture.exit()}bf(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")}rh(){this.Ib.defaultDelay=this.$props.controlsDelay()}sh(){var n,a;const{canLoad:t,canFullscreen:e}=this.$state,s=this.rc.supported||((a=(n=this.uk())==null?void 0:n.fullscreen)==null?void 0:a.supported)||!1;t()&&m(e)===s||e.set(s)}th(){var n,a;const{canLoad:t,canPictureInPicture:e}=this.$state,s=((a=(n=this.uk())==null?void 0:n.pictureInPicture)==null?void 0:a.supported)||!1;t()&&m(e)===s||e.set(s)}"media-audio-track-change-request"(t){if(this.a.audioTracks.readonly)return;const e=t.detail,s=this.a.audioTracks[e];s&&(this.f.e.k("audioTrack",t),s.selected=!0)}async"media-enter-fullscreen-request"(t){try{await this._e(t.detail,t)}catch(e){this._b(e,t)}}async"media-exit-fullscreen-request"(t){try{await this.af(t.detail,t)}catch(e){this._b(e,t)}}async Oc(t){const e=m(this.$props.fullscreenOrientation),s=t.detail;if(!(st(e)||!this.ta.supported))if(s){if(this.ta.locked)return;this.dispatch("media-orientation-lock-request",{detail:e,trigger:t})}else this.ta.locked&&this.dispatch("media-orientation-unlock-request",{trigger:t})}_b(t,e){this.ga.X(this.createEvent("fullscreen-error",{detail:ri(t)}))}async"media-orientation-lock-request"(t){try{this.f.e.k("orientation",t),await this.ta.lock(t.detail)}catch{this.f.e.qc("orientation")}}async"media-orientation-unlock-request"(t){try{this.f.e.k("orientation",t),await this.ta.unlock()}catch{this.f.e.qc("orientation")}}async"media-enter-pip-request"(t){try{await this.xd(t)}catch(e){this.cf(e,t)}}async"media-exit-pip-request"(t){try{await this.wd(t)}catch(e){this.cf(e,t)}}cf(t,e){this.ga.X(this.createEvent("picture-in-picture-error",{detail:ri(t)}))}"media-live-edge-request"(t){const{live:e,liveEdge:s,canSeek:n}=this.$state;if(!(!e()||s()||!n())){this.f.e.k("seeked",t);try{this.Ze()}catch{}}}async"media-loop-request"(t){try{this.f.Ha=!0,this.f.gb=!0,await this.sc(t)}catch{this.f.Ha=!1,this.f.gb=!1}}async"media-pause-request"(t){if(!this.$state.paused())try{await this.ud(t)}catch{this.f.e.qc("pause")}}async"media-play-request"(t){if(this.$state.paused())try{await this.sc(t)}catch{}}"media-rate-change-request"(t){const{playbackRate:e,canSetPlaybackRate:s}=this.$state;if(e()===t.detail||!s())return;const n=this.uk();n!=null&&n.setPlaybackRate&&(this.f.e.k("rate",t),n.setPlaybackRate(t.detail))}"media-quality-change-request"(t){if(this.a.qualities.readonly)return;this.f.e.k("quality",t);const e=t.detail;if(e<0)this.a.qualities.autoSelect(t);else{const s=this.a.qualities[e];s&&(s.selected=!0)}}"media-pause-controls-request"(t){this.f.e.k("controls",t),this.Ib.pause(t)}"media-resume-controls-request"(t){this.f.e.k("controls",t),this.Ib.resume(t)}"media-seek-request"(t){const{seekableStart:e,seekableEnd:s,ended:n,canSeek:a,live:r,userBehindLiveEdge:h}=this.$state;n()&&(this.f.gb=!0),this.f.qa=!1,this.f.e.qc("seeking");const o=Math.min(Math.max(e()+.1,t.detail),s()-.1);!Number.isFinite(o)||!a()||(this.f.e.k("seeked",t),this.uk().setCurrentTime(o),r()&&t.isOriginTrusted&&Math.abs(s()-o)>=2&&h.set(!0))}"media-seeking-request"(t){this.f.e.k("seeking",t),this.$state.seeking.set(!0),this.f.qa=!0}"media-start-loading"(t){this.$state.canLoad()||(this.f.e.k("load",t),this.ga.X(this.createEvent("can-load")))}"media-text-track-change-request"(t){const{index:e,mode:s}=t.detail,n=this.a.textTracks[e];n&&(this.f.e.k("textTrack",t),n.setMode(s,t))}"media-mute-request"(t){this.$state.muted()||(this.f.e.k("volume",t),this.uk().setMuted(!0))}"media-unmute-request"(t){const{muted:e,volume:s}=this.$state;e()&&(this.f.e.k("volume",t),this.a.$provider().setMuted(!1),s()===0&&(this.f.e.k("volume",t),this.uk().setVolume(.25)))}"media-volume-change-request"(t){const{muted:e,volume:s}=this.$state,n=t.detail;s()!==n&&(this.f.e.k("volume",t),this.uk().setVolume(n),n>0&&e()&&(this.f.e.k("volume",t),this.uk().setMuted(!1)))}}function ci(i,t){if(!(i&&t))throw Error("[vidstack] media not ready")}function ho(i,t){if(!(t!=null&&t.supported))throw Error("[vidstack] no fullscreen support")}class mu{constructor(){this.qa=!1,this.Ha=!1,this.gb=!1,this.e=new pu}}var lh=bu;function bu(i,t,e){var s=null,n=null,a=function(){s&&(clearTimeout(s),n=null,s=null)},r=function(){var o=n;a(),o&&o()},h=function(){if(!t)return i.apply(this,arguments);var o=this,c=arguments,u=e&&!s;if(a(),n=function(){i.apply(o,c)},s=setTimeout(function(){if(s=null,!u){var d=n;return n=null,d()}},t),u)return n()};return h.cancel=a,h.flush=r,h}var Bs=gu;function gu(i,t,e){var s=null,n=null,a=e&&e.leading,r=e&&e.trailing;a==null&&(a=!0),r==null&&(r=!a),a==!0&&(r=!1);var h=function(){s&&(clearTimeout(s),s=null)},o=function(){var u=n;h(),u&&u()},c=function(){var u=a&&!s,d=this,p=arguments;if(n=function(){return i.apply(d,p)},s||(s=setTimeout(function(){if(s=null,r)return n()},t)),u)return u=!1,n()};return c.cancel=h,c.flush=o,c}const $u=new Set(["autoplay","autoplay-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);class yu extends $e{constructor(t,e){super(),this.f=t,this.a=e,this.p=new Map,this.tc=!1,this.Jb=!1,this.seeking=Bs(s=>{const{seeking:n,currentTime:a,paused:r}=this.$state;n.set(!0),a.set(s.detail),this.F("seeking",s),r()&&(this.hb=s,this.zd())},150,{leading:!0}),this.zd=lh(()=>{if(!this.hb)return;this.tc=!0;const{waiting:s,playing:n}=this.$state;s.set(!0),n.set(!1);const a=this.createEvent("waiting",{trigger:this.hb});this.p.set("waiting",a),this.dispatch(a),this.hb=void 0,this.tc=!1},300)}onAttach(t){t.setAttribute("aria-busy","true"),this.listen("fullscreen-change",this["fullscreen-change"].bind(this)),this.listen("fullscreen-error",this["fullscreen-error"].bind(this)),this.listen("orientation-change",this["orientation-change"].bind(this))}onConnect(t){this.uh(),this.vh(),this.wh(),this.xh(),S(this.yh.bind(this))}X(t){var s;if(!this.scope)return;const e=t.type;(s=this[t.type])==null||s.call(this,t),$u.has(e)&&this.p.set(e,t),this.dispatch(t)}xh(){var t;this.Jb&&((t=this.a.$provider())!=null&&t.paused&&requestAnimationFrame(()=>{this.scope&&this.a.remote.play(new R("dom-connect"))}),this.Jb=!1)}yh(){var t;this.Jb||(this.Jb=!this.a.$state.paused(),(t=this.a.$provider())==null||t.pause())}ib(){this.df(),this.f.gb=!1,this.f.Ha=!1,this.tc=!1,this.hb=void 0,this.p.clear()}F(t,e){this.f.e.td(t,s=>{e.request=s,e.triggers.add(s)})}uh(){this.yd(),this.ef();const t=this.a.textTracks;b(t,"add",this.yd.bind(this)),b(t,"remove",this.yd.bind(this)),b(t,"mode-change",this.ef.bind(this))}vh(){const t=this.a.qualities;b(t,"add",this.pc.bind(this)),b(t,"remove",this.pc.bind(this)),b(t,"change",this.fb.bind(this)),b(t,"auto-change",this.zh.bind(this)),b(t,"readonly-change",this.Ah.bind(this))}wh(){const t=this.a.audioTracks;b(t,"add",this.ff.bind(this)),b(t,"remove",this.ff.bind(this)),b(t,"change",this.Bh.bind(this))}yd(t){const{textTracks:e}=this.$state;e.set(this.a.textTracks.toArray()),this.dispatch("text-tracks-change",{detail:e(),trigger:t})}ef(t){t&&this.F("textTrack",t);const e=this.a.textTracks.selected,{textTrack:s}=this.$state;s()!==e&&(s.set(e),this.dispatch("text-track-change",{detail:e,trigger:t}))}ff(t){const{audioTracks:e}=this.$state;e.set(this.a.audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:e(),trigger:t})}Bh(t){const{audioTrack:e}=this.$state;e.set(this.a.audioTracks.selected),this.F("audioTrack",t),this.dispatch("audio-track-change",{detail:e(),trigger:t})}pc(t){const{qualities:e}=this.$state;e.set(this.a.qualities.toArray()),this.dispatch("qualities-change",{detail:e(),trigger:t})}fb(t){const{quality:e}=this.$state;e.set(this.a.qualities.selected),this.F("quality",t),this.dispatch("quality-change",{detail:e(),trigger:t})}zh(){this.$state.autoQuality.set(this.a.qualities.auto)}Ah(){this.$state.canSetQuality.set(!this.a.qualities.readonly)}"provider-change"(t){var n,a;const e=this.a.$provider(),s=t.detail;(e==null?void 0:e.type)!==(s==null?void 0:s.type)&&((n=e==null?void 0:e.destroy)==null||n.call(e),(a=e==null?void 0:e.scope)==null||a.dispose(),this.a.$provider.set(t.detail),e&&t.detail===null&&this.gf(t))}"provider-loader-change"(t){}autoplay(t){this.$state.autoplayError.set(null)}"autoplay-fail"(t){this.$state.autoplayError.set(t.detail),this.ib()}"can-load"(t){this.$state.canLoad.set(!0),this.p.set("can-load",t),this.F("load",t),this.a.textTracks[P.P]()}"media-type-change"(t){const e=this.p.get("source-change");e&&t.triggers.add(e);const s=this.$state.viewType();this.$state.mediaType.set(t.detail);const n=this.$state.providedViewType(),a=n==="unknown"?t.detail:n;s!==a&&setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(t.detail),this.dispatch("view-type-change",{detail:a,trigger:t}))})},0)}"stream-type-change"(t){const e=this.p.get("source-change");e&&t.triggers.add(e);const{streamType:s,inferredStreamType:n}=this.$state;n.set(t.detail),t.detail=s()}"rate-change"(t){this.$state.playbackRate.set(t.detail),this.F("rate",t)}"sources-change"(t){this.$state.sources.set(t.detail)}"source-change"(t){var s;const e=this.p.get("sources-change");e&&t.triggers.add(e),this.gf(t),this.p.set(t.type,t),this.$state.source.set(t.detail),(s=this.el)==null||s.setAttribute("aria-busy","true")}gf(t){this.a.audioTracks[O.H](t),this.a.qualities[O.H](t),this.ib(),ml(this.a.$state)}abort(t){const e=this.p.get("source-change");e&&t.triggers.add(e);const s=this.p.get("can-load");s&&!t.triggers.hasType("can-load")&&t.triggers.add(s)}"load-start"(t){const e=this.p.get("source-change");e&&t.triggers.add(e)}error(t){this.$state.error.set(t.detail);const e=this.p.get("abort");e&&t.triggers.add(e)}"loaded-metadata"(t){const e=this.p.get("load-start");e&&t.triggers.add(e)}"loaded-data"(t){const e=this.p.get("load-start");e&&t.triggers.add(e)}"can-play"(t){var s;const e=this.p.get("loaded-metadata");e&&t.triggers.add(e),this.hf(t.detail),(s=this.el)==null||s.setAttribute("aria-busy","false")}"can-play-through"(t){this.hf(t.detail);const e=this.p.get("can-play");e&&t.triggers.add(e)}hf(t){const{seekable:e,seekableEnd:s,buffered:n,duration:a,canPlay:r}=this.$state;r.set(!0),n.set(t.buffered),e.set(t.seekable),a.set(s())}"duration-change"(t){const{live:e,duration:s}=this.$state,n=t.detail;e()||s.set(Number.isNaN(n)?0:n)}progress(t){const{buffered:e,seekable:s,live:n,duration:a,seekableEnd:r}=this.$state,h=t.detail;e.set(h.buffered),s.set(h.seekable),n()&&(a.set(r),this.dispatch("duration-change",{detail:r(),trigger:t}))}play(t){const{paused:e,autoplayError:s,ended:n,autoplaying:a,playsinline:r,pointer:h,muted:o,viewType:c}=this.$state;if(t.autoplay=a(),this.f.Ha||!e()){t.stopImmediatePropagation();return}const u=this.p.get("waiting");u&&t.triggers.add(u),this.F("play",t),this.p.set("play",t),e.set(!1),s.set(null),t.autoplay&&(this.X(this.createEvent("autoplay",{detail:{muted:o()},trigger:t})),a.set(!1)),(n()||this.f.gb)&&(this.f.gb=!1,n.set(!1),this.X(this.createEvent("replay",{trigger:t}))),!r()&&c()==="video"&&h()==="coarse"&&this.a.remote.enterFullscreen("prefer-media",t)}"play-fail"(t){const{muted:e,autoplaying:s}=this.$state,n=this.p.get("play");n&&t.triggers.add(n),this.F("play",t);const{paused:a,playing:r}=this.$state;a.set(!0),r.set(!1),this.ib(),this.p.set("play-fail",t),t.autoplay&&(this.X(this.createEvent("autoplay-fail",{detail:{muted:e(),error:t.detail},trigger:t})),s.set(!1))}playing(t){const e=this.p.get("play"),s=this.p.get("seeked");e?t.triggers.add(e):s&&t.triggers.add(s),setTimeout(()=>this.ib(),0);const{paused:n,playing:a,live:r,liveSyncPosition:h,seekableEnd:o,started:c,currentTime:u,seeking:d,ended:p}=this.$state;if(n.set(!1),a.set(!0),d.set(!1),p.set(!1),this.f.Ha){t.stopImmediatePropagation(),this.f.Ha=!1;return}if(r()&&!c()&&u()===0){const f=h()??o()-2;Number.isFinite(f)&&this.a.$provider().setCurrentTime(f)}this.started(t)}started(t){const{started:e}=this.$state;e()||(e.set(!0),this.X(this.createEvent("started",{trigger:t})))}pause(t){var a;if((a=this.el)!=null&&a.isConnected||(this.Jb=!0),this.f.Ha){t.stopImmediatePropagation();return}const e=this.p.get("seeked");e&&t.triggers.add(e),this.F("pause",t);const{paused:s,playing:n}=this.$state;s.set(!0),n.set(!1),this.ib()}"time-update"(t){const{currentTime:e,played:s,waiting:n}=this.$state,a=t.detail;e.set(a.currentTime),s.set(a.played),n.set(!1);for(const r of this.a.textTracks)r[P.Ta](a.currentTime,t)}"volume-change"(t){const{volume:e,muted:s}=this.$state,n=t.detail;e.set(n.volume),s.set(n.muted||n.volume===0),this.F("volume",t)}seeked(t){const{seeking:e,currentTime:s,paused:n,duration:a,ended:r}=this.$state;if(this.f.qa)e.set(!0),t.stopImmediatePropagation();else if(e()){const h=this.p.get("waiting");h&&t.triggers.add(h);const o=this.p.get("seeking");o&&!t.triggers.has(o)&&t.triggers.add(o),n()&&this.df(),e.set(!1),t.detail!==a()&&r.set(!1),s.set(t.detail),this.F("seeked",t);const c=t==null?void 0:t.originEvent;c!=null&&c.isTrusted&&!/seek/.test(c.type)&&this.started(t)}}waiting(t){this.tc||this.f.qa||(t.stopImmediatePropagation(),this.hb=t,this.zd())}end(t){const{loop:e}=this.$state;if(e()){setTimeout(()=>{requestAnimationFrame(()=>{this.dispatch("media-loop-request",{trigger:t})})},0);return}this.Db(t)}Db(t){const{paused:e,seeking:s,ended:n,duration:a}=this.$state;e()||this.dispatch("pause",{trigger:t}),s()&&this.dispatch("seeked",{detail:a(),trigger:t}),n.set(!0),this.ib(),this.dispatch("ended",{trigger:t})}df(){this.zd.cancel(),this.$state.waiting.set(!1)}"fullscreen-change"(t){this.$state.fullscreen.set(t.detail),this.F("fullscreen",t)}"fullscreen-error"(t){this.F("fullscreen",t)}"orientation-change"(t){this.F("orientation",t)}"picture-in-picture-change"(t){this.$state.pictureInPicture.set(t.detail),this.F("pip",t)}"picture-in-picture-error"(t){this.F("pip",t)}"title-change"(t){t.stopImmediatePropagation(),this.$state.inferredTitle.set(t.detail)}"poster-change"(t){t.stopImmediatePropagation(),this.$state.inferredPoster.set(t.detail)}}class vu extends $e{onSetup(){this.Ch(),l(this.Eh.bind(this)),l(this.uc.bind(this)),l(this.Fh.bind(this)),l(this.ld.bind(this)),l(this.Gh.bind(this)),l(this.Vc.bind(this)),l(this.Hh.bind(this)),l(this.Ad.bind(this)),l(this.Ih.bind(this)),l(this.Jh.bind(this)),l(this.Kh.bind(this))}Ch(){var e;const t={poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"};for(const s of Object.keys(this.$props))(e=this.$state[t[s]??s])==null||e.set(this.$props[s]());this.$state.muted.set(this.$props.muted()||this.$props.volume()===0)}Eh(){const{viewType:t,streamType:e,title:s,poster:n}=this.$props;this.$state.providedPoster.set(n()),this.$state.providedStreamType.set(e()),this.$state.providedViewType.set(t()),this.$state.providedTitle.set(s())}Dh(){}uc(){const{title:t}=this.$state;this.dispatch("title-change",{detail:t()})}Fh(){const t=this.$props.autoplay();this.$state.autoplay.set(t),this.dispatch("autoplay-change",{detail:t})}Gh(){const t=this.$props.loop();this.$state.loop.set(t),this.dispatch("loop-change",{detail:t})}Vc(){const t=this.$props.controls();this.$state.controls.set(t)}ld(){const{poster:t}=this.$state;this.dispatch("poster-change",{detail:t()})}Hh(){const t=this.$props.crossorigin();this.$state.crossorigin.set(t===!0?"":t)}Ad(){const t=this.$props.playsinline();this.$state.playsinline.set(t),this.dispatch("playsinline-change",{detail:t})}Jh(){this.dispatch("live-change",{detail:this.$state.live()})}Ih(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())}Kh(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})}}let vi=E(!1);b(document,"pointerdown",()=>{vi.set(!1)}),b(document,"keydown",i=>{i.metaKey||i.altKey||i.ctrlKey||vi.set(!0)});class gt extends bt{constructor(){super(...arguments),this.Kb=E(!1)}onConnect(t){l(()=>{if(!vi()){this.Kb.set(!1),Je(t,!1),this.listen("pointerenter",this.Cd.bind(this)),this.listen("pointerleave",this.Dd.bind(this));return}const e=document.activeElement===t;this.Kb.set(e),Je(t,e),this.listen("focus",this.Lb.bind(this)),this.listen("blur",this.Nh.bind(this))})}focused(){return this.Kb()}Lb(){this.Kb.set(!0),Je(this.el,!0)}Nh(){this.Kb.set(!1),Je(this.el,!1)}Cd(){co(this.el,!0)}Dd(){co(this.el,!1)}}function Je(i,t){g(i,"data-focus",t),g(i,"data-hocus",t)}function co(i,t){g(i,"data-hocus",t),g(i,"data-hover",t)}var wu=Object.defineProperty,xu=Object.getOwnPropertyDescriptor,N=(i,t,e,s)=>{for(var n=s>1?void 0:s?xu(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&wu(t,e,n),n},kt;const j=(kt=class extends w{constructor(){super(),this.canPlayQueue=new ch,this.wc=!1,new vu;const t={player:this,scope:Hs(),qualities:new Xl,audioTracks:new Yl,$provider:E(null),$providerSetup:E(!1),$props:this.$props,$state:this.$state};t.remote=new Wl(void 0),t.remote.setPlayer(this),t.$iosControls=U(this.Oh.bind(this)),t.textTracks=new Ql,t.textTracks[P.Sa]=this.$state.crossorigin,t.textRenderers=new Kl(t),t.ariaKeys={},this.a=t,ut(Go,t),this.orientation=new fs,new gt,new su(t);const e=new mu;this.ga=new yu(e,t),this.Y=new fu(this.ga,e,t),t.delegate=new du(this.ga.X.bind(this.ga),t),new uu(this.startLoading.bind(this))}get i(){return this.a.$provider()}onSetup(){this.Ph(),l(this.Qh.bind(this)),l(this.Rh.bind(this)),l(this.Tc.bind(this)),l(this.Fd.bind(this)),l(this.jb.bind(this)),l(this.Ad.bind(this)),l(this.Sh.bind(this))}onAttach(t){t.setAttribute("data-media-player",""),_(t,"tabindex","0"),_(t,"role","region"),l(this.uc.bind(this)),l(this.lf.bind(this)),b(t,"find-media-player",this.Th.bind(this))}onConnect(t){Yr&&g(t,"data-iphone",""),ul().then(this.$state.canSetVolume.set);const e=window.matchMedia("(pointer: coarse)");this.mf(e),e.onchange=this.mf.bind(this);const s=new ResizeObserver(Rt(this.O.bind(this)));s.observe(t),l(this.O.bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),S(()=>{s.disconnect(),e.onchange=null})}onDestroy(){this.a.player=null,this.canPlayQueue.H()}uc(){var o;if(this.wc){this.wc=!1;return}const{title:t,live:e,viewType:s}=this.$state,n=e(),a=pc(s()),r=a!=="Unknown"?`${n?"Live ":""}${a}`:n?"Live":"Media",h=t();g(this.el,"aria-label",h?`${r} - ${h}`:r+" Player"),this.el&&customElements.get(this.el.localName)&&(this.wc=!0),(o=this.el)==null||o.removeAttribute("title")}lf(){const t=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(t),g(this.el,"data-orientation",t),this.O()}Qh(){this.$state.canPlay()&&this.i?this.canPlayQueue.Bb():this.canPlayQueue.ra()}Ph(){if(kt[hi]){this.setAttributes(kt[hi]);return}const t={"data-captions":function(){const s=this.$state.textTrack();return!!s&&z(s)},"data-ios-controls":function(){return this.a.$iosControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){const{canPlay:s,waiting:n}=this.$state;return!s()||n()},"data-error":function(){const{error:s}=this.$state;return!!s()},"data-autoplay-error":function(){const{autoplayError:s}=this.$state;return!!s()}},e={canPictureInPicture:"can-pip",pictureInPicture:"pip"};for(const s of cu){const n="data-"+(e[s]??Jn(s));t[n]=function(){return this.$state[s]()}}delete t.title,kt[hi]=t,this.setAttributes(t)}Th(t){t.detail(this)}O(){if(!this.el)return;const t=this.el.clientWidth,e=this.el.clientHeight;this.$state.width.set(t),this.$state.height.set(e),J(this.el,"--player-width",t+"px"),J(this.el,"--player-height",e+"px")}mf(t){const e=t.matches?"coarse":"fine";g(this.el,"data-pointer",e),this.$state.pointer.set(e),this.O()}Oh(){const{playsinline:t,fullscreen:e}=this.$state;return Yr&&!Ul()&&this.$state.mediaType()==="video"&&(!t()||e())}get provider(){return this.i}get controls(){return this.Y.Ib}get title(){return m(this.$state.providedTitle)}set title(t){this.wc||this.$state.providedTitle.set(t)}get qualities(){return this.a.qualities}get audioTracks(){return this.a.audioTracks}get textTracks(){return this.a.textTracks}get textRenderers(){return this.a.textRenderers}get paused(){return m(this.$state.paused)}set paused(t){this.nf(t)}Tc(){this.nf(this.$props.paused())}nf(t){t?this.canPlayQueue.k("paused",()=>this.Y.ud()):this.canPlayQueue.k("paused",()=>this.Y.sc())}get muted(){return m(this.$state.muted)}set muted(t){this.$props.muted.set(t)}Rh(){this.Uh(this.$props.muted())}Uh(t){this.canPlayQueue.k("muted",()=>{this.i&&this.i.setMuted(t)})}get currentTime(){return m(this.$state.currentTime)}set currentTime(t){this.of(t)}jb(){this.of(this.$props.currentTime())}of(t){this.canPlayQueue.k("currentTime",()=>{t!==m(this.$state.currentTime)&&m(()=>{if(!this.i)return;const e=Math.min(Math.max(this.$state.seekableStart()+.1,t),this.$state.seekableEnd()-.1);Number.isFinite(e)&&this.i.setCurrentTime(e)})})}get volume(){return m(this.$state.volume)}set volume(t){this.$props.volume.set(t)}Fd(){this.Vh(this.$props.volume())}Vh(t){const e=na(0,t,1);this.canPlayQueue.k("volume",()=>{this.i&&this.i.setVolume(e)})}get playbackRate(){return m(this.$state.playbackRate)}set playbackRate(t){this.pf(t)}Sh(){this.pf(this.$props.playbackRate())}pf(t){this.canPlayQueue.k("rate",()=>{var e,s;this.i&&((s=(e=this.i).setPlaybackRate)==null||s.call(e,t))})}Ad(){this.Wh(this.$props.playsinline())}Wh(t){this.canPlayQueue.k("playsinline",()=>{var e,s;this.i&&((s=(e=this.i).setPlaysinline)==null||s.call(e,t))})}async play(t){return this.Y.sc(t)}async pause(t){return this.Y.ud(t)}async enterFullscreen(t,e){return this.Y._e(t,e)}async exitFullscreen(t,e){return this.Y.af(t,e)}enterPictureInPicture(t){return this.Y.xd(t)}exitPictureInPicture(t){return this.Y.wd(t)}seekToLiveEdge(t){this.Y.Ze(t)}startLoading(t){this.a.delegate.c("can-load",void 0,t)}matchQuery(t){return K(()=>oe.create(t),this.scope)}destroy(){this.a.remote.setPlayer(null),this.dispatch("destroy")}},kt.props=lu,kt.state=ea,kt);N([A],j.prototype,"canPlayQueue",2);N([A],j.prototype,"provider",1);N([A],j.prototype,"controls",1);N([A],j.prototype,"orientation",2);N([A],j.prototype,"title",1);N([A],j.prototype,"qualities",1);N([A],j.prototype,"audioTracks",1);N([A],j.prototype,"textTracks",1);N([A],j.prototype,"textRenderers",1);N([A],j.prototype,"paused",1);N([A],j.prototype,"muted",1);N([A],j.prototype,"currentTime",1);N([A],j.prototype,"volume",1);N([A],j.prototype,"playbackRate",1);N([H],j.prototype,"play",1);N([H],j.prototype,"pause",1);N([H],j.prototype,"enterFullscreen",1);N([H],j.prototype,"exitFullscreen",1);N([H],j.prototype,"enterPictureInPicture",1);N([H],j.prototype,"exitPictureInPicture",1);N([H],j.prototype,"seekToLiveEdge",1);N([H],j.prototype,"startLoading",1);N([H],j.prototype,"matchQuery",1);let Tu=j;function uh(i,t){return fetch(i,t).then(e=>e.text()).then(e=>{const s=ku(e);if(s)return uh(/^https?:/.test(s)?s:new URL(s,i).href,t);const n=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(e)?"on-demand":"live";return n==="live"&&Au(e)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(e)||e.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":n})}function ku(i){const t=i.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return t?t[0].split(`
`)[1].trim():null}function Au(i){const t=i.split(`
`);for(const e of t)if(e.startsWith("#EXT-X-TARGETDURATION")){const s=parseFloat(e.split(":")[1]);if(!isNaN(s))return s}return-1}const dh=new Map;class Eu{constructor(t,e,s,n=[]){this.xc=t,this.a=e,this.ha=s,this.Gd=!1;const a=new yi,r=new hh,h=new ru,o=new ou,c=new hu,u=[o,c];this.Hd=U(()=>e.$props.preferNativeHLS()?[r,h,a,...u,...n]:[a,r,h,...u,...n]);const{$state:d}=e;d.sources.set(lo(e.$props.src()));for(const p of d.sources()){const f=this.Hd().find(x=>x.canPlay(p));if(!f)continue;const T=f.mediaType(p);this.a.$state.source.set(p),this.a.$state.mediaType.set(T),this.a.$state.inferredViewType.set(T),this.ha.set(f),this.Gd=!0}}get c(){return this.a.delegate.c}connect(){const t=this.ha();this.Gd&&(this.qf(this.a.$state.source(),t),this.rf(t),this.Gd=!1),l(this.Xh.bind(this)),l(this.Yh.bind(this)),l(this.Zh.bind(this)),l(this._h.bind(this))}Xh(){this.c("sources-change",[...lo(this.a.$props.src()),...this.xc()])}Yh(){var r;const{$state:t}=this.a,e=t.sources(),s=m(t.source),n=this.sf(s,e);if(((r=e[0])==null?void 0:r.src)&&!n.src&&!n.type){const{crossorigin:h}=t,o=us(h()),c=new AbortController;return Promise.all(e.map(u=>D(u.src)&&u.type==="?"?fetch(u.src,{method:"HEAD",credentials:o,signal:c.signal}).then(d=>(u.type=d.headers.get("content-type")||"??",dh.set(u.src,u.type),u)).catch(()=>u):u)).then(u=>{c.signal.aborted||(this.sf(m(t.source),u),_t())}),()=>c.abort()}_t()}sf(t,e){let s={src:"",type:""},n=null;for(const a of e){const r=m(this.Hd).find(h=>h.canPlay(a));r&&(s=a,n=r)}return uo(t,s)||this.qf(s,n),n!==m(this.ha)&&this.rf(n),s}qf(t,e){this.c("source-change",t),this.c("media-type-change",(e==null?void 0:e.mediaType(t))||"unknown")}rf(t){this.a.$providerSetup.set(!1),this.c("provider-change",null),t&&m(()=>{var e;return(e=t.preconnect)==null?void 0:e.call(t,this.a)}),this.ha.set(t),this.c("provider-loader-change",t)}Zh(){const t=this.a.$provider();if(!(!t||m(this.a.$providerSetup))){if(this.a.$state.canLoad()){K(()=>t.setup(this.a),t.scope),this.a.$providerSetup.set(!0);return}m(()=>{var e;return(e=t.preconnect)==null?void 0:e.call(t,this.a)})}}_h(){if(!this.a.$providerSetup())return;const t=this.a.$provider(),e=this.a.$state.source(),s=m(this.a.$state.crossorigin);if(!uo(t==null?void 0:t.currentSrc,e)){if(this.a.$state.canLoad()){const n=new AbortController;return ia(e)?Jo()||uh(e.src,{credentials:us(s),signal:n.signal}).then(a=>{this.c("stream-type-change",a)}).catch(Yn):this.c("stream-type-change","on-demand"),m(()=>t==null?void 0:t.loadSource(e,m(this.a.$state.preload))),()=>n.abort()}try{D(e.src)&&th(new URL(e.src).origin,"preconnect")}catch{}}}}function lo(i){return(ht(i)?i:[!D(i)&&"src"in i?i:{src:i}]).map(({src:t,type:e,...s})=>({src:t,type:e??(D(t)?dh.get(t):null)??(!D(t)||t.startsWith("blob:")?"video/object":t.includes("youtube")?"video/youtube":t.includes("vimeo")?"video/vimeo":"?"),...s}))}function uo(i,t){return(i==null?void 0:i.src)===(t==null?void 0:t.src)&&(i==null?void 0:i.type)===(t==null?void 0:t.type)}class Su{constructor(t,e){this.yc=t,this.a=e,this.tf=[],l(this.$h.bind(this))}$h(){const t=this.yc();for(const e of this.tf)if(!t.some(s=>s.id===e.id)){const s=e.id&&this.a.textTracks.getById(e.id);s&&this.a.textTracks.remove(s)}for(const e of t){const s=e.id||$i.createId(e);this.a.textTracks.getById(s)||(e.id=s,this.a.textTracks.add(e))}this.tf=t}}var Pu=Object.defineProperty,Cu=Object.getOwnPropertyDescriptor,_u=(i,t,e,s)=>{for(var n=s>1?void 0:s?Cu(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&Pu(t,e,n),n};const Ps=class Ps extends w{constructor(){super(...arguments),this.xc=E([]),this.yc=E([]),this.ha=null,this.Id=-1}onSetup(){this.a=$(),this.uf=new Eu(this.xc,this.a,this.$state.loader,this.$props.loaders())}onAttach(t){t.setAttribute("data-media-provider","")}onConnect(t){this.uf.connect(),new Su(this.yc,this.a);const e=new ResizeObserver(Rt(this.O.bind(this)));e.observe(t);const s=new MutationObserver(this.vf.bind(this));s.observe(t,{attributes:!0,childList:!0}),this.O(),this.vf(),S(()=>{e.disconnect(),s.disconnect()})}load(t){window.cancelAnimationFrame(this.Id),this.Id=requestAnimationFrame(()=>this.ai(t)),S(()=>{window.cancelAnimationFrame(this.Id)})}ai(t){if(!this.scope)return;const e=this.$state.loader(),{$provider:s}=this.a;this.ha===e&&(e==null?void 0:e.target)===t&&m(s)||(this.wf(),this.ha=e,e&&(e.target=t||null),!(!e||!t)&&e.load(this.a).then(n=>{this.scope&&m(this.$state.loader)===e&&this.a.delegate.c("provider-change",n)}))}onDestroy(){this.ha=null,this.wf()}wf(){this.a.delegate.c("provider-change",null)}O(){if(!this.el)return;const t=this.a.player,e=this.el.offsetWidth,s=this.el.offsetHeight;t&&(t.$state.mediaWidth.set(e),t.$state.mediaHeight.set(s),t.el&&(J(t.el,"--media-width",e+"px"),J(t.el,"--media-height",s+"px")))}vf(){const t=[],e=[],s=this.el.children;for(const n of s)n instanceof HTMLSourceElement?t.push({src:n.src,type:n.type}):n instanceof HTMLTrackElement&&e.push({id:n.id,src:n.src,kind:n.track.kind,language:n.srclang,label:n.label,default:n.default,type:n.getAttribute("data-type")});this.xc.set(t),this.yc.set(e),_t()}};Ps.props={loaders:[]},Ps.state=new Zt({loader:null});let ms=Ps;_u([H],ms.prototype,"load",1);const ya=class ya extends w{onSetup(){this.a=$(),l(this.bi.bind(this))}onAttach(t){const{pictureInPicture:e,fullscreen:s}=this.a.$state;J(t,"pointer-events","none"),_(t,"role","group"),this.setAttributes({"data-visible":this.xf.bind(this),"data-fullscreen":s,"data-pip":e}),l(()=>{this.dispatch("change",{detail:this.xf()})}),l(this.ci.bind(this)),l(()=>{const n=s();for(const a of["top","right","bottom","left"])J(t,`padding-${a}`,n&&`env(safe-area-inset-${a})`)})}ci(){if(!this.el)return;const{$iosControls:t}=this.a,{controls:e}=this.a.$state,s=e()||t();g(this.el,"aria-hidden",s?"true":null),J(this.el,"display",s?"none":null)}bi(){const{controls:t}=this.a.player,{hideDelay:e,hideOnMouseLeave:s}=this.$props;t.defaultDelay=e()===2e3?this.a.$props.controlsDelay():e(),t.hideOnMouseLeave=s()}xf(){const{controlsVisible:t}=this.a.$state;return t()}};ya.props={hideDelay:2e3,hideOnMouseLeave:!1};let wi=ya;class ph extends bt{constructor(t){super(),this.j=t,this.Ac=-1,this.Bc=-1,this.Ia=null,l(this.di.bind(this))}onDestroy(){var t;(t=this.Ia)==null||t.call(this),this.Ia=null}di(){const t=this.j.C();if(!t){this.hide();return}const e=this.show.bind(this),s=this.hide.bind(this);this.j.zc(t,e,s)}show(t){var e,s,n;window.cancelAnimationFrame(this.Bc),this.Bc=-1,(e=this.Ia)==null||e.call(this),this.Ia=null,this.Ac=window.setTimeout(()=>{this.Ac=-1;const a=this.j.u();a&&a.style.removeProperty("display"),m(()=>this.j.B(!0,t))},((n=(s=this.j).yf)==null?void 0:n.call(s))??0)}hide(t){window.clearTimeout(this.Ac),this.Ac=-1,m(()=>this.j.B(!1,t)),this.Bc=requestAnimationFrame(()=>{var s;this.Bc=-1;const e=this.j.u();if(e){const n=Ol(e),a=()=>{e.style.display="none",this.Ia=null};if(n){(s=this.Ia)==null||s.call(this);const r=b(e,"animationend",a,{once:!0});this.Ia=r}else a()}})}}const ae=It();let Ou=0;const va=class va extends w{constructor(){super(),this.ca=`media-tooltip-${++Ou}`,this.C=E(null),this.u=E(null),new gt;const{showDelay:t}=this.$props;new ph({C:this.C,u:this.u,yf:t,zc(e,s,n){b(e,"touchstart",a=>a.preventDefault(),{passive:!1}),b(e,"focus",s),b(e,"blur",n),b(e,"mouseenter",s),b(e,"mouseleave",n)},B:this.ei.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onSetup(){ut(ae,{C:this.C,u:this.u,Jd:this.Jd.bind(this),Kd:this.Kd.bind(this),Ld:this.Ld.bind(this),Md:this.Md.bind(this)})}Jd(t){var s;this.C.set(t);let e=t.getAttribute("data-media-tooltip");e&&((s=this.el)==null||s.setAttribute(`data-media-${e}-tooltip`,"")),g(t,"data-describedby",this.ca)}Kd(t){t.removeAttribute("data-describedby"),t.removeAttribute("aria-describedby"),this.C.set(null)}Ld(t){t.setAttribute("id",this.ca),t.style.display="none",_(t,"role","tooltip"),this.u.set(t)}Md(t){t.removeAttribute("id"),t.removeAttribute("role"),this.u.set(null)}ei(t){const e=this.C(),s=this.u();e&&g(e,"aria-describedby",t?this.ca:null);for(const n of[this.el,e,s])n&&g(n,"data-visible",t)}};va.props={showDelay:500};let xi=va;const wa=class wa extends w{constructor(){super(),new gt;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){this.Ja(t),Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){this.Ja(t);const e=I(ae);S(()=>e.Md(t)),S(zt(()=>{this.connectScope&&l(this.Nd.bind(this))}))}Ja(t){I(ae).Ld(t)}Nd(){const{placement:t,offset:e,alignOffset:s}=this.$props;return rh(this.el,this.fi(),t(),{offsetVarName:"media-tooltip",xOffset:s(),yOffset:e()})}fi(){return I(ae).C()}};wa.props={placement:"top center",offset:0,alignOffset:0};let Ti=wa;const xa=class xa extends bt{constructor(t){super(),this.j=t,new gt,t.kb&&new au(t.kb)}onSetup(){const{disabled:t}=this.$props;this.setAttributes({"data-pressed":this.j.n,"aria-pressed":this.gi.bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){_(t,"tabindex","0"),_(t,"role","button"),_(t,"type","button")}onConnect(t){Bt(t,this.hi.bind(this));for(const e of["click","touchstart"])this.listen(e,this.ii.bind(this))}gi(){return cs(this.j.n())}ji(t){hc(this.j.n)&&this.j.n.set(e=>!e)}hi(t){if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){t.preventDefault(),t.stopImmediatePropagation();return}t.preventDefault(),(this.j.v??this.ji).call(this,t)}ii(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())}};xa.props={disabled:!1};let nt=xa;var Lu=Object.defineProperty,ju=Object.getOwnPropertyDescriptor,Nu=(i,t,e,s)=>{for(var n=s>1?void 0:s?ju(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&Lu(t,e,n),n};const Ta=class Ta extends w{constructor(){super(),this.zf=E(!1),new nt({n:this.zf})}get pressed(){return this.zf()}};Ta.props={disabled:!1,defaultPressed:!1};let bs=Ta;Nu([A],bs.prototype,"pressed",1);const ka=class ka extends w{constructor(){super(),new nt({n:this.n.bind(this),kb:"togglePaused",v:this.v.bind(this)})}onSetup(){this.a=$();const{paused:t,ended:e}=this.a.$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),ge(t,this.Z.bind(this))}v(t){const e=this.a.remote;this.n()?e.pause(t):e.play(t)}n(){const{paused:t}=this.a.$state;return!t()}Z(){const{paused:t}=this.a.$state;return t()?"Play":"Pause"}};ka.props=nt.props;let ki=ka;function Du(i){return i?"true":"false"}function pt(i){return()=>Du(i())}const Aa=class Aa extends w{constructor(){super(),new nt({n:this.n.bind(this),kb:"toggleCaptions",v:this.v.bind(this)})}onSetup(){this.a=$(),this.setAttributes({"data-active":this.n.bind(this),"data-supported":()=>!this.lb(),"aria-hidden":pt(this.lb.bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),ge(t,this.Z.bind(this))}v(t){this.a.remote.toggleCaptions(t)}n(){const{textTrack:t}=this.a.$state,e=t();return!!e&&z(e)}lb(){const{textTracks:t}=this.a.$state;return t().filter(z).length==0}Z(){const{textTrack:t}=this.a.$state;return t()?"Closed-Captions Off":"Closed-Captions On"}};Aa.props=nt.props;let Ai=Aa;const Ea=class Ea extends w{constructor(){super(),new nt({n:this.n.bind(this),kb:"toggleFullscreen",v:this.v.bind(this)})}onSetup(){this.a=$();const{fullscreen:t}=this.a.$state,e=this.Nb.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":pt(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),ge(t,this.Z.bind(this))}v(t){const e=this.a.remote,s=this.$props.target();this.n()?e.exitFullscreen(s,t):e.enterFullscreen(s,t)}n(){const{fullscreen:t}=this.a.$state;return t()}Nb(){const{canFullscreen:t}=this.a.$state;return t()}Z(){const{fullscreen:t}=this.a.$state;return t()?"Exit Fullscreen":"Enter Fullscreen"}};Ea.props={...nt.props,target:"prefer-media"};let Ei=Ea;const Sa=class Sa extends w{constructor(){super(),new nt({n:this.n.bind(this),kb:"toggleMuted",v:this.v.bind(this)})}onSetup(){this.a=$(),this.setAttributes({"data-muted":this.n.bind(this),"data-state":this.ki.bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),ge(t,this.Z.bind(this))}v(t){const e=this.a.remote;this.n()?e.unmute(t):e.mute(t)}n(){const{muted:t,volume:e}=this.a.$state;return t()||e()===0}Z(){return this.n()?"Unmute":"Mute"}ki(){const{muted:t,volume:e}=this.a.$state,s=e();if(t()||s===0)return"muted";if(s>=.5)return"high";if(s<.5)return"low"}};Sa.props=nt.props;let Si=Sa;const Pa=class Pa extends w{constructor(){super(),new nt({n:this.n.bind(this),kb:"togglePictureInPicture",v:this.v.bind(this)})}onSetup(){this.a=$();const{pictureInPicture:t}=this.a.$state,e=this.Nb.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":pt(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),ge(t,this.Z.bind(this))}v(t){const e=this.a.remote;this.n()?e.exitPictureInPicture(t):e.enterPictureInPicture(t)}n(){const{pictureInPicture:t}=this.a.$state;return t()}Nb(){const{canPictureInPicture:t}=this.a.$state;return t()}Z(){const{pictureInPicture:t}=this.a.$state;return t()?"Exit Picture In Picture":"Enter Picture In Picture"}};Pa.props=nt.props;let Pi=Pa;const Ca=class Ca extends w{constructor(){super(),new gt}onSetup(){this.a=$();const{seeking:t}=this.a.$state,{seconds:e}=this.$props,s=this.Nb.bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":s,"aria-hidden":pt(()=>!s())})}onAttach(t){_(t,"tabindex","0"),_(t,"role","button"),_(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),ge(t,this.Z.bind(this))}onConnect(t){Bt(t,this.v.bind(this))}Nb(){const{canSeek:t}=this.a.$state;return t()}Z(){const{seconds:t}=this.$props;return`Seek ${t()>0?"forward":"backward"} ${t()} seconds`}v(t){const{seconds:e,disabled:s}=this.$props;if(s())return;const{currentTime:n}=this.a.$state,a=n()+e();this.a.remote.seek(a,t)}};Ca.props={disabled:!1,seconds:30};let Ci=Ca;const _a=class _a extends w{constructor(){super(),new gt}onSetup(){this.a=$();const{disabled:t}=this.$props,{live:e,liveEdge:s}=this.a.$state,n=()=>!e();this.setAttributes({"data-edge":s,"data-hidden":n,"aria-disabled":pt(()=>t()||s()),"aria-hidden":pt(n)})}onAttach(t){_(t,"tabindex","0"),_(t,"role","button"),_(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){Bt(t,this.v.bind(this))}v(t){const{disabled:e}=this.$props,{liveEdge:s}=this.a.$state;e()||s()||this.a.remote.seekToLiveEdge(t)}};_a.props={disabled:!1};let _i=_a;const aa=new Zt({min:0,max:100,value:0,pointerValue:0,focused:!1,dragging:!1,pointing:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return po(this.min,this.max,this.value)},get fillPercent(){return this.fillRate*100},get pointerRate(){return po(this.min,this.max,this.pointerValue)},get pointerPercent(){return this.pointerRate*100}});function po(i,t,e){const s=t-i,n=e-i;return s>0?n/s:0}function Iu(i,t,e,s){return na(i,Q(e,Hl(s)),t)}function Ru(i,t,e,s){const n=na(0,e,1),a=t-i,r=a*n,h=r/s,o=s*h;return i+o}const fo={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};class Mu extends bt{constructor(t,e){super(),this.j=t,this.a=e,this.i=null,this.ua=null,this.mb=null,this.ti=Bs(s=>{this.va(this.Dc(s),s)},20,{leading:!0})}onConnect(){var t;if(l(this.li.bind(this)),l(this.mi.bind(this)),this.j.ni){const e=(t=this.a.player.el)==null?void 0:t.querySelector("media-provider,[data-media-provider]");e&&(this.i=e,b(e,"touchstart",this.oi.bind(this),{passive:!0}),b(e,"touchmove",this.pi.bind(this),{passive:!1}))}}oi(t){this.ua=t.touches[0]}pi(t){if(Dt(this.ua)||sa(t))return;const e=t.touches[0],s=e.clientX-this.ua.clientX,n=e.clientY-this.ua.clientY,a=this.$state.dragging();!a&&Math.abs(n)>20||a||Math.abs(s)>20&&(this.ua=e,this.mb=this.$state.value(),this.Od(this.mb,t))}li(){this.j.K()||(this.listen("focus",this.Lb.bind(this)),this.listen("pointerenter",this.Cd.bind(this)),this.listen("pointermove",this.qi.bind(this)),this.listen("pointerleave",this.Dd.bind(this)),this.listen("pointerdown",this.ri.bind(this)),this.listen("keydown",this.Ab.bind(this)),this.listen("keyup",this.zb.bind(this)))}mi(){this.j.K()||!this.$state.dragging()||(b(document,"pointerup",this.si.bind(this)),b(document,"pointermove",this.ti.bind(this)),hl&&b(document,"touchmove",this.ui.bind(this),{passive:!1}))}Lb(){this.va(this.$state.value())}Pd(t,e){var c,u,d,p;const{value:s,min:n,max:a,dragging:r}=this.$state,h=Math.max(n(),Math.min(t,a()));s.set(h);const o=this.createEvent("value-change",{detail:h,trigger:e});if(this.dispatch(o),(u=(c=this.j).o)==null||u.call(c,o),r()){const f=this.createEvent("drag-value-change",{detail:h,trigger:e});this.dispatch(f),(p=(d=this.j).nb)==null||p.call(d,f)}}va(t,e){const{pointerValue:s,dragging:n}=this.$state;s.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),n()&&this.Pd(t,e)}Dc(t){let e,s=this.el.getBoundingClientRect(),{min:n,max:a}=this.$state;if(this.$props.orientation()==="vertical"){const{bottom:r,height:h}=s;e=(r-t.clientY)/h}else if(this.ua&&os(this.mb)){const{width:r}=this.i.getBoundingClientRect(),h=(t.clientX-this.ua.clientX)/r,o=a()-n(),c=o*Math.abs(h);e=(h<0?this.mb-c:this.mb+c)/o}else{const{left:r,width:h}=s;e=(t.clientX-r)/h}return Math.max(n(),Math.min(a(),this.j.Ob(Ru(n(),a(),e,this.j.Ka()))))}Cd(t){this.$state.pointing.set(!0)}qi(t){const{dragging:e}=this.$state;e()||this.va(this.Dc(t),t)}Dd(t){this.$state.pointing.set(!1)}ri(t){if(t.button!==0)return;const e=this.Dc(t);this.Od(e,t),this.va(e,t)}Od(t,e){var a,r;const{dragging:s}=this.$state;if(s())return;s.set(!0),this.a.remote.pauseControls(e);const n=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(n),(r=(a=this.j).Qd)==null||r.call(a,n)}Af(t,e){var a,r;const{dragging:s}=this.$state;if(!s())return;s.set(!1),this.a.remote.resumeControls(e);const n=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(n),(r=(a=this.j).Ec)==null||r.call(a,n),this.ua=null,this.mb=null}Ab(t){const{key:e}=t,{min:s,max:n}=this.$state;let a;if(e==="Home"||e==="PageUp"?a=s():e==="End"||e==="PageDown"?a=n():!t.metaKey&&/[0-9]/.test(e)&&(a=(n()-s())/10*Number(e)),!st(a)){this.va(a,t),this.Pd(a,t);return}const r=this.Bf(t);if(st(r))return;const h=e===this.Rd;!this.$state.dragging()&&h&&this.Od(r,t),this.va(r,t),h||this.Pd(r,t),this.Rd=e}zb(t){this.Rd="";const{dragging:e,value:s}=this.$state;if(!e())return;const n=this.Bf(t)??s();this.va(n),this.Af(n,t)}Bf(t){const{key:e,shiftKey:s}=t;if(!Object.keys(fo).includes(e))return;t.preventDefault(),t.stopPropagation();const{shiftKeyMultiplier:a}=this.$props,{value:r,min:h,max:o}=this.$state,c=this.j.Ka(),u=this.j.Pb(),d=s?u*a():u,p=Number(fo[e]),f=d*p,T=(r()+f)/c;return Math.max(h(),Math.min(o(),Number((c*T).toFixed(3))))}si(t){if(t.button!==0)return;const e=this.Dc(t);this.va(e,t),this.Af(e,t)}ui(t){t.preventDefault()}}const Oe=It(()=>({})),ra=It(),Oa=class Oa extends bt{constructor(t){super(),this.j=t,this.xi=Rt((e,s)=>{var n,a;(n=this.el)==null||n.style.setProperty("--slider-fill",e+"%"),(a=this.el)==null||a.style.setProperty("--slider-pointer",s+"%")})}onSetup(){this.a=$();const t=new gt;t.attach(this),this.$state.focused=t.focused.bind(t),wt(Oe)||ut(Oe,{default:"value"}),ut(ra,{ta:this.$props.orientation,Fc:this.j.K,Cf:E(null)}),l(this.D.bind(this)),l(this.Qb.bind(this)),this.vi(),new Mu(this.j,this.a).attach(this)}onAttach(t){_(t,"role","slider"),_(t,"tabindex","0"),_(t,"autocomplete","off"),l(this.Df.bind(this))}D(){const{dragging:t,value:e,min:s,max:n}=this.$state;m(t)||e.set(Iu(s(),n(),e(),this.j.Ka()))}Qb(){if(!this.j.K())return;const{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)}wi(){return cs(this.j.K())}vi(){const{orientation:t}=this.$props,{dragging:e,active:s,pointing:n}=this.$state;this.setAttributes({"data-dragging":e,"data-pointing":n,"data-active":s,"aria-disabled":this.wi.bind(this),"aria-valuemin":this.$state.min,"aria-valuemax":this.$state.max,"aria-valuenow":this.j.ia,"aria-valuetext":this.j.ja,"aria-orientation":t})}Df(){const{fillPercent:t,pointerPercent:e}=this.$state;this.xi(Q(t(),3),Q(e(),3))}};Oa.props={disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};let jt=Oa;const Cs=class Cs extends w{constructor(){super(),new jt({Ka:this.$props.step,Pb:this.$props.keyStep,Ob:Math.round,K:this.$props.disabled,ia:this.ia.bind(this),ja:this.ja.bind(this)})}onSetup(){l(this.D.bind(this)),l(this.yi.bind(this))}ia(){const{value:t}=this.$state;return Math.round(t())}ja(){const{value:t,max:e}=this.$state;return Q(t()/e()*100,2)+"%"}D(){const{value:t}=this.$props;this.$state.value.set(t())}yi(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}};Cs.props={...jt.props,min:0,max:100,value:0},Cs.state=aa;let Kt=Cs;const Tt=new Map,li=new Set,ui=new Set;class oa{constructor(t,e){this.$src=t,this.a=e,this.$cues=E([]),l(this.zi.bind(this)),ui.add(this),S(()=>ui.delete(this))}static create(t){const e=$();return new oa(t,e)}zi(){const{canLoad:t}=this.a.$state;if(!t())return;const e=new AbortController,{crossorigin:s}=this.a.$state,n=this.$src();if(n){if(Tt.has(n)){const a=Tt.get(n);if(Tt.delete(n),Tt.set(n,a),Tt.size>30){const r=Tt.keys().next().value;Tt.delete(r)}this.$cues.set(Tt.get(n))}else li.has(n)||(li.add(n),yt(()=>import("./prod.a087075c.js").then(a=>a.d),["./prod.a087075c.js","./entry.1510e103.js","./entry.d736548a.css"],import.meta.url).then(async({parseResponse:a})=>{try{const r=await fetch(n,{signal:e.signal,credentials:us(s())});if(r.headers.get("content-type")==="application/json"){try{const{cues:c}=eh(await r.text(),window.VTTCue);this.Ef(n,c)}catch{}return}const{cues:o}=await a(r);this.Ef(n,o)}catch{}}));return()=>{e.abort(),this.$cues.set([])}}}Ef(t,e){this.$cues.set(e);for(const s of ui)m(s.$src)===t&&s.$cues.set(e);Tt.set(t,e),li.delete(t)}}const _s=class _s extends w{constructor(){super(...arguments),this.Td=[],this.Ff=Rt(this.Fi.bind(this))}onSetup(){this.a=$(),this.Sd=oa.create(this.$props.src),this.setAttributes({"data-loading":this.Rb.bind(this),"data-error":this.wa.bind(this),"data-hidden":this.$state.hidden,"aria-hidden":pt(this.$state.hidden)})}onConnect(t){l(this.Ud.bind(this)),l(this.ob.bind(this)),l(this.Ea.bind(this)),l(this.Ai.bind(this)),l(this.Bi.bind(this))}Ud(){const t=this.$state.img();t&&(b(t,"load",this.qd.bind(this)),b(t,"error",this.U.bind(this)))}Ea(){const{src:t,loading:e,error:s}=this.$state;t(),e.set(!0),s.set(null)}qd(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null),this.Ff()}U(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}Rb(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}wa(){const{error:t}=this.$state;return!Dt(t())}ob(){const{hidden:t}=this.$state,{duration:e}=this.a.$state,s=this.Sd.$cues();t.set(this.wa()||!Number.isFinite(e())||s.length===0)}Gf(){return this.$props.time()}Ai(){const t=this.Gf(),{activeCue:e}=this.$state,{duration:s}=this.a.$state,n=this.Sd.$cues();if(!n||!Number.isFinite(s())){e.set(null);return}e.set(Cl(n,t))}Bi(){let{activeCue:t}=this.$state,e=t(),s=m(this.$props.src);if(/^https?:/.test(s)||(s=location.href),!s||!e){this.$state.src.set(""),this.Ci();return}const[n,a=""]=(e.text||"").split("#");this.$state.coords.set(this.Di(a)),this.$state.src.set(this.Ei(n,s)),this.Ff()}Ei(t,e){return/^https?:/.test(t)?t:new URL(t,e).href}Di(t){const[e,s]=t.split("="),n={},a=s==null?void 0:s.split(",");if(!e||!s)return null;for(let r=0;r<e.length;r++)n[e[r]]=+a[r];return n}Fi(){if(!this.scope)return;const t=this.$state.img(),e=this.$state.coords();if(!t||!this.el)return;const s=(e==null?void 0:e.w)??t.naturalWidth,n=(e==null?void 0:e.h)??t.naturalHeight,{maxWidth:a,maxHeight:r,minWidth:h,minHeight:o}=getComputedStyle(this.el),c=Math.max(parseInt(h)/s,parseInt(o)/n),u=Math.min(parseInt(a)/s,parseInt(r)/n),d=u<1?u:c>1?c:1;this.pb(this.el,"--thumbnail-width",`${s*d}px`),this.pb(this.el,"--thumbnail-height",`${n*d}px`),this.pb(t,"width",`${t.naturalWidth*d}px`),this.pb(t,"height",`${t.naturalHeight*d}px`),this.pb(t,"transform",e?`translate(-${e.x*d}px, -${e.y*d}px)`:""),this.pb(t,"max-width","none")}pb(t,e,s){t.style.setProperty(e,s),this.Td.push(()=>t.style.removeProperty(e))}Ci(){for(const t of this.Td)t();this.Td=[]}};_s.props={src:"",time:0},_s.state=new Zt({src:"",img:null,coords:null,activeCue:null,loading:!1,error:null,hidden:!1});let Oi=_s;var qu=Object.defineProperty,Hu=Object.getOwnPropertyDescriptor,Fu=(i,t,e,s)=>{for(var n=s>1?void 0:s?Hu(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&qu(t,e,n),n};const Os=class Os extends w{get video(){return this.$state.video()}onSetup(){this.a=$(),this.Q=Fe(Kt.state),this.setAttributes({"data-loading":this.Rb.bind(this),"data-hidden":this.$state.hidden,"data-error":this.wa.bind(this),"aria-hidden":pt(this.$state.hidden)})}onAttach(t){l(this.Gi.bind(this)),l(this.fd.bind(this)),l(this.ob.bind(this)),l(this.Hi.bind(this)),l(this.Ii.bind(this))}Gi(){const t=this.$state.video();t&&(t.readyState>=2&&this.hc(),b(t,"canplay",this.hc.bind(this)),b(t,"error",this.U.bind(this)))}fd(){const{src:t}=this.$state,{canLoad:e}=this.a.$state;t.set(e()?this.$props.src():null)}Rb(){const{canPlay:t,hidden:e}=this.$state;return!t()&&!e()}wa(){const{error:t}=this.$state;return!Dt(t)}ob(){const{src:t,hidden:e}=this.$state,{canLoad:s,duration:n}=this.a.$state;e.set(s()&&(!t()||this.wa()||!Number.isFinite(n())))}Hi(){const{src:t,canPlay:e,error:s}=this.$state;t(),e.set(!1),s.set(null)}hc(t){const{canPlay:e,error:s}=this.$state;e.set(!0),s.set(null),this.dispatch("can-play",{trigger:t})}U(t){const{canPlay:e,error:s}=this.$state;e.set(!1),s.set(t),this.dispatch("error",{trigger:t})}Ii(){const{video:t,canPlay:e}=this.$state,{duration:s}=this.a.$state,{pointerRate:n}=this.Q,a=t();e()&&a&&Number.isFinite(s())&&Number.isFinite(n())&&(a.currentTime=n()*s())}};Os.props={src:null},Os.state=new Zt({video:null,src:null,canPlay:!1,error:null,hidden:!1});let gs=Os;Fu([A],gs.prototype,"video",1);function di(i,t){const e=String(i),s=e.length;if(s<t){const a=t-s;return`${"0".repeat(a)}${i}`}return e}function fh(i){const t=Math.trunc(i/3600),e=Math.trunc(i%3600/60),s=Math.trunc(i%60),n=Number((i-Math.trunc(i)).toPrecision(3));return{hours:t,minutes:e,seconds:s,fraction:n}}function zs(i,t=null,e=null,s=!1){const{hours:n,minutes:a,seconds:r}=fh(i),h=t?di(n,2):n,o=e||Dt(e)&&i>=3600?di(a,2):a,c=di(r,2);return n>0||s?`${h}:${o}:${c}`:`${o}:${c}`}function Li(i){const t=[],{hours:e,minutes:s,seconds:n}=fh(i);return e>0&&t.push(`${e} hour`),s>0&&t.push(`${s} min`),(n>0||t.length===0)&&t.push(`${n} sec`),t.join(" ")}var Vu=Object.defineProperty,Uu=Object.getOwnPropertyDescriptor,Wu=(i,t,e,s)=>{for(var n=s>1?void 0:s?Uu(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&Vu(t,e,n),n};const La=class La extends w{onSetup(){this.Q=Fe(Kt.state),this.Sb=I(Oe),this.Ji=U(this.getValueText.bind(this))}getValueText(){var f,T;const{type:t,format:e,decimalPlaces:s,padHours:n,padMinutes:a,showHours:r}=this.$props,{value:h,pointerValue:o,min:c,max:u}=this.Q,d=e()??this.Sb.default,p=t()==="current"?h():o();if(d==="percent"){const x=u()-c(),F=p/x*100;return(this.Sb.percent??Q)(F,s())+""}else return d==="time"?(this.Sb.time??zs)(p,n(),a(),r()):((T=(f=this.Sb).value)==null?void 0:T.call(f,p))??p.toFixed(2)}};La.props={type:"pointer",format:null,showHours:!1,padHours:null,padMinutes:null,decimalPlaces:2};let $s=La;Wu([H],$s.prototype,"getValueText",1);const ja=class ja extends w{onSetup(){this.Q=I(ra);const{active:t}=Fe(Kt.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){const{Cf:e}=this.Q;e.set(t),S(()=>e.set(null)),l(this.Hf.bind(this));const s=new ResizeObserver(this.Hf.bind(this));s.observe(t),S(()=>s.disconnect())}Hf(){const{Fc:t,ta:e}=this.Q;if(t())return;const s=this.el,{offset:n,noClamp:a}=this.$props;Bu(s,{clamp:!a(),offset:n(),orientation:e()})}};ja.props={offset:0,noClamp:!1};let ji=ja;function Bu(i,{clamp:t,offset:e,orientation:s}){const{width:n,height:a}=i.getBoundingClientRect(),r={top:null,right:null,bottom:null,left:null};if(r[s==="horizontal"?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${e}px))`,s==="horizontal"){const h=n/2;if(!t)r.left=`calc(var(--slider-pointer) - ${h}px)`;else{const o=`max(0px, calc(var(--slider-pointer) - ${h}px))`,c=`calc(100% - ${n}px)`;r.left=`min(${o}, ${c})`}}else{const h=a/2;if(!t)r.bottom=`calc(var(--slider-pointer) - ${h}px)`;else{const o=`max(${h}px, calc(var(--slider-pointer) - ${h}px))`,c=`calc(100% - ${a}px)`;r.bottom=`min(${o}, ${c})`}}Object.assign(i.style,r)}const Ls=class Ls extends w{constructor(){super(...arguments),this.If=Bs(this.ab.bind(this),25)}onSetup(){this.a=$(),ut(Oe,{default:"percent"}),new jt({Ka:this.$props.step,Pb:this.$props.keyStep,K:this.$props.disabled,Ob:Math.round,ia:this.ia.bind(this),ja:this.ja.bind(this),nb:this.nb.bind(this),o:this.o.bind(this)}).attach(this),l(this.Fd.bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),_(t,"aria-label","Volume");const{canSetVolume:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":pt(()=>!e())})}ia(){const{value:t}=this.$state;return Math.round(t())}ja(){const{value:t,max:e}=this.$state;return Q(t()/e()*100,2)+"%"}Fd(){const{muted:t,volume:e}=this.a.$state,s=t()?0:e()*100;this.$state.value.set(s),this.dispatch("value-change",{detail:s})}ab(t){if(!t.trigger)return;const e=Q(t.detail/100,3);this.a.remote.changeVolume(e,t)}o(t){this.If(t)}nb(t){this.If(t)}};Ls.props={...jt.props,keyStep:5,shiftKeyMultiplier:2},Ls.state=aa;let Ni=Ls;const js=class js extends w{constructor(){super(),this.Jf=E(null),this.Wd=!1,new jt({ni:!0,Ka:this.Ka.bind(this),Pb:this.Pb.bind(this),K:this.K.bind(this),Ob:this.Ob,ia:this.ia.bind(this),ja:this.ja.bind(this),Qd:this.Qd.bind(this),nb:this.nb.bind(this),Ec:this.Ec.bind(this),o:this.o.bind(this)})}onSetup(){this.a=$(),ut(Oe,{default:"time",value:this.Ki.bind(this),time:this.Li.bind(this)}),this.setAttributes({"data-chapters":this.Mi.bind(this)}),this.setStyles({"--slider-progress":this.Ni.bind(this)}),l(this.jb.bind(this)),l(this.Oi.bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),_(t,"aria-label","Seek")}onConnect(t){l(this.Pi.bind(this)),Ws(this.a.textTracks,"chapters",this.Jf.set)}Ni(){const{bufferedEnd:t,duration:e}=this.a.$state;return Q(Math.min(t()/Math.max(e(),1),1)*100,3)+"%"}Mi(){var e;const{duration:t}=this.a.$state;return((e=this.Jf())==null?void 0:e.cues.length)&&Number.isFinite(t())&&t()>0}Oi(){this.Vd=Bs(this.qa.bind(this),this.$props.seekingRequestThrottle())}jb(){const{currentTime:t}=this.a.$state,{value:e,dragging:s}=this.$state,n=this.Qi(t());m(s)||(e.set(n),this.dispatch("value-change",{detail:n}))}Pi(){const t=this.a.player.el,{Cf:e}=I(ra);t&&e()&&g(t,"data-preview",this.$state.active())}qa(t,e){this.a.remote.seeking(t,e)}Ri(t,e,s){this.Vd.cancel();const{live:n}=this.a.$state;if(n()&&e>=99){this.a.remote.seekToLiveEdge(s);return}this.a.remote.seek(t,s)}Qd(t){const{pauseWhileDragging:e}=this.$props;if(e()){const{paused:s}=this.a.$state;this.Wd=!s(),this.a.remote.pause(t)}}nb(t){this.Vd(this.Tb(t.detail),t)}Ec(t){const e=t.detail;this.Ri(this.Tb(e),e,t);const{pauseWhileDragging:s}=this.$props;s()&&this.Wd&&(this.a.remote.play(t),this.Wd=!1)}o(t){const{dragging:e}=this.$state;e()||!t.trigger||this.Ec(t)}Ka(){const t=this.$props.step()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}Pb(){const t=this.$props.keyStep()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}Ob(t){return Q(t,3)}K(){const{canSeek:t}=this.a.$state;return this.$props.disabled()||!t()}ia(){const{value:t}=this.$state;return Math.round(t())}ja(){const t=this.Tb(this.$state.value()),{duration:e}=this.a.$state;return Number.isFinite(t)?`${Li(t)} out of ${Li(e())}`:"live"}Tb(t){const{duration:e}=this.a.$state;return Q(t/100*e(),5)}Qi(t){const{liveEdge:e,duration:s}=this.a.$state,n=Math.max(0,Math.min(1,e()?1:Math.min(t,s())/s()));return Number.isNaN(n)?0:Number.isFinite(n)?n*100:100}Ki(t){const e=this.Tb(t),{live:s,duration:n}=this.a.$state;return Number.isFinite(e)?(s()?e-n():e).toFixed(0):"LIVE"}Li(t,e,s,n){const a=this.Tb(t),{live:r,duration:h}=this.a.$state,o=r()?a-h():a;return Number.isFinite(a)?`${o<0?"-":""}${zs(Math.abs(o),e,s,n)}`:"LIVE"}};js.props={...jt.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,seekingRequestThrottle:100},js.state=aa;let ys=js;var zu=Object.defineProperty,Ku=Object.getOwnPropertyDescriptor,Ks=(i,t,e,s)=>{for(var n=s>1?void 0:s?Ku(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&zu(t,e,n),n};const Na=class Na extends w{constructor(){super(...arguments),this.La=null,this.R=[],this.Gc=E(null),this._=E([]),this.Ub=E(-1),this.Hc=E(-1),this.Zd=0,this.Xi=Rt(t=>{var n;let e,s=this._();for(let a=this.Zd;a<this.R.length;a++)if(e=this.ae(s[a],t),(n=this.R[a])==null||n.style.setProperty("--chapter-progress",e+"%"),e<100){this.Zd=a;break}}),this.Yi=U(this.Zi.bind(this)),this.$i=lh(()=>{const t=m(this.Gc);!this.scope||!t||!t.cues.length||(this._.set(this._i(t.cues)),this.Ub.set(0))},150,!0)}get cues(){return this._()}get activeCue(){return this._()[this.Ub()]||null}get activePointerCue(){return this._()[this.Hc()]||null}onSetup(){this.a=$(),this.Xd=Fe(ys.state)}onAttach(t){Ws(this.a.textTracks,"chapters",this.Kf.bind(this)),l(this._d.bind(this))}onConnect(){S(()=>this.H.bind(this))}onDestroy(){this.Kf(null)}setRefs(t){var e;if(this.R=t,(e=this.Yd)==null||e.dispose(),this.R.length===1){const s=this.R[0];s.style.width="100%",s.style.setProperty("--chapter-fill","var(--slider-fill)"),s.style.setProperty("--chapter-progress","var(--slider-progress)")}else this.R.length>0&&K(()=>this.Si(),this.Yd=rs())}Kf(t){m(this.Gc)!==t&&(this.H(),this.Gc.set(t))}H(){var t;this.R=[],this._.set([]),this.Ub.set(-1),this.Hc.set(-1),this.Zd=0,(t=this.Yd)==null||t.dispose()}Si(){this.R.length&&(l(this.Ti.bind(this)),l(this.Ui.bind(this)),l(this.Vi.bind(this)),l(this.Wi.bind(this)))}Ti(){let t,e=this._(),s=e[e.length-1].endTime;for(let n=0;n<e.length;n++)t=e[n],this.R[n]&&(this.R[n].style.width=Q((t.endTime-t.startTime)/s*100,3)+"%")}Ui(){let{liveEdge:t,ended:e}=this.a.$state,{fillPercent:s,value:n}=this.Xd,a=this._(),r=t(),h=m(this.Ub),o=a[h],c=r?this._.length-1:this.Lf(o&&o.startTime<=m(n)?h:0,s());r||e()||!o?this.$d(0,a.length,"100%"):c>h?this.$d(h,c,"100%"):c<h&&this.$d(c+1,h+1,"0%");const u=r?"100%":this.ae(a[c],s())+"%";this.Mf(this.R[c],u),this.Ub.set(c)}Vi(){let{pointing:t,pointerPercent:e}=this.Xd;if(!t()){this.Hc.set(-1);return}const s=this.Lf(0,e());this.Hc.set(s)}$d(t,e,s){for(let n=t;n<e;n++)this.Mf(this.R[n],s)}Mf(t,e){t&&t.style.setProperty("--chapter-fill",e)}Lf(t,e){let s=0,n=this._();for(let a=t;a<n.length;a++)if(s=this.ae(n[a],e),s>=0&&s<100)return a;return 0}Wi(){this.Xi(this.Yi())}Zi(){const{bufferedEnd:t,duration:e}=this.a.$state;return Q(Math.min(t()/Math.max(e(),1),1),3)*100}ae(t,e){const s=this._();if(s.length===0)return 0;const n=s[s.length-1],a=t.startTime/n.endTime*100,r=t.endTime/n.endTime*100;return Math.max(0,Q(e>=r?100:(e-a)/(r-a)*100,3))}_i(t){const e=[];t[0].startTime!==0&&e.push(new window.VTTCue(0,t[0].startTime,""));for(let s=0;s<t.length-1;s++){const n=t[s],a=t[s+1];if(e.push(n),a){const r=a.startTime-n.endTime;r>0&&e.push(new window.VTTCue(n.endTime,n.endTime+r,""))}}return e.push(t[t.length-1]),e}_d(){if(!this.scope)return;const{disabled:t}=this.$props;if(t())return;const e=this.Gc();if(e){const s=this.$i.bind(this);s(),S(b(e,"add-cue",s)),S(b(e,"remove-cue",s))}return this.La=this.aj(),this.La&&l(this.bj.bind(this)),()=>{this.La&&(this.La.textContent="",this.La=null)}}bj(){const t=this.activePointerCue||this.activeCue;this.La&&(this.La.textContent=(t==null?void 0:t.text)||"")}cj(){let t=this.el;for(;t&&t.getAttribute("role")!=="slider";)t=t.parentElement;return t}aj(){const t=this.cj();return t?t.querySelector('[data-part="chapter-title"]'):null}};Na.props={disabled:!1};let Qt=Na;Ks([A],Qt.prototype,"cues",1);Ks([A],Qt.prototype,"activeCue",1);Ks([A],Qt.prototype,"activePointerCue",1);Ks([H],Qt.prototype,"setRefs",1);const B=It(),Qu=["a[href]","[tabindex]","input","select","button"].map(i=>`${i}:not([aria-hidden])`).join(","),mo=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);class Yu{constructor(t){this.j=t,this.ka=0,this.xa=null,this.da=[]}get r(){return this.da}Nf(t){return b(t,"focus",this.Lb.bind(this)),this.xa=t,S(()=>{this.xa=null}),this}zc(){this.xa&&(this.ea(),b(this.xa,"keyup",this.zb.bind(this)),b(this.xa,"keydown",this.Ab.bind(this)),S(()=>{this.ka=0,this.da=[]}))}ea(){this.ka=0,this.da=this.dj()}Of(t=this.Pf()){const e=this.da[t],s=this.j.ej();e&&s&&requestAnimationFrame(()=>{s.scrollTop=e.offsetTop-s.offsetHeight/2+e.offsetHeight/2})}qb(t){var e;this.ka=t,(e=this.da[t])==null||e.focus(),this.Of(t)}Pf(){return this.da.findIndex(t=>t.getAttribute("aria-checked")==="true")}Lb(){this.ea(),setTimeout(()=>{const t=this.Pf();this.qb(t>=0?t:0)},100)}zb(t){mo.has(t.key)&&(t.stopPropagation(),t.preventDefault())}Ab(t){if(mo.has(t.key))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":this.j.fj(t);break;case"Tab":this.qb(this.be(t.shiftKey?-1:1));break;case"ArrowUp":this.qb(this.be(-1));break;case"ArrowDown":this.qb(this.be(1));break;case"Home":case"PageUp":this.qb(0);break;case"End":case"PageDown":this.qb(this.da.length-1);break}}be(t){var s;let e=this.ka;do e=(e+t+this.da.length)%this.da.length;while(((s=this.da[e])==null?void 0:s.offsetParent)===null);return e}dj(){if(!this.xa)return[];const t=this.xa.querySelectorAll(Qu),e=[],s=n=>n.getAttribute("role")==="menu";for(const n of t)n instanceof HTMLElement&&n.offsetParent!==null&&sh(this.xa,n,s)&&e.push(n);return e}}var Xu=Object.defineProperty,Ju=Object.getOwnPropertyDescriptor,Ue=(i,t,e,s)=>{for(var n=s>1?void 0:s?Ju(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&Xu(t,e,n),n};let Zu=0;const Da=class Da extends w{constructor(){super(),this.L=E(!1),this.Fc=E(!1),this.C=E(null),this.u=E(null),this.Qf=E(!1),this.Vb=new Set,this.Ic=null,this.rj=this.sj.bind(this),this.pj=this.tj.bind(this),this.qj=this.uj.bind(this);const{showDelay:t}=this.$props;this.Jc=new ph({C:this.C,u:this.u,yf:t,zc:(e,s,n)=>{Bt(e,r=>{this.L()?n(r):s(r)});const a=this.gj();a&&Bt(a,r=>{r.stopPropagation(),n(r)})},B:this.hj.bind(this)})}get triggerElement(){return this.C()}get contentElement(){return this.u()}get isSubmenu(){return!!this.ee}onSetup(){this.a=$();const t=++Zu;this.ce=`media-menu-${t}`,this.de=`media-menu-button-${t}`,this.rb=new Yu({ej:this.ij.bind(this),fj:this.close.bind(this)}),wt(B)&&(this.ee=I(B)),this.setAttributes({"data-open":this.L,"data-submenu":this.isSubmenu,"data-disabled":this.K.bind(this)}),ut(B,{jj:this.C,L:this.L,Wb:E(""),Ma:this.Ma.bind(this),fe:this.fe.bind(this),ge:this.ge.bind(this),he:this.he.bind(this),ie:this.ie.bind(this),je:this.je.bind(this)})}onAttach(t){t.style.setProperty("display","contents"),this.rb.Nf(t)}onConnect(t){var e;l(this.kj.bind(this)),this.isSubmenu&&((e=this.ee)==null||e.je(this)),requestAnimationFrame(()=>{this.O()})}onDestroy(){this.C.set(null),this.u.set(null),this.Ic=null}kj(){const t=this.lj();this.O(),this.Rf(t),t&&(l(()=>{const{height:e}=this.a.$state,s=this.u();s&&J(s,"--player-height",e()+"px")}),this.rb.zc(),this.listen("pointerup",this.mj.bind(this)),b(window,"pointerup",this.nj.bind(this)))}fe(t){const e=t.el,s=this.isSubmenu,n=pt(this.K.bind(this));_(e,"tabindex",s?"-1":"0"),_(e,"role",s?"menuitem":"button"),g(e,"id",this.de),g(e,"aria-haspopup","menu"),g(e,"aria-expanded","false"),g(e,"data-submenu",this.isSubmenu),this.isSubmenu||this.Sf(e),l(()=>{g(e,"data-open",this.L()),g(e,"aria-disabled",n())}),this.C.set(e),S(()=>{this.C.set(null)})}ge(t){const e=t.el;e.style.setProperty("display","none"),g(e,"id",this.ce),_(e,"role","menu"),_(e,"tabindex","-1"),g(e,"data-submenu",this.isSubmenu),this.u.set(e),S(()=>this.u.set(null)),this.isSubmenu||this.Sf(e),l(()=>{g(e,"data-open",this.L())}),this.rb.Nf(e),this.Rf(!1);{const n=Rt(this.O.bind(this)),a=new MutationObserver(n);n(),a.observe(e,{childList:!0,subtree:!0}),S(()=>a.disconnect())}}he(t){this.Ic=t}Sf(t){b(t,"click",e=>e.stopPropagation()),b(t,"pointerup",e=>e.stopPropagation())}Rf(t){const e=m(this.u);e&&g(e,"aria-hidden",cs(!t))}ie(t){this.Qf.set(t)}hj(t,e){var a,r,h,o,c;if(e==null||e.stopPropagation(),this.L()===t)return;if(this.K()){t&&this.Jc.hide(e);return}const s=this.C(),n=this.u();if(s&&(g(s,"aria-controls",t&&this.ce),g(s,"aria-expanded",cs(t))),n&&g(n,"aria-labelledby",t&&this.de),this.L.set(t),this.oj(e),_t(),hs(e)){t?n==null||n.focus():s==null||s.focus();for(const u of[this.el,n])u&&u.setAttribute("data-keyboard","")}else for(const u of[this.el,n])u&&u.removeAttribute("data-keyboard");this.dispatch(t?"open":"close",{trigger:e}),t?(!this.isSubmenu&&this.a.activeMenu!==this&&((a=this.a.activeMenu)==null||a.close(e),this.a.activeMenu=this),(h=(r=this.Ic)==null?void 0:r.ke)==null||h.call(r,e)):(this.isSubmenu?setTimeout(()=>{for(const u of this.Vb)u.close(e)},300):this.a.activeMenu=null,(c=(o=this.Ic)==null?void 0:o.Tj)==null||c.call(o,e)),t&&!hs(e)&&requestAnimationFrame(()=>{this.rb.ea(),setTimeout(()=>{this.rb.Of()},100)})}lj(){return!this.K()&&this.L()}K(){return this.Fc()||this.Qf()}Ma(t){this.Fc.set(t)}mj(t){t.stopPropagation()}nj(t){if(this.isSubmenu)return setTimeout(this.close.bind(this,t),800);this.close(t)}gj(){const t=this.el.querySelector('[data-part="close-target"]');return sh(this.el,t,e=>e.getAttribute("role")==="menu")?t:null}ij(){if(this.isSubmenu){let t=this.el;for(;t&&t.tagName!=="media-menu"&&t.hasAttribute("data-submenu");)t=t.parentNode;return t}else return m(this.u)||null}oj(t){this.isSubmenu||(this.L()?this.a.remote.pauseControls(t):this.a.remote.resumeControls(t))}je(t){this.Vb.add(t),b(t,"open",this.pj),b(t,"close",this.qj),S(this.rj)}sj(t){this.Vb.delete(t)}tj(t){for(const e of this.Vb)if(e!==t.target)for(const s of[e.el,e.triggerElement])s==null||s.setAttribute("aria-hidden","true");requestAnimationFrame(()=>{this.O()})}uj(){for(const t of this.Vb)for(const e of[t.el,t.triggerElement])e==null||e.setAttribute("aria-hidden","false");requestAnimationFrame(()=>{this.O()})}O(){const t=m(this.u);if(!t)return;let{paddingTop:e,paddingBottom:s,borderTopWidth:n,borderBottomWidth:a}=getComputedStyle(t),r=parseFloat(e)+parseFloat(s)+parseFloat(n)+parseFloat(a),h=[...t.children];for(const o of h)o instanceof HTMLElement&&o.style.display==="contents"?h.push(...o.children):o.nodeType===3?r+=parseInt(window.getComputedStyle(o).fontSize,10):r+=o.offsetHeight||0;requestAnimationFrame(()=>{t&&(g(t,"data-resizing",""),setTimeout(()=>{t&&g(t,"data-resizing",!1)},400),J(t,"--menu-height",r+"px"))})}open(t){m(this.L)||(this.Jc.show(t),_t())}close(t){m(this.L)&&(this.Jc.hide(t),_t())}};Da.props={showDelay:0};let Nt=Da;Ue([A],Nt.prototype,"triggerElement",1);Ue([A],Nt.prototype,"contentElement",1);Ue([A],Nt.prototype,"isSubmenu",1);Ue([H],Nt.prototype,"open",1);Ue([H],Nt.prototype,"close",1);var Gu=Object.defineProperty,td=Object.getOwnPropertyDescriptor,ed=(i,t,e,s)=>{for(var n=s>1?void 0:s?td(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&Gu(t,e,n),n};const Ia=class Ia extends w{constructor(){super(),new gt}get expanded(){var t;return((t=this.l)==null?void 0:t.L())??!1}onSetup(){this.l=I(B)}onAttach(t){this.l.fe(this),l(this.Qb.bind(this)),_(t,"type","button")}onConnect(t){const e=Array.from(t.querySelectorAll('[data-part="hint"]')).pop();e&&l(()=>{const s=this.l.Wb();s&&(e.textContent=s)}),Bt(t,s=>{this.dispatch("select",{trigger:s})})}Qb(){this.l.ie(this.$props.disabled())}};Ia.props={disabled:!1};let Le=Ia;ed([A],Le.prototype,"expanded",1);var Re;let sd=(Re=class extends w{constructor(){super(...arguments),this.A=null}onSetup(){this.a=$(),ut(ss,{Ja:this.vj.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){var t;(t=this.A)==null||t.remove(),this.A=null}vj(t){this.Tf(!1),this.A=t,zt(()=>{zt(()=>{this.connectScope&&l(this.Qb.bind(this))})})}Qb(){const{fullscreen:t}=this.a.$state,{disabled:e}=this.$props,s=e();this.Tf(s==="fullscreen"?!t():!s)}Tf(t){var n;if(!this.A)return;let e=this.wj(this.$props.container());if(!e)return;const s=this.A.parentElement===e;g(this.A,"data-portal",t),t?s||(this.A.remove(),e.append(this.A)):s&&this.A.parentElement===e&&(this.A.remove(),(n=this.el)==null||n.append(this.A))}wj(t){return t instanceof HTMLElement?t:t?document.querySelector(t):document.body}},Re.props={container:null,disabled:!1},Re);const ss=It(),Ra=class Ra extends w{constructor(){super(),new gt;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){if(this.l=I(B),this.l.ge(this),wt(ss)){const e=I(ss);e&&(ut(ss,null),e.Ja(t),S(()=>e.Ja(null)))}}onConnect(t){l(this.Nd.bind(this))}Nd(){if(!this.el)return;const t=this.$props.placement();if(t){Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});const{offset:e,alignOffset:s}=this.$props;return rh(this.el,this.Cc(),t,{offsetVarName:"media-menu",xOffset:s(),yOffset:e()})}else this.el.removeAttribute("style"),this.el.style.display="none"}Cc(){return this.l.jj()}};Ra.props={placement:null,offset:0,alignOffset:0};let Di=Ra;const Ii=It();class ye extends bt{constructor(){super(...arguments),this.sb=new Set,this.la=E(""),this.d=null,this.Aj=this.B.bind(this)}get xj(){return Array.from(this.sb).map(t=>t.la())}get value(){return this.la()}set value(t){this.B(t)}onSetup(){ut(Ii,{add:this.yj.bind(this),remove:this.zj.bind(this)})}onAttach(t){wt(B)||_(t,"role","radiogroup"),this.setAttributes({value:this.la})}onDestroy(){this.sb.clear()}yj(t){this.sb.has(t)||(this.sb.add(t),t.Kc=this.Aj,t.Xb(t.la()===this.la()))}zj(t){t.Kc=null,this.sb.delete(t)}B(t,e){var r;const s=m(this.la);if(!t||t===s)return;const n=this.Uf(s),a=this.Uf(t);n==null||n.Xb(!1,e),a==null||a.Xb(!0,e),this.la.set(t),(r=this.o)==null||r.call(this,t,e)}Uf(t){for(const e of this.sb)if(t===m(e.la))return e;return null}}var id=Object.defineProperty,nd=Object.getOwnPropertyDescriptor,mh=(i,t,e,s)=>{for(var n=s>1?void 0:s?nd(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&id(t,e,n),n};const Ma=class Ma extends w{constructor(){super(),this.d=new ye,this.d.o=this.o.bind(this)}get values(){return this.d.xj}get value(){return this.d.value}set value(t){this.d.value=t}onSetup(){l(this.D.bind(this))}D(){this.d.value=this.$props.value()}o(t,e){const s=this.createEvent("change",{detail:t,trigger:e});this.dispatch(s)}};Ma.props={value:""};let je=Ma;mh([A],je.prototype,"values",1);mh([A],je.prototype,"value",1);var ad=Object.defineProperty,rd=Object.getOwnPropertyDescriptor,od=(i,t,e,s)=>{for(var n=s>1?void 0:s?rd(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&ad(t,e,n),n};const qa=class qa extends w{constructor(){super(),this.Na=E(!1),this.d={la:this.$props.value,Xb:this.Xb.bind(this),Kc:null},new gt}get checked(){return this.Na()}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":this.Na,"aria-checked":pt(this.Na)})}onAttach(t){const e=wt(B);_(t,"tabindex",e?"-1":"0"),_(t,"role",e?"menuitemradio":"radio"),l(this.D.bind(this))}onConnect(t){this.Bj(),Bt(t,this.v.bind(this)),S(this.ya.bind(this))}ya(){K(()=>{I(Ii).remove(this.d)},this.connectScope)}Bj(){I(Ii).add(this.d)}D(){var s,n;const{value:t}=this.$props,e=t();m(this.Na)&&((n=(s=this.d).Kc)==null||n.call(s,e))}v(t){var e,s;m(this.Na)||(this.B(!0,t),this.Cj(t),(s=(e=this.d).Kc)==null||s.call(e,m(this.$props.value),t))}Xb(t,e){m(this.Na)!==t&&this.B(t,e)}B(t,e){this.Na.set(t),this.dispatch("change",{detail:t,trigger:e})}Cj(t){this.dispatch("select",{trigger:t})}};qa.props={value:""};let vs=qa;od([A],vs.prototype,"checked",1);var hd=Object.defineProperty,cd=Object.getOwnPropertyDescriptor,ha=(i,t,e,s)=>{for(var n=s>1?void 0:s?cd(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&hd(t,e,n),n};const Ha=class Ha extends w{constructor(){super(),this.ka=E(0),this.z=E(null),this.J=E([]),this.d=new ye,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){var t;return!((t=this.J())!=null&&t.length)}onSetup(){this.a=$(),wt(B)&&(this.l=I(B));const{thumbnails:t}=this.$props;this.setAttributes({"data-thumbnails":()=>!!t()})}onAttach(t){var e;(e=this.l)==null||e.he({ke:this.ke.bind(this)})}getOptions(){return this.J().map((t,e)=>({cue:t,value:e+"",label:t.text,startTime:zs(t.startTime,!1),duration:Li(t.endTime-t.startTime)}))}ke(){m(()=>this.jb())}onConnect(t){l(this.D.bind(this)),l(this.jb.bind(this)),l(this.ma.bind(this)),l(this.tk.bind(this)),Ws(this.a.textTracks,"chapters",this.z.set)}tk(){const t=this.z();if(!t)return;const e=this.$i.bind(this,t);return e(),b(t,"add-cue",e),b(t,"remove-cue",e),()=>{this.J.set([])}}$i(t){this.J.set([...t.cues])}D(){this.d.value=this.na()}jb(){var a;if(!((a=this.l)!=null&&a.L()))return;const t=this.z();if(!t){this.ka.set(-1);return}const{currentTime:e}=this.a.$state,s=e(),n=t.cues.findIndex(r=>ds(r,s));if(this.ka.set(n),n>=0){const r=t.cues[n],h=this.el.querySelector("[aria-checked='true']"),o=(s-r.startTime)/(r.endTime-r.startTime)*100;h&&J(h,"--progress",Q(o,3)+"%")}}ma(){var t;(t=this.l)==null||t.Ma(this.disabled)}na(){return this.ka()+""}o(t,e){var a;if(this.disabled||!e)return;const s=+t,n=(a=this.z())==null?void 0:a.cues;os(s)&&(n!=null&&n[s])&&(this.ka.set(s),this.a.remote.seek(n[s].startTime,e),this.dispatch("change",{detail:n[s],trigger:e}))}};Ha.props={thumbnails:""};let he=Ha;ha([A],he.prototype,"value",1);ha([A],he.prototype,"disabled",1);ha([H],he.prototype,"getOptions",1);var ld=Object.defineProperty,ud=Object.getOwnPropertyDescriptor,ca=(i,t,e,s)=>{for(var n=s>1?void 0:s?ud(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&ld(t,e,n),n};const Fa=class Fa extends w{constructor(){super(),this.d=new ye,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){const{audioTracks:t}=this.a.$state;return t().length===0}onSetup(){this.a=$(),wt(B)&&(this.l=I(B))}onConnect(t){l(this.D.bind(this)),l(this.ma.bind(this)),l(this.Oa.bind(this))}getOptions(){const{audioTracks:t}=this.a.$state;return t().map(e=>({track:e,label:e.label,value:e.label.toLowerCase()}))}D(){this.d.value=this.na()}Oa(){var n;const{emptyLabel:t}=this.$props,{audioTrack:e}=this.a.$state,s=e();(n=this.l)==null||n.Wb.set((s==null?void 0:s.label)??t())}ma(){var t;(t=this.l)==null||t.Ma(this.disabled)}na(){const{audioTrack:t}=this.a.$state,e=t();return e?e.label.toLowerCase():""}o(t,e){if(this.disabled)return;const s=this.a.audioTracks.toArray().findIndex(n=>n.label.toLowerCase()===t);if(s>=0){const n=this.a.audioTracks[s];this.a.remote.changeAudioTrack(s,e),this.dispatch("change",{detail:n,trigger:e})}}};Fa.props={emptyLabel:"Default"};let ce=Fa;ca([A],ce.prototype,"value",1);ca([A],ce.prototype,"disabled",1);ca([H],ce.prototype,"getOptions",1);var dd=Object.defineProperty,pd=Object.getOwnPropertyDescriptor,la=(i,t,e,s)=>{for(var n=s>1?void 0:s?pd(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&dd(t,e,n),n};const Va=class Va extends w{constructor(){super(),this.d=new ye,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){const{textTracks:t}=this.a.$state;return t().filter(z).length===0}onSetup(){this.a=$(),wt(B)&&(this.l=I(B))}onConnect(t){var e;(e=super.onConnect)==null||e.call(this,t),l(this.D.bind(this)),l(this.ma.bind(this)),l(this.Oa.bind(this))}getOptions(){const{offLabel:t}=this.$props,{textTracks:e}=this.a.$state;return[{value:"off",label:t},...e().filter(z).map(s=>({track:s,label:s.label,value:this.xk(s)}))]}D(){this.d.value=this.na()}Oa(){var n;const{offLabel:t}=this.$props,{textTrack:e}=this.a.$state,s=e();(n=this.l)==null||n.Wb.set(s&&z(s)&&s.mode==="showing"?s.label:t())}ma(){var t;(t=this.l)==null||t.Ma(this.disabled)}na(){const{textTrack:t}=this.a.$state,e=t();return e&&z(e)&&e.mode==="showing"?this.xk(e):"off"}o(t,e){if(this.disabled)return;if(t==="off"){const n=this.a.textTracks.selected;if(n){const a=this.a.textTracks.toArray().indexOf(n);this.a.remote.changeTextTrackMode(a,"disabled",e),this.dispatch("change",{detail:null,trigger:e})}return}const s=this.a.textTracks.toArray().findIndex(n=>this.xk(n)===t);if(s>=0){const n=this.a.textTracks[s];this.a.remote.changeTextTrackMode(s,"showing",e),this.dispatch("change",{detail:n,trigger:e})}}xk(t){return t.id+":"+t.kind+"-"+t.label.toLowerCase()}};Va.props={offLabel:"Off"};let le=Va;la([A],le.prototype,"value",1);la([A],le.prototype,"disabled",1);la([H],le.prototype,"getOptions",1);var fd=Object.defineProperty,md=Object.getOwnPropertyDescriptor,ua=(i,t,e,s)=>{for(var n=s>1?void 0:s?md(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&fd(t,e,n),n};const Ua=class Ua extends w{constructor(){super(),this.d=new ye,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){const{rates:t}=this.$props,{canSetPlaybackRate:e}=this.a.$state;return!e()||t().length===0}onSetup(){this.a=$(),wt(B)&&(this.l=I(B))}onConnect(t){l(this.D.bind(this)),l(this.Oa.bind(this)),l(this.ma.bind(this))}getOptions(){const{rates:t,normalLabel:e}=this.$props;return t().map(s=>({label:s===1?e:s+"",value:s+""}))}D(){this.d.value=this.na()}Oa(){var n;const{normalLabel:t}=this.$props,{playbackRate:e}=this.a.$state,s=e();(n=this.l)==null||n.Wb.set(s===1?t():s+"")}ma(){var t;(t=this.l)==null||t.Ma(this.disabled)}na(){const{playbackRate:t}=this.a.$state;return t()+""}o(t,e){if(this.disabled)return;const s=+t;this.a.remote.changePlaybackRate(s,e),this.dispatch("change",{detail:s,trigger:e})}};Ua.props={normalLabel:"Normal",rates:[.25,.5,.75,1,1.25,1.5,1.75,2]};let ue=Ua;ua([A],ue.prototype,"value",1);ua([A],ue.prototype,"disabled",1);ua([H],ue.prototype,"getOptions",1);var bd=Object.defineProperty,gd=Object.getOwnPropertyDescriptor,da=(i,t,e,s)=>{for(var n=s>1?void 0:s?gd(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&bd(t,e,n),n};const Wa=class Wa extends w{constructor(){super(),this.Dj=U(()=>{const{qualities:t}=this.a.$state;return[...t()].sort((e,s)=>s.height===e.height?s.bitrate-e.bitrate:s.height-e.height)}),this.d=new ye,this.d.o=this.o.bind(this)}get value(){return this.d.value}get disabled(){const{canSetQuality:t,qualities:e}=this.a.$state;return!t()||e().length===0}onSetup(){this.a=$(),wt(B)&&(this.l=I(B))}onConnect(t){l(this.D.bind(this)),l(this.ma.bind(this)),l(this.Oa.bind(this))}getOptions(){const{autoLabel:t,hideBitrate:e}=this.$props;return[{value:"auto",label:t},...this.Dj().map(s=>{const n=s.bitrate>=0?`${Q(s.bitrate/1e6,2)} Mbps`:null;return{quality:s,label:s.height+"p",value:this.le(s),bitrate:()=>e()?null:n}})]}D(){this.d.value=this.na()}Oa(){var a;const{autoLabel:t}=this.$props,{autoQuality:e,quality:s}=this.a.$state,n=s()?s().height+"p":"";(a=this.l)==null||a.Wb.set(e()?t()+(n?` (${n})`:""):n)}ma(){var t;(t=this.l)==null||t.Ma(this.disabled)}o(t,e){if(this.disabled)return;if(t==="auto"){this.a.remote.changeQuality(-1,e),this.dispatch("change",{detail:"auto",trigger:e});return}const{qualities:s}=this.a.$state,n=m(s).findIndex(a=>this.le(a)===t);if(n>=0){const a=m(s)[n];this.a.remote.changeQuality(n,e),this.dispatch("change",{detail:a,trigger:e})}}na(){const{quality:t,autoQuality:e}=this.a.$state;if(e())return"auto";const s=t();return s?this.le(s):"auto"}le(t){return t.height+"_"+t.bitrate}};Wa.props={autoLabel:"Auto",hideBitrate:!1};let de=Wa;da([A],de.prototype,"value",1);da([A],de.prototype,"disabled",1);da([H],de.prototype,"getOptions",1);const Ba=class Ba extends w{constructor(){super(...arguments),this.i=null,this.Pa=0,this.Vf=-1}onSetup(){this.a=$();const{event:t,action:e}=this.$props;this.setAttributes({event:t,action:e})}onAttach(t){t.setAttribute("data-media-gesture",""),t.style.setProperty("pointer-events","none")}onConnect(t){var e;this.i=(e=this.a.player.el)==null?void 0:e.querySelector("[data-media-provider]"),l(this.Ej.bind(this))}Ej(){let t=this.$props.event();!this.i||!t||(/^dbl/.test(t)&&(t=t.split(/^dbl/)[1]),(t==="pointerup"||t==="pointerdown")&&this.a.$state.pointer()==="coarse"&&(t=t==="pointerup"?"touchend":"touchstart"),b(this.i,t,this.Fj.bind(this),{passive:!1}))}Fj(t){if(Ur(t)&&(t.button!==0||this.a.activeMenu)||es(t)&&this.a.activeMenu||sa(t)||!this.Gj(t))return;t.MEDIA_GESTURE=!0,t.preventDefault();const e=m(this.$props.event);if(!(e==null?void 0:e.startsWith("dbl")))this.Pa===0&&setTimeout(()=>{this.Pa===1&&this.Wf(t)},250);else if(this.Pa===1){queueMicrotask(()=>this.Wf(t)),clearTimeout(this.Vf),this.Pa=0;return}this.Pa===0&&(this.Vf=window.setTimeout(()=>{this.Pa=0},275)),this.Pa++}Wf(t){this.el.setAttribute("data-triggered",""),requestAnimationFrame(()=>{this.Hj()&&this.Ij(m(this.$props.action),t),requestAnimationFrame(()=>{this.el.removeAttribute("data-triggered")})})}Gj(t){if(!this.el)return!1;if(Ur(t)||ac(t)||es(t)){const e=es(t)?t.changedTouches[0]??t.touches[0]:void 0,s=(e==null?void 0:e.clientX)??t.clientX,n=(e==null?void 0:e.clientY)??t.clientY,a=this.el.getBoundingClientRect(),r=n>=a.top&&n<=a.bottom&&s>=a.left&&s<=a.right;return t.type.includes("leave")?!r:r}return!0}Hj(){const t=this.a.player.el.querySelectorAll("[data-media-gesture][data-triggered]");return Array.from(t).sort((e,s)=>+getComputedStyle(s).zIndex-+getComputedStyle(e).zIndex)[0]===this.el}Ij(t,e){if(!t)return;const s=new R("will-trigger",{detail:t,cancelable:!0,trigger:e});if(this.dispatchEvent(s),s.defaultPrevented)return;const[n,a]=t.replace(/:([a-z])/,"-$1").split(":");t.includes(":fullscreen")?this.a.remote.toggleFullscreen("prefer-media",e):t.includes("seek:")?this.a.remote.seek(m(this.a.$state.currentTime)+(+a||0),e):this.a.remote[Do(n)](e),this.dispatch("trigger",{detail:t,trigger:e})}};Ba.props={event:void 0,action:void 0};let Ri=Ba;class $d{constructor(t){this.S=t,this.priority=10,this.z=null,this.sa=Io()}attach(){}canRender(){return!0}detach(){this.sa.empty(),this.S.reset(),this.z=null}changeTrack(t){!t||this.z===t||(this.sa.empty(),t.readyState<2?(this.S.reset(),this.sa.add(b(t,"load",()=>this.Xf(t),{once:!0}))):this.Xf(t),this.sa.add(b(t,"add-cue",e=>{this.S.addCue(e.detail)}),b(t,"remove-cue",e=>{this.S.removeCue(e.detail)})),this.z=t)}Xf(t){this.S.changeTrack({cues:[...t.cues],regions:[...t.regions]})}}const za=class za extends w{onSetup(){this.a=$(),this.setAttributes({"aria-hidden":pt(this.lb.bind(this))})}onAttach(t){t.style.setProperty("pointer-events","none")}onConnect(t){if(this.S){l(this.Yf.bind(this));return}yt(()=>import("./prod.a087075c.js").then(e=>e.d),["./prod.a087075c.js","./entry.1510e103.js","./entry.d736548a.css"],import.meta.url).then(e=>{this.connectScope&&K(()=>{this.W=e;const{CaptionsRenderer:s}=this.W;this.S=new s(t),this.Qa=new $d(this.S),l(this.Yf.bind(this))},this.connectScope)})}onDestroy(){var t;this.Qa&&(this.Qa.detach(),this.a.textRenderers.remove(this.Qa)),(t=this.S)==null||t.destroy()}lb(){const{textTrack:t}=this.a.$state,e=t();return this.a.$iosControls()||!e||!z(e)}Yf(){const{viewType:t}=this.a.$state;return t()==="audio"?this.Jj():this.Kj()}Jj(){return l(this._d.bind(this)),()=>{this.el.textContent=""}}_d(){if(this.lb())return;const{textTrack:t}=this.a.$state;this.Zf(),b(t(),"cue-change",this.Zf.bind(this)),l(this.Lj.bind(this))}Zf(){this.el.textContent="";const{currentTime:t,textTrack:e}=this.a.$state,s=m(t),n=m(e).activeCues,{renderVTTCueString:a}=this.W;for(const r of n){const h=document.createElement("div");h.setAttribute("data-part","cue"),h.innerHTML=a(r,s),this.el.append(h)}}Lj(){const{currentTime:t}=this.a.$state,{updateTimedVTTCueNodes:e}=this.W;e(this.el,t())}Kj(){return l(this.Mj.bind(this)),l(this.Nj.bind(this)),this.a.textRenderers.add(this.Qa),()=>{this.el.textContent="",this.Qa.detach(),this.a.textRenderers.remove(this.Qa)}}Mj(){this.S.dir=this.$props.textDir()}Nj(){if(this.lb())return;const{currentTime:t}=this.a.$state;this.S.currentTime=t()}};za.props={textDir:"ltr"};let Mi=za;const Ns=class Ns extends w{onSetup(){this.a=$(),this._f(),this.$f(),this.ob()}onAttach(t){t.style.setProperty("pointer-events","none"),l(this.Ud.bind(this)),l(this._f.bind(this)),l(this.$f.bind(this)),l(this.ob.bind(this));const{started:e}=this.a.$state;this.setAttributes({"data-visible":()=>!e(),"data-loading":this.Rb.bind(this),"data-error":this.wa.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){const{canLoad:e,poster:s}=this.a.$state;window.requestAnimationFrame(()=>{e()||th(s())}),l(this.Ea.bind(this))}wa(){const{error:t}=this.$state;return!Dt(t())}ob(){const{src:t}=this.$props,{$iosControls:e}=this.a,{poster:s}=this.a.$state;this.el&&g(this.el,"display",e()?"none":null),this.$state.hidden.set(this.wa()||!(t()||s())||e())}Rb(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}Ud(){const t=this.$state.img();t&&(b(t,"load",this.lc.bind(this)),b(t,"error",this.U.bind(this)))}_f(){const{canLoad:t,poster:e}=this.a.$state,s=this.$props.src(),n=s||e();s&&e()!==s&&this.a.$state.providedPoster.set(s),this.$state.src.set(t()&&n.length?n:null)}$f(){const{src:t,alt:e}=this.$state;e.set(t()?this.$props.alt():null)}Ea(){const{loading:t,error:e}=this.$state,{canLoad:s,poster:n}=this.a.$state;t.set(s()&&!!n()),e.set(null)}lc(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null)}U(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}};Ns.props={src:void 0,alt:void 0},Ns.state=new Zt({img:null,src:null,alt:null,loading:!0,error:null,hidden:!1});let qi=Ns;const Ds=class Ds extends w{onSetup(){this.a=$(),this.ag();const{type:t,remainder:e}=this.$props;this.setAttributes({"data-type":t,"data-remainder":e})}onAttach(t){l(this.ag.bind(this))}ag(){const{type:t,remainder:e,padHours:s,padMinutes:n,showHours:a}=this.$props,r=this.Oj(t()),h=this.a.$state.duration();if(!Number.isFinite(r+h)){this.$state.timeText.set("LIVE");return}const o=e()?Math.max(0,h-r):r,c=zs(o,s(),n(),a());this.$state.timeText.set(c)}Oj(t){const{bufferedEnd:e,duration:s,currentTime:n}=this.a.$state;switch(t){case"buffered":return e();case"duration":return s();default:return n()}}};Ds.props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1},Ds.state=new Zt({timeText:""});let Hi=Ds;var yd=Object.defineProperty,vd=Object.getOwnPropertyDescriptor,pa=(i,t,e,s)=>{for(var n=s>1?void 0:s?vd(t,e):t,a=i.length-1,r;a>=0;a--)(r=i[a])&&(n=(s?r(t,e,n):r(n))||n);return s&&n&&yd(t,e,n),n};const Ka=class Ka extends w{constructor(){super(...arguments),this.menuContainer=null}get isMatch(){return this.me.matches}get isSmallLayout(){return this.Lc.matches}onSetup(){const{when:t,smallWhen:e,thumbnails:s,translations:n,menuGroup:a,noModal:r}=this.$props;this.me=oe.create(t),this.Lc=oe.create(e),this.setAttributes({"data-match":this.me.$matches,"data-size":()=>this.Lc.matches?"sm":null});const h=this;ut(bh,{smQueryList:this.Lc,thumbnails:s,translations:n,menuGroup:a,noModal:r,get menuContainer(){return h.menuContainer}})}};Ka.props={when:"",smallWhen:"",thumbnails:"",customIcons:!1,translations:null,menuGroup:"bottom",noModal:!1};let Yt=Ka;pa([A],Yt.prototype,"menuContainer",2);pa([A],Yt.prototype,"isMatch",1);pa([A],Yt.prototype,"isSmallLayout",1);const Ee=class Ee extends Yt{};Ee.props={...ti(Ee,Ee,"props"),when:"(view-type: audio)",smallWhen:"(width < 576)"};let Fi=Ee;const Se=class Se extends Yt{};Se.props={...ti(Se,Se,"props"),when:"(view-type: video)",smallWhen:"(width < 576) or (height < 380)"};let Vi=Se;function xt(i,t){var e;return((e=i())==null?void 0:e[t])??t}const bh=It();function W(){return I(bh)}const Qa=class Qa extends v(HTMLElement,ms){constructor(){super(...arguments),this.A=null,this.Vj=null}onSetup(){this.a=$(),this.setAttribute("keep-alive","")}onDestroy(){var t,e;(t=this.Vj)==null||t.remove(),this.Vj=null,(e=this.A)==null||e.remove(),this.A=null}onConnect(){l(()=>{var r,h,o;const t=this.$state.loader(),e=t==null?void 0:t.canPlay({src:"",type:"video/youtube"}),s=t==null?void 0:t.canPlay({src:"",type:"video/vimeo"}),n=e||s,a=t?n?this.ek():t.mediaType()==="audio"?this.fk():this.Yj():null;if(this.A!==a){const c=((r=this.A)==null?void 0:r.parentElement)??this;(h=this.A)==null||h.remove(),this.A=a,a&&c.prepend(a),n&&a&&l(()=>{var f;const{$iosControls:u}=this.a,{controls:d}=this.a.$state,p=d()||u();p?((f=this.Vj)==null||f.remove(),this.Vj=null):(this.Vj=this.querySelector(".vds-blocker")??document.createElement("div"),this.Vj.classList.add("vds-blocker"),a.after(this.Vj)),g(a,"data-no-controls",!p)})}e?a==null||a.classList.add("vds-youtube"):s&&(a==null||a.classList.add("vds-vimeo")),n||((o=this.Vj)==null||o.remove(),this.Vj=null),this.load(a)})}fk(){const t=this.A instanceof HTMLAudioElement?this.A:document.createElement("audio");g(t,"preload","none"),g(t,"aria-hidden","true");const{controls:e,crossorigin:s}=this.a.$state;return l(()=>{g(t,"controls",e()),g(t,"crossorigin",s())}),t}Yj(){const t=this.A instanceof HTMLVideoElement?this.A:document.createElement("video"),{controls:e,crossorigin:s,poster:n}=this.a.$state,{$iosControls:a}=this.a,r=U(()=>e()||a()?"":null),h=U(()=>n()&&(e()||a())?n():null);return l(()=>{g(t,"controls",r()),g(t,"crossorigin",s()),g(t,"poster",h())}),t}ek(){return this.A instanceof HTMLIFrameElement?this.A:document.createElement("iframe")}};Qa.tagName="media-provider";let Ui=Qa;const Is=class Is extends v(HTMLElement,Tu){};Is.tagName="media-player",Is.attrs={preferNativeHLS:"prefer-native-hls"};let Wi=Is;y(Wi);y(Ui);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var pi;const ws=window,pe=ws.trustedTypes,bo=pe?pe.createPolicy("lit-html",{createHTML:i=>i}):void 0,Bi="$lit$",Pt=`lit$${(Math.random()+"").slice(9)}$`,gh="?"+Pt,wd=`<${gh}>`,Xt=document,Ne=()=>Xt.createComment(""),De=i=>i===null||typeof i!="object"&&typeof i!="function",$h=Array.isArray,xd=i=>$h(i)||typeof(i==null?void 0:i[Symbol.iterator])=="function",fi=`[ 	
\f\r]`,we=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,go=/-->/g,$o=/>/g,qt=RegExp(`>|${fi}(?:([^\\s"'>=/]+)(${fi}*=${fi}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),yo=/'/g,vo=/"/g,yh=/^(?:script|style|textarea|title)$/i,Td=i=>(t,...e)=>({_$litType$:i,strings:t,values:e}),k=Td(1),fe=Symbol.for("lit-noChange"),M=Symbol.for("lit-nothing"),wo=new WeakMap,Vt=Xt.createTreeWalker(Xt,129,null,!1);function vh(i,t){if(!Array.isArray(i)||!i.hasOwnProperty("raw"))throw Error("invalid template strings array");return bo!==void 0?bo.createHTML(t):t}const kd=(i,t)=>{const e=i.length-1,s=[];let n,a=t===2?"<svg>":"",r=we;for(let h=0;h<e;h++){const o=i[h];let c,u,d=-1,p=0;for(;p<o.length&&(r.lastIndex=p,u=r.exec(o),u!==null);)p=r.lastIndex,r===we?u[1]==="!--"?r=go:u[1]!==void 0?r=$o:u[2]!==void 0?(yh.test(u[2])&&(n=RegExp("</"+u[2],"g")),r=qt):u[3]!==void 0&&(r=qt):r===qt?u[0]===">"?(r=n??we,d=-1):u[1]===void 0?d=-2:(d=r.lastIndex-u[2].length,c=u[1],r=u[3]===void 0?qt:u[3]==='"'?vo:yo):r===vo||r===yo?r=qt:r===go||r===$o?r=we:(r=qt,n=void 0);const f=r===qt&&i[h+1].startsWith("/>")?" ":"";a+=r===we?o+wd:d>=0?(s.push(c),o.slice(0,d)+Bi+o.slice(d)+Pt+f):o+Pt+(d===-2?(s.push(void 0),h):f)}return[vh(i,a+(i[e]||"<?>")+(t===2?"</svg>":"")),s]};class Ie{constructor({strings:t,_$litType$:e},s){let n;this.parts=[];let a=0,r=0;const h=t.length-1,o=this.parts,[c,u]=kd(t,e);if(this.el=Ie.createElement(c,s),Vt.currentNode=this.el.content,e===2){const d=this.el.content,p=d.firstChild;p.remove(),d.append(...p.childNodes)}for(;(n=Vt.nextNode())!==null&&o.length<h;){if(n.nodeType===1){if(n.hasAttributes()){const d=[];for(const p of n.getAttributeNames())if(p.endsWith(Bi)||p.startsWith(Pt)){const f=u[r++];if(d.push(p),f!==void 0){const T=n.getAttribute(f.toLowerCase()+Bi).split(Pt),x=/([.?@])?(.*)/.exec(f);o.push({type:1,index:a,name:x[2],strings:T,ctor:x[1]==="."?Ed:x[1]==="?"?Pd:x[1]==="@"?Cd:Qs})}else o.push({type:6,index:a})}for(const p of d)n.removeAttribute(p)}if(yh.test(n.tagName)){const d=n.textContent.split(Pt),p=d.length-1;if(p>0){n.textContent=pe?pe.emptyScript:"";for(let f=0;f<p;f++)n.append(d[f],Ne()),Vt.nextNode(),o.push({type:2,index:++a});n.append(d[p],Ne())}}}else if(n.nodeType===8)if(n.data===gh)o.push({type:2,index:a});else{let d=-1;for(;(d=n.data.indexOf(Pt,d+1))!==-1;)o.push({type:7,index:a}),d+=Pt.length-1}a++}}static createElement(t,e){const s=Xt.createElement("template");return s.innerHTML=t,s}}function me(i,t,e=i,s){var n,a,r,h;if(t===fe)return t;let o=s!==void 0?(n=e._$Co)===null||n===void 0?void 0:n[s]:e._$Cl;const c=De(t)?void 0:t._$litDirective$;return(o==null?void 0:o.constructor)!==c&&((a=o==null?void 0:o._$AO)===null||a===void 0||a.call(o,!1),c===void 0?o=void 0:(o=new c(i),o._$AT(i,e,s)),s!==void 0?((r=(h=e)._$Co)!==null&&r!==void 0?r:h._$Co=[])[s]=o:e._$Cl=o),o!==void 0&&(t=me(i,o._$AS(i,t.values),o,s)),t}class Ad{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;const{el:{content:s},parts:n}=this._$AD,a=((e=t==null?void 0:t.creationScope)!==null&&e!==void 0?e:Xt).importNode(s,!0);Vt.currentNode=a;let r=Vt.nextNode(),h=0,o=0,c=n[0];for(;c!==void 0;){if(h===c.index){let u;c.type===2?u=new We(r,r.nextSibling,this,t):c.type===1?u=new c.ctor(r,c.name,c.strings,this,t):c.type===6&&(u=new _d(r,this,t)),this._$AV.push(u),c=n[++o]}h!==(c==null?void 0:c.index)&&(r=Vt.nextNode(),h++)}return Vt.currentNode=Xt,a}v(t){let e=0;for(const s of this._$AV)s!==void 0&&(s.strings!==void 0?(s._$AI(t,s,e),e+=s.strings.length-2):s._$AI(t[e])),e++}}class We{constructor(t,e,s,n){var a;this.type=2,this._$AH=M,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=s,this.options=n,this._$Cp=(a=n==null?void 0:n.isConnected)===null||a===void 0||a}get _$AU(){var t,e;return(e=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&e!==void 0?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return e!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=me(this,t,e),De(t)?t===M||t==null||t===""?(this._$AH!==M&&this._$AR(),this._$AH=M):t!==this._$AH&&t!==fe&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):xd(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==M&&De(this._$AH)?this._$AA.nextSibling.data=t:this.$(Xt.createTextNode(t)),this._$AH=t}g(t){var e;const{values:s,_$litType$:n}=t,a=typeof n=="number"?this._$AC(t):(n.el===void 0&&(n.el=Ie.createElement(vh(n.h,n.h[0]),this.options)),n);if(((e=this._$AH)===null||e===void 0?void 0:e._$AD)===a)this._$AH.v(s);else{const r=new Ad(a,this),h=r.u(this.options);r.v(s),this.$(h),this._$AH=r}}_$AC(t){let e=wo.get(t.strings);return e===void 0&&wo.set(t.strings,e=new Ie(t)),e}T(t){$h(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let s,n=0;for(const a of t)n===e.length?e.push(s=new We(this.k(Ne()),this.k(Ne()),this,this.options)):s=e[n],s._$AI(a),n++;n<e.length&&(this._$AR(s&&s._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,e){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,e);t&&t!==this._$AB;){const n=t.nextSibling;t.remove(),t=n}}setConnected(t){var e;this._$AM===void 0&&(this._$Cp=t,(e=this._$AP)===null||e===void 0||e.call(this,t))}}class Qs{constructor(t,e,s,n,a){this.type=1,this._$AH=M,this._$AN=void 0,this.element=t,this.name=e,this._$AM=n,this.options=a,s.length>2||s[0]!==""||s[1]!==""?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=M}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,s,n){const a=this.strings;let r=!1;if(a===void 0)t=me(this,t,e,0),r=!De(t)||t!==this._$AH&&t!==fe,r&&(this._$AH=t);else{const h=t;let o,c;for(t=a[0],o=0;o<a.length-1;o++)c=me(this,h[s+o],e,o),c===fe&&(c=this._$AH[o]),r||(r=!De(c)||c!==this._$AH[o]),c===M?t=M:t!==M&&(t+=(c??"")+a[o+1]),this._$AH[o]=c}r&&!n&&this.j(t)}j(t){t===M?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class Ed extends Qs{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===M?void 0:t}}const Sd=pe?pe.emptyScript:"";class Pd extends Qs{constructor(){super(...arguments),this.type=4}j(t){t&&t!==M?this.element.setAttribute(this.name,Sd):this.element.removeAttribute(this.name)}}class Cd extends Qs{constructor(t,e,s,n,a){super(t,e,s,n,a),this.type=5}_$AI(t,e=this){var s;if((t=(s=me(this,t,e,0))!==null&&s!==void 0?s:M)===fe)return;const n=this._$AH,a=t===M&&n!==M||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,r=t!==M&&(n===M||a);a&&this.element.removeEventListener(this.name,this,n),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,s;typeof this._$AH=="function"?this._$AH.call((s=(e=this.options)===null||e===void 0?void 0:e.host)!==null&&s!==void 0?s:this.element,t):this._$AH.handleEvent(t)}}class _d{constructor(t,e,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){me(this,t)}}const xo=ws.litHtmlPolyfillSupport;xo==null||xo(Ie,We),((pi=ws.litHtmlVersions)!==null&&pi!==void 0?pi:ws.litHtmlVersions=[]).push("2.8.0");const wh=(i,t,e)=>{var s,n;const a=(s=e==null?void 0:e.renderBefore)!==null&&s!==void 0?s:t;let r=a._$litPart$;if(r===void 0){const h=(n=e==null?void 0:e.renderBefore)!==null&&n!==void 0?n:null;a._$litPart$=r=new We(t.insertBefore(Ne(),h),h,void 0,e??{})}return r._$AI(i),r};/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Od=i=>i.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fa={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},xh=i=>(...t)=>({_$litDirective$:i,values:t});class Th{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,s){this._$Ct=t,this._$AM=e,this._$Ci=s}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ae=(i,t)=>{var e,s;const n=i._$AN;if(n===void 0)return!1;for(const a of n)(s=(e=a)._$AO)===null||s===void 0||s.call(e,t,!1),Ae(a,t);return!0},xs=i=>{let t,e;do{if((t=i._$AM)===void 0)break;e=t._$AN,e.delete(i),i=t}while((e==null?void 0:e.size)===0)},kh=i=>{for(let t;t=i._$AM;i=t){let e=t._$AN;if(e===void 0)t._$AN=e=new Set;else if(e.has(i))break;e.add(i),Nd(t)}};function Ld(i){this._$AN!==void 0?(xs(this),this._$AM=i,kh(this)):this._$AM=i}function jd(i,t=!1,e=0){const s=this._$AH,n=this._$AN;if(n!==void 0&&n.size!==0)if(t)if(Array.isArray(s))for(let a=e;a<s.length;a++)Ae(s[a],!1),xs(s[a]);else s!=null&&(Ae(s,!1),xs(s));else Ae(this,i)}const Nd=i=>{var t,e,s,n;i.type==fa.CHILD&&((t=(s=i)._$AP)!==null&&t!==void 0||(s._$AP=jd),(e=(n=i)._$AQ)!==null&&e!==void 0||(n._$AQ=Ld))};class Dd extends Th{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,s){super._$AT(t,e,s),kh(this),this.isConnected=t._$AU}_$AO(t,e=!0){var s,n;t!==this.isConnected&&(this.isConnected=t,t?(s=this.reconnected)===null||s===void 0||s.call(this):(n=this.disconnected)===null||n===void 0||n.call(this)),e&&(Ae(this,t),xs(this))}setValue(t){if(Od(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ah=i=>i??M;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class zi extends Th{constructor(t){if(super(t),this.et=M,t.type!==fa.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===M||t==null)return this.ft=void 0,this.et=t;if(t===fe)return t;if(typeof t!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.et)return this.ft;this.et=t;const e=[t];return e.raw=e,this.ft={_$litType$:this.constructor.resultType,strings:e,values:[]}}}zi.directiveName="unsafeHTML",zi.resultType=1;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Ki extends zi{}Ki.directiveName="unsafeSVG",Ki.resultType=2;const Id=xh(Ki);class Rd extends Dd{constructor(t){super(t),this.h=null,this.ra=null,this.w=!1,this.w=t.type===fa.ATTRIBUTE}render(t){this.h!==t&&(this.h=t,this.disconnected(),this.isConnected&&this.Si());const e=this.h();return this.w?Ah(e):e}reconnected(){this.Si()}disconnected(){var t;this.w||this.setValue(null),(t=this.ra)==null||t.call(this),this.ra=null}Si(){this.h&&(this.ra=l(this.o.bind(this)))}o(){var t;this.setValue((t=this.h)==null?void 0:t.call(this))}}const ct=xh(Rd);function q(i){return ct(U(i))}class Eh{constructor(t,e){this.Wj=t,this.Ca=e,this.elements=new Set,this.vf=Rt(this.ea.bind(this))}connect(){this.ea();const t=new MutationObserver(this.vf);t.observe(this.Wj,{childList:!0}),S(()=>t.disconnect()),S(this.disconnect.bind(this))}disconnect(){this.elements.clear()}assign(t,e){t instanceof Node?(e.textContent="",e.append(t)):wh(t,e),e.style.display||(e.style.display="contents");const s=e.firstElementChild;if(!s)return;const n=e.getAttribute("data-class");n&&s.classList.add(...n.split(" "))}ea(){for(const t of this.Wj.querySelectorAll("slot"))t.hasAttribute("name")&&this.elements.add(t);this.Ca(this.elements)}}let Md=0,Ze="data-slot-id";class Sh{constructor(t){this.Wj=t,this.vf=Rt(this.ea.bind(this)),this.slots=new Eh(t,this.ea.bind(this))}connect(){this.slots.connect(),this.ea();const t=new MutationObserver(this.vf);t.observe(this.Wj,{childList:!0}),S(()=>t.disconnect())}ea(){for(const t of this.Wj.children){if(t.nodeType!==1)continue;const e=t.getAttribute("slot");if(!e)continue;t.style.display="none";let s=t.getAttribute(Ze);s||t.setAttribute(Ze,s=++Md+"");for(const n of this.slots.elements){if(n.getAttribute("name")!==e||n.getAttribute(Ze)===s)continue;const a=document.importNode(t,!0);e.includes("-icon")&&a.classList.add("vds-icon"),a.style.display="",a.removeAttribute("slot"),this.slots.assign(a,n),n.setAttribute(Ze,s)}}}}function Ys({label:i,icon:t}){return k`
    <media-menu-button class="vds-menu-button">
      <slot name="menu-arrow-left-icon" data-class="vds-menu-button-close-icon"></slot>
      <slot name="${t}-icon" data-class="vds-menu-button-icon"></slot>
      <span class="vds-menu-button-label">${ct(i)}</span>
      <span class="vds-menu-button-hint" data-part="hint"></span>
      <slot name="menu-arrow-right-icon" data-class="vds-menu-button-open-icon"></slot>
    </media-menu-button>
  `}function L(i,t){return q(()=>xt(i,t))}function Be({tooltip:i}){const{translations:t}=W(),{paused:e}=$().$state,s=q(()=>xt(t,e()?"Play":"Pause"));return k`
    <media-tooltip class="vds-play-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-play-button class="vds-play-button vds-button" aria-label=${s}>
          <slot name="play-icon" data-class="vds-play-icon"></slot>
          <slot name="pause-icon" data-class="vds-pause-icon"></slot>
          <slot name="replay-icon" data-class="vds-replay-icon"></slot>
        </media-play-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${i}>
        <span class="vds-play-tooltip-text">${L(t,"Play")}</span>
        <span class="vds-pause-tooltip-text">${L(t,"Pause")}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function Xs({tooltip:i}){const{translations:t}=W(),{muted:e}=$().$state,s=q(()=>xt(t,(e(),"Unmute")));return k`
    <media-tooltip class="vds-mute-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-mute-button class="vds-mute-button vds-button" aria-label=${s}>
          <slot name="mute-icon" data-class="vds-mute-icon"></slot>
          <slot name="volume-low-icon" data-class="vds-volume-low-icon"></slot>
          <slot name="volume-high-icon" data-class="vds-volume-high-icon"></slot>
        </media-mute-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${i}>
        <span class="vds-mute-tooltip-text">${L(t,"Unmute")}</span>
        <span class="vds-unmute-tooltip-text">${L(t,"Mute")}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function Js({tooltip:i}){const{translations:t}=W(),{textTrack:e}=$().$state,s=q(()=>xt(t,e()?"Closed-Captions Off":"Closed-Captions On"));return k`
    <media-tooltip class="vds-caption-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-caption-button class="vds-caption-button vds-button" aria-label=${s}>
          <slot name="cc-on-icon" data-class="vds-cc-on-icon"></slot>
          <slot name="cc-off-icon" data-class="vds-cc-off-icon"></slot>
        </media-caption-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${i}>
        <span class="vds-cc-on-tooltip-text">${L(t,"Closed-Captions Off")}</span>
        <span class="vds-cc-off-tooltip-text">${L(t,"Closed-Captions On")}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function qd(){const{translations:i}=W(),{pictureInPicture:t}=$().$state,e=q(()=>xt(i,t()?"Exit PiP":"Enter PiP"));return k`
    <media-tooltip class="vds-pip-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-pip-button class="vds-pip-button vds-button" aria-label=${e}>
          <slot name="pip-enter-icon" data-class="vds-pip-enter-icon"></slot>
          <slot name="pip-exit-icon" data-class="vds-pip-exit-icon"></slot>
        </media-pip-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content">
        <span class="vds-pip-enter-tooltip-text">${L(i,"Enter PiP")}</span>
        <span class="vds-pip-exit-tooltip-text">${L(i,"Exit PiP")}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function Ph({tooltip:i}){const{translations:t}=W(),{fullscreen:e}=$().$state,s=q(()=>xt(t,e()?"Exit Fullscreen":"Enter Fullscreen"));return k`
    <media-tooltip class="vds-fullscreen-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-fullscreen-button class="vds-fullscreen-button vds-button" aria-label=${s}>
          <slot name="fs-enter-icon" data-class="vds-fs-enter-icon"></slot>
          <slot name="fs-exit-icon" data-class="vds-fs-exit-icon"></slot>
        </media-fullscreen-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${i}>
        <span class="vds-fs-enter-tooltip-text">${L(t,"Enter Fullscreen")}</span>
        <span class="vds-fs-exit-tooltip-text">${L(t,"Exit Fullscreen")}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function Ts({seconds:i,tooltip:t}){const{translations:e}=W(),s=i>=0?"Seek Forward":"Seek Backward",n=L(e,s);return k`
    <media-tooltip class="vds-seek-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-seek-button
          class="vds-seek-button vds-button"
          seconds=${i}
          aria-label=${n}
        >
          ${i>=0?k`<slot name="seek-forward-icon"></slot>`:k`<slot name="seek-backward-icon"></slot>`}
        </media-seek-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${t}>
        ${L(e,s)}
      </media-tooltip-content>
    </media-tooltip>
  `}function Ch(){const{translations:i}=W(),t=L(i,"Volume");return k`
    <media-volume-slider class="vds-volume-slider vds-slider" aria-label=${t}>
      <div class="vds-slider-track"></div>
      <div class="vds-slider-track-fill vds-slider-track"></div>
      <media-slider-preview class="vds-slider-preview" no-clamp>
        <media-slider-value class="vds-slider-value"></media-slider-value>
      </media-slider-preview>
      <div class="vds-slider-thumb"></div>
    </media-volume-slider>
  `}function Zs(){const{width:i}=$().$state,{thumbnails:t,translations:e}=W(),s=L(e,"Seek");return k`
    <media-time-slider class="vds-time-slider vds-slider" aria-label=${s}>
      <media-slider-chapters class="vds-slider-chapters" ?disabled=${ct(()=>i()<768)}>
        <template>
          <div class="vds-slider-chapter">
            <div class="vds-slider-track"></div>
            <div class="vds-slider-track-fill vds-slider-track"></div>
            <div class="vds-slider-progress vds-slider-track"></div>
          </div>
        </template>
      </media-slider-chapters>
      <div class="vds-slider-thumb"></div>
      <media-slider-preview class="vds-slider-preview">
        <media-slider-thumbnail
          class="vds-slider-thumbnail vds-thumbnail"
          src=${ct(t)}
        ></media-slider-thumbnail>
        <div class="vds-slider-chapter-title" data-part="chapter-title"></div>
        <media-slider-value class="vds-slider-value"></media-slider-value>
      </media-slider-preview>
    </media-time-slider>
  `}function _h(){const{translations:i}=W(),{live:t}=$().$state,e=L(i,"Skip To Live"),s=L(i,"LIVE");return t()?k`
    <media-live-button class="vds-live-button" aria-label=${e}>
      <span class="vds-live-button-text">${s}</span>
    </media-live-button
  `:null}function Hd(){return k`
    <div class="vds-time-group">
      <media-time class="vds-time" type="current"></media-time>
      <div class="vds-time-divider">/</div>
      <media-time class="vds-time" type="duration"></media-time>
    </div>
  `}function ma(){const{live:i}=$().$state;return i()?_h():Hd()}function Oh(i,t){return k`
    <media-menu-portal .container=${i} disabled="fullscreen">
      ${t}
    </media-menu-portal>
  `}function Lh({placement:i,tooltip:t,portal:e}){const{viewType:s}=$().$state,{translations:n,smQueryList:a,thumbnails:r,menuContainer:h,noModal:o,menuGroup:c}=W(),u=U(()=>o()?Ce(i):a.matches?null:Ce(i)),d=U(()=>!a.matches&&c()==="bottom"&&s()==="video"?26:0),p=k`
    <media-menu-items
      class="vds-chapters-menu-items vds-menu-items"
      placement=${ct(u)}
      offset=${ct(d)}
    >
      <media-chapters-radio-group
        class="vds-chapters-radio-group vds-radio-group"
        thumbnails=${ct(r)}
      >
        <template>
          <media-radio class="vds-chapter-radio vds-radio">
            <media-thumbnail class="vds-thumbnail"></media-thumbnail>
            <div class="vds-chapter-radio-content">
              <span class="vds-chapter-radio-label" data-part="label"></span>
              <span class="vds-chapter-radio-start-time" data-part="start-time"></span>
              <span class="vds-chapter-radio-duration" data-part="duration"></span>
            </div>
          </media-radio>
        </template>
      </media-chapters-radio-group>
    </media-menu-items>
  `;return k`
    <!-- Chapters Menu -->
    <media-menu class="vds-chapters-menu vds-menu">
      <media-tooltip class="vds-tooltip">
        <media-tooltip-trigger>
          <media-menu-button
            class="vds-menu-button vds-button"
            aria-label=${L(n,"Chapters")}
          >
            <slot name="menu-chapters-icon"></slot>
          </media-menu-button>
        </media-tooltip-trigger>
        <media-tooltip-content
          class="vds-tooltip-content"
          placement=${mt(t)?ct(t):t}
        >
          ${L(n,"Chapters")}
        </media-tooltip-content>
      </media-tooltip>
      ${e?Oh(h,p):p}
    </media-menu>
  `}function jh({placement:i,portal:t,tooltip:e}){const{viewType:s,canSetPlaybackRate:n,canSetQuality:a,qualities:r,audioTracks:h,textTracks:o}=$().$state,{translations:c,smQueryList:u,menuContainer:d,noModal:p,menuGroup:f}=W(),T=U(()=>p()?Ce(i):u.matches?null:Ce(i)),x=U(()=>!u.matches&&f()==="bottom"&&s()==="video"?26:0),F=U(()=>n()||a()&&r().length||h().length||o().filter(z).length),C=k`
    <media-menu-items
      class="vds-settings-menu-items vds-menu-items"
      placement=${ct(T)}
      offset=${ct(x)}
    >
      ${Fd()}${Vd()}${Ud()}${Wd()}
    </media-menu-items>
  `,at=k`
    <media-menu class="vds-settings-menu vds-menu">
      <media-tooltip class="vds-tooltip">
        <media-tooltip-trigger>
          <media-menu-button
            class="vds-menu-button vds-button"
            aria-label=${L(c,"Settings")}
          >
            <slot name="menu-settings-icon" data-class="vds-rotate-icon"></slot>
          </media-menu-button>
        </media-tooltip-trigger>
        <media-tooltip-content
          class="vds-tooltip-content"
          placement=${mt(e)?ct(e):e}
        >
          ${L(c,"Settings")}
        </media-tooltip-content>
      </media-tooltip>
      ${t?Oh(d,C):C}
    </media-menu>
  `;return q(()=>F()?at:null)}function Fd(){const{translations:i}=W();return k`
    <!-- Audio Menu -->
    <media-menu class="vds-audio-menu vds-menu">
      ${Ys({label:()=>xt(i,"Audio"),icon:"menu-audio"})}
      <media-menu-items class="vds-menu-items">
        <media-audio-radio-group
          class="vds-audio-radio-group vds-radio-group"
          empty-label=${L(i,"Default")}
        >
          <template>
            <media-radio class="vds-audio-radio vds-radio">
              <div class="vds-radio-check"></div>
              <span class="vds-radio-label" data-part="label"></span>
            </media-radio>
          </template>
        </media-audio-radio-group>
      </media-menu-items>
    </media-menu>
  `}function Vd(){const{translations:i}=W();return k`
    <!-- Speed Menu -->
    <media-menu class="vds-speed-menu vds-menu">
      ${Ys({label:()=>xt(i,"Speed"),icon:"menu-speed"})}
      <media-menu-items class="vds-menu-items">
        <media-speed-radio-group
          class="vds-speed-radio-group vds-radio-group"
          normal-label=${L(i,"Normal")}
        >
          <template>
            <media-radio class="vds-speed-radio vds-radio">
              <div class="vds-radio-check"></div>
              <span class="vds-radio-label" data-part="label"></span>
            </media-radio>
          </template>
        </media-speed-radio-group>
      </media-menu-items>
    </media-menu>
  `}function Ud(){const{translations:i}=W();return k`
    <!-- Quality Menu -->
    <media-menu class="vds-quality-menu vds-menu">
      ${Ys({label:()=>xt(i,"Quality"),icon:"menu-quality"})}
      <media-menu-items class="vds-menu-items">
        <media-quality-radio-group
          class="vds-quality-radio-group vds-radio-group"
          auto-label=${L(i,"Auto")}
        >
          <template>
            <media-radio class="vds-quality-radio vds-radio">
              <div class="vds-radio-check"></div>
              <span class="vds-radio-label" data-part="label"></span>
              <span class="vds-radio-hint" data-part="bitrate"></span>
            </media-radio>
          </template>
        </media-quality-radio-group>
      </media-menu-items>
    </media-menu>
  `}function Wd(){const{translations:i}=W();return k`
    <!-- Captions Menu -->
    <media-menu class="vds-captions-menu vds-menu">
      ${Ys({label:()=>xt(i,"Captions"),icon:"menu-captions"})}
      <media-menu-items class="vds-menu-items">
        <media-captions-radio-group
          class="vds-captions-radio-group vds-radio-group"
          off-label=${L(i,"Off")}
        >
          <template>
            <media-radio class="vds-caption-radio vds-radio">
              <div class="vds-radio-check"></div>
              <span class="vds-radio-label" data-part="label"></span>
            </media-radio>
          </template>
        </media-captions-radio-group>
      </media-menu-items>
    </media-menu>
  `}function Nh(i){let t=document.querySelector(`body > .${i}`);return t||(t=document.createElement("div"),t.style.display="contents",t.classList.add(i),document.body.append(t)),t}function Bd({name:i,class:t,state:e,paths:s}){return k`<svg
    class="${"vds-icon"+(t?` ${t}`:"")}"
    viewBox="0 0 32 32"
    fill="none"
    aria-hidden="true"
    focusable="false"
    xmlns="http://www.w3.org/2000/svg"
    data-icon=${Ah(i??e)}
  >
    ${D(s)?Id(s):ct(s)}
  </svg>`}class zd{constructor(t){this.Wj=t,this.Zj={},this.bk=!1,this.slots=new Eh(t,this.ck.bind(this))}connect(){this.slots.connect(),S(this.disconnect.bind(this))}load(){this.xe().then(t=>{this.Zj=t,this.bk=!0,this.ck()})}disconnect(){for(const{slot:t}of this.dk())t.textContent=""}*dk(){for(const t of Object.keys(this.Zj)){const e=`${t}-icon`;for(const s of this.slots.elements)s.name===e&&(yield{icon:this.Zj[t],slot:s})}}ck(){if(this.bk)for(const{icon:t,slot:e}of this.dk())this.slots.assign(t,e)}}class Kd extends zd{connect(){const t=this.ik();t&&(super.connect(),t.$state.canLoad()?this.load():b(t,"can-load",()=>this.load(),{once:!0}))}ik(){let t=this.Wj.parentElement;for(;t&&t.localName!=="media-player";)t=t.parentElement;return t}}class Dh extends Kd{async xe(){const t=(await yt(()=>import("./vidstack-7cTzfr-b.b60f272c.js"),[],import.meta.url)).icons,e={};for(const s of Object.keys(t))e[s]=Bd({name:s,paths:t[s]});return e}}class ba extends HTMLElement{constructor(){super(...arguments),this.rootPart=null}connectedCallback(){this.rootPart=wh(this.render(),this,{renderBefore:this.firstChild}),this.rootPart.setConnected(!0)}disconnectedCallback(){var t;(t=this.rootPart)==null||t.setConnected(!1),this.rootPart=null}}function Qd(){return k`
    <media-captions class="vds-captions"></media-captions>

    <media-controls class="vds-controls">
      <media-controls-group class="vds-controls-group">${Zs()}</media-controls-group>

      <media-controls-group class="vds-controls-group">
        ${Ts({seconds:-10,tooltip:"top start"})}
        ${Be({tooltip:"top"})}${Ts({tooltip:"top",seconds:10})}
        ${q(ma)}
        <media-chapter-title class="vds-chapter-title"></media-chapter-title>
        ${Xs({tooltip:"top"})}
        ${Ch()}${Js({tooltip:"top"})} ${Ih()}
      </media-controls-group>
    </media-controls>
  `}function Yd(){return k`
    <media-captions class="vds-captions"></media-captions>
    <media-controls class="vds-controls">
      <media-controls-group class="vds-controls-group">
        ${q(Xd)}
        ${Xs({tooltip:"top start"})}${q(_h)}
        <media-chapter-title class="vds-chapter-title"></media-chapter-title>
        ${Js({tooltip:"top"})}${Ih()}
      </media-controls-group>

      <media-controls-group class="vds-controls-group">${Zs()}</media-controls-group>

      ${q(Jd)}${q(Zd)}
    </media-controls>
  `}function Xd(){const{live:i,canSeek:t}=$().$state;return i()&&!t()?Be({tooltip:"top start"}):null}function Jd(){const{live:i}=$().$state;return i()?null:k`
        <media-controls-group class="vds-controls-group">
          <media-time class="vds-time" type="current"></media-time>
          <div class="vds-controls-spacer"></div>
          <media-time class="vds-time" type="duration"></media-time>
        </media-controls-group>
      `}function Zd(){const{canSeek:i}=$().$state;return i()?k`
        <media-controls-group class="vds-controls-group">
          <div class="vds-controls-spacer"></div>
          ${Ts({seconds:-10,tooltip:"top"})}
          ${Be({tooltip:"top"})}
          ${Ts({tooltip:"top",seconds:10})}
          <div class="vds-controls-spacer"></div>
        </media-controls-group>
      `:null}function Ih(){const i="top end";return k`
    ${Lh({tooltip:"top",placement:i,portal:!0})}
    ${jh({tooltip:"top end",placement:i,portal:!0})}
  `}const Ya=class Ya extends v(ba,Fi){onSetup(){this.forwardKeepAlive=!1,this.a=$(),this.classList.add("vds-audio-layout"),this.menuContainer=Nh("vds-audio-layout"),l(()=>{this.menuContainer&&g(this.menuContainer,"data-size",this.isSmallLayout&&"sm")}),S(()=>{var t;return(t=this.menuContainer)==null?void 0:t.remove()})}onConnect(){l(()=>{this.$props.customIcons()?new Sh(this).connect():new Dh(this).connect()})}_j(){const{streamType:t}=this.a.$state;return this.isMatch&&t()!=="unknown"?this.isSmallLayout?Yd():Qd():null}render(){return k`${q(this._j.bind(this))}`}};Ya.tagName="media-audio-layout";let Qi=Ya;function Gd(){return k`
    ${Rh()}${ga()}
    <media-captions class="vds-captions"></media-captions>

    <div class="vds-scrim"></div>

    <media-controls class="vds-controls">
      ${q(ep)}

      <div class="vds-controls-spacer"></div>

      <media-controls-group class="vds-controls-group">${Zs()}</media-controls-group>

      <media-controls-group class="vds-controls-group">
        ${Be({tooltip:"top start"})}
        ${Xs({tooltip:"top"})}${Ch()}
        ${q(ma)}
        <media-chapter-title class="vds-chapter-title"></media-chapter-title>
        ${Js({tooltip:"top"})}${q(tp)}
        ${qd()} ${Ph({tooltip:"top end"})}
      </media-controls-group>
    </media-controls>
  `}function tp(){const{menuGroup:i}=W();return i()==="bottom"?$a():null}function ep(){const{menuGroup:i}=W(),t=i()==="top"?k`
            <div class="vds-controls-spacer"></div>
            ${$a()}
          `:null;return k`
    <media-controls-group class="vds-controls-group">${t}</media-controls-group>
  `}function sp(){return k`
    ${Rh()}${ga()}
    <media-captions class="vds-captions"></media-captions>

    <div class="vds-scrim"></div>

    <media-controls class="vds-controls">
      <media-controls-group class="vds-controls-group">
        <div class="vds-controls-spacer"></div>
        ${Js({tooltip:"bottom"})}
        ${$a()}${Xs({tooltip:"bottom end"})}
      </media-controls-group>

      <div class="vds-controls-group">${Be({tooltip:"top"})}</div>

      <media-controls-group class="vds-controls-group">
        ${q(ma)}
        <media-chapter-title class="vds-chapter-title"></media-chapter-title>
        <div class="vds-controls-spacer"></div>
        ${Ph({tooltip:"top end"})}
      </media-controls-group>

      <media-controls-group class="vds-controls-group">${Zs()}</media-controls-group>
    </media-controls>

    ${q(ip)}
  `}function ip(){const{duration:i}=$().$state;return i()===0?null:k`
    <div class="vds-start-duration">
      <media-time class="vds-time" type="duration"></media-time>
    </div>
  `}function ga(){return k`
    <div class="vds-buffering-indicator">
      <media-spinner class="vds-buffering-spinner"></media-spinner>
    </div>
  `}function $a(){const{menuGroup:i,smQueryList:t}=W(),e=()=>i()==="top"||t.matches?"bottom":"top",s=U(()=>`${e()} ${i()==="top"?"end":"center"}`),n=U(()=>`${e()} end`);return k`
    ${Lh({tooltip:s,placement:n,portal:!0})}
    ${jh({tooltip:s,placement:n,portal:!0})}
  `}function Rh(){return k`
    <div class="vds-gestures">
      <media-gesture class="vds-gesture" event="pointerup" action="toggle:paused"></media-gesture>
      <media-gesture class="vds-gesture" event="pointerup" action="toggle:controls"></media-gesture>
      <media-gesture
        class="vds-gesture"
        event="dblpointerup"
        action="toggle:fullscreen"
      ></media-gesture>
      <media-gesture class="vds-gesture" event="dblpointerup" action="seek:-10"></media-gesture>
      <media-gesture class="vds-gesture" event="dblpointerup" action="seek:10"></media-gesture>
    </div>
  `}const Xa=class Xa extends v(ba,Vi){onSetup(){this.forwardKeepAlive=!1,this.a=$(),this.classList.add("vds-video-layout"),this.menuContainer=Nh("vds-video-layout"),l(()=>{this.menuContainer&&g(this.menuContainer,"data-size",this.isSmallLayout&&"sm")}),S(()=>{var t;return(t=this.menuContainer)==null?void 0:t.remove()})}onConnect(){l(()=>{this.$props.customIcons()?new Sh(this).connect():new Dh(this).connect()})}_j(){const{streamType:t}=this.a.$state;return this.isMatch?t()==="unknown"?ga():this.isSmallLayout?sp():Gd():null}render(){return k`${q(this._j.bind(this))}`}};Xa.tagName="media-video-layout";let Yi=Xa;y(Qi);y(Yi);class np extends w{onAttach(t){J(t,"pointer-events","auto")}}class ap extends w{constructor(){super(),new gt}onConnect(t){S(zt(()=>{if(!this.connectScope)return;this.Ja();const e=I(ae);S(()=>{const s=this.Cc();s&&e.Kd(s)})}))}Ja(){const t=this.Cc(),e=I(ae);t&&e.Jd(t)}Cc(){const t=this.el.firstElementChild;return(t==null?void 0:t.localName)==="button"||(t==null?void 0:t.getAttribute("role"))==="button"?t:this.el}}class rp extends Le{}const Ja=class Ja extends v(HTMLElement,Mi){};Ja.tagName="media-captions";let Xi=Ja;const Za=class Za extends v(HTMLElement,Ri){};Za.tagName="media-gesture";let Ji=Za;const Ga=class Ga extends v(HTMLElement,qi){constructor(){super(...arguments),this.Uj=document.createElement("img")}onSetup(){this.a=$(),this.$state.img.set(this.Uj)}onConnect(){const{src:t,alt:e}=this.$state,{crossorigin:s}=this.a.$state;this.Uj.parentNode!==this&&this.prepend(this.Uj),l(()=>{g(this.Uj,"src",t()),g(this.Uj,"alt",e()),g(this.Uj,"crossorigin",/ytimg\.com|vimeo/.test(t()||"")?null:s())})}};Ga.tagName="media-poster";let Zi=Ga;const op=nh('<img loading="eager" decoding="async" aria-hidden="true">'),tr=class tr extends v(HTMLElement,Oi){constructor(){super(...arguments),this.Uj=this.gk()}onSetup(){this.a=$(),this.$state.img.set(this.Uj)}onConnect(){const{src:t}=this.$state,{crossorigin:e}=this.a.$props;this.Uj.parentNode!==this&&this.prepend(this.Uj),l(()=>{g(this.Uj,"src",t()),g(this.Uj,"crossorigin",e())})}gk(){return ah(op)}};tr.tagName="media-thumbnail";let ks=tr;const er=class er extends v(HTMLElement,Hi){onConnect(){l(()=>{this.textContent=this.$state.timeText()})}};er.tagName="media-time";let Gi=er;const sr=class sr extends v(HTMLElement,wi){};sr.tagName="media-controls";let tn=sr;const ir=class ir extends v(HTMLElement,np){};ir.tagName="media-controls-group";let en=ir;class hp extends w{}const nr=class nr extends v(HTMLElement,hp){onSetup(){this.a=$(),this.Xj=E(""),this.ak=U(this.hk.bind(this))}onConnect(){Ws(this.a.textTracks,"chapters",t=>{if(!t){this.Xj.set("");return}const e=()=>{const s=t==null?void 0:t.activeCues[0];this.Xj.set((s==null?void 0:s.text)||"")};e(),b(t,"cue-change",e)}),l(()=>{this.textContent=this.ak()})}hk(){const{title:t,started:e}=this.a.$state,s=t(),n=this.Xj();return e()?n||s:s||n}};nr.tagName="media-chapter-title";let sn=nr;const ar=class ar extends w{onConnect(t){zt(()=>{if(!this.connectScope)return;const e=t.querySelector("svg"),s=e.firstElementChild,n=s.nextElementSibling;l(this.ea.bind(this,e,s,n))})}ea(t,e,s){const{size:n,trackWidth:a,fillPercent:r}=this.$props;g(t,"width",n()),g(t,"height",n()),g(e,"stroke-width",a()),g(s,"stroke-width",a()),g(s,"stroke-dashoffset",100-r())}};ar.props={size:96,trackWidth:8,fillPercent:50};let nn=ar;const rr=class rr extends v(ba,nn){render(){return k`
      <svg fill="none" viewBox="0 0 120 120" aria-hidden="true" data-part="root">
        <circle cx="60" cy="60" r="54" stroke="currentColor" data-part="track"></circle>
        <circle
          cx="60"
          cy="60"
          r="54"
          stroke="currentColor"
          pathLength="100"
          stroke-dasharray="100"
          data-part="track-fill"
        ></circle>
      </svg>
    `}};rr.tagName="media-spinner";let an=rr;const or=class or extends w{};or.props={when:""};let rn=or;const hr=class hr extends v(HTMLElement,rn){onSetup(){this.query=oe.create(this.$props.when)}onConnect(){l(this.jg.bind(this))}jg(){const t=this.firstElementChild,e=(t==null?void 0:t.localName)==="template",s=t instanceof HTMLElement;if(!this.query.matches){e?(this.textContent="",this.appendChild(t)):s&&(t.style.display="none");return}e?this.append(t.content.cloneNode(!0)):s&&(t.style.display="")}};hr.tagName="media-layout";let on=hr;const cr=class cr extends v(HTMLElement,ki){};cr.tagName="media-play-button";let hn=cr;const lr=class lr extends v(HTMLElement,Si){};lr.tagName="media-mute-button";let cn=lr;const ur=class ur extends v(HTMLElement,Ai){};ur.tagName="media-caption-button";let ln=ur;const dr=class dr extends v(HTMLElement,Ei){};dr.tagName="media-fullscreen-button";let un=dr;const pr=class pr extends v(HTMLElement,Pi){};pr.tagName="media-pip-button";let dn=pr;const fr=class fr extends v(HTMLElement,Ci){};fr.tagName="media-seek-button";let pn=fr;const mr=class mr extends v(HTMLElement,bs){};mr.tagName="media-toggle-button";let fn=mr;const br=class br extends v(HTMLElement,_i){};br.tagName="media-live-button";let mn=br;const gr=class gr extends v(HTMLElement,xi){};gr.tagName="media-tooltip";let bn=gr;const $r=class $r extends v(HTMLElement,ap){onConnect(){this.style.display="contents"}};$r.tagName="media-tooltip-trigger";let gn=$r;const yr=class yr extends v(HTMLElement,Ti){};yr.tagName="media-tooltip-content";let $n=yr;function ze(i,t){zt(()=>{if(!i.connectScope)return;const e=i.querySelector("template");e&&l(()=>{const s=i.getOptions();ih(e,s.length,(n,a)=>{const{label:r,value:h}=s[a],o=n.querySelector('[data-part="label"]');n.setAttribute("value",h),o&&(D(r)?o.textContent=r:l(()=>{o.textContent=r()})),t==null||t(n,s[a],a)})})})}const vr=class vr extends v(HTMLElement,ce){onConnect(){ze(this)}};vr.tagName="media-audio-radio-group";let yn=vr;const wr=class wr extends v(HTMLElement,le){onConnect(){ze(this)}};wr.tagName="media-captions-radio-group";let vn=wr;const xr=class xr extends v(HTMLElement,Nt){};xr.tagName="media-menu";let wn=xr;const Tr=class Tr extends v(HTMLElement,Le){};Tr.tagName="media-menu-button";let xn=Tr;const Rs=class Rs extends v(HTMLElement,sd){};Rs.tagName="media-menu-portal",Rs.attrs={disabled:{converter(t){return D(t)?t:t!==null}}};let Tn=Rs;const kr=class kr extends v(HTMLElement,rp){};kr.tagName="media-menu-item";let kn=kr;const Ar=class Ar extends v(HTMLElement,Di){};Ar.tagName="media-menu-items";let An=Ar;const Er=class Er extends v(HTMLElement,he){onConnect(){ze(this,(t,e)=>{const{cue:s,startTime:n,duration:a}=e,r=t.querySelector(".vds-thumbnail,media-thumbnail"),h=t.querySelector('[data-part="start-time"]'),o=t.querySelector('[data-part="duration"]');h&&(h.textContent=n),o&&(o.textContent=a),r&&(r.setAttribute("time",s.startTime+""),l(()=>{const{thumbnails:c}=this.$props;r.setAttribute("src",c())}))})}};Er.tagName="media-chapters-radio-group";let En=Er;const Sr=class Sr extends v(HTMLElement,ue){onConnect(){ze(this)}};Sr.tagName="media-speed-radio-group";let Sn=Sr;const Pr=class Pr extends v(HTMLElement,de){onConnect(){ze(this,(t,e)=>{const s=e.bitrate,n=t.querySelector('[data-part="bitrate"]');s&&n&&l(()=>{n.textContent=s()||""})})}};Pr.tagName="media-quality-radio-group";let Pn=Pr;const Cr=class Cr extends v(HTMLElement,vs){};Cr.tagName="media-radio";let Cn=Cr;const _r=class _r extends v(HTMLElement,je){};_r.tagName="media-radio-group";let _n=_r;const Or=class Or extends v(HTMLElement,Kt){};Or.tagName="media-slider";let On=Or;const Lr=class Lr extends ks{onSetup(){super.onSetup(),this.Q=Fe(Kt.state)}onConnect(){super.onConnect(),l(this.ag.bind(this))}ag(){const{duration:t}=this.a.$state;this.time=this.Q.pointerRate()*t()}};Lr.tagName="media-slider-thumbnail";let Ln=Lr;const Ms=class Ms extends v(HTMLElement,$s){onConnect(){l(()=>{this.textContent=this.getValueText()})}};Ms.tagName="media-slider-value",Ms.attrs={padMinutes:{converter:Ko}};let jn=Ms;const cp=nh('<video muted playsinline preload="none" style="max-width: unset;"></video>'),jr=class jr extends v(HTMLElement,gs){constructor(){super(...arguments),this.m=this.Yj()}onSetup(){this.a=$(),this.$state.video.set(this.m)}onConnect(){const{crossorigin:t,canLoad:e}=this.a.$state,{src:s}=this.$state;this.m.parentNode!==this&&this.prepend(this.m),l(()=>{g(this.m,"src",s()),g(this.m,"crossorigin",t()),g(this.m,"preload",e()?"auto":"none")})}Yj(){return ah(cp)}};jr.tagName="media-slider-video";let Nn=jr;const Nr=class Nr extends v(HTMLElement,ys){};Nr.tagName="media-time-slider";let Dn=Nr;const Dr=class Dr extends v(HTMLElement,ji){};Dr.tagName="media-slider-preview";let In=Dr;const Ir=class Ir extends v(HTMLElement,Ni){};Ir.tagName="media-volume-slider";let Rn=Ir;const Rr=class Rr extends v(HTMLElement,Qt){constructor(){super(...arguments),this.$j=null}onConnect(){zt(()=>{if(!this.connectScope)return;const t=this.querySelector("template");t&&(this.$j=t,l(this.jk.bind(this)))})}jk(){if(!this.$j)return;const t=ih(this.$j,this.cues.length||1);this.setRefs(t)}};Rr.tagName="media-slider-chapters";let Mn=Rr;y(on);y(tn);y(en);y(Zi);y(ln);y(un);y(cn);y(dn);y(hn);y(pn);y(fn);y(On);y(Rn);y(Dn);y(Mn);y(In);y(jn);y(Ln);y(Nn);y(wn);y(xn);y(Tn);y(An);y(kn);y(yn);y(vn);y(Sn);y(Pn);y(En);y(_n);y(Cn);y(bn);y(gn);y($n);y(Ji);y(ks);y(Xi);y(mn);y(Gi);y(sn);y(an);const Mh={__name:"VideoPlayer",props:["uid"],setup(i){return(t,e)=>{const s=Mr("media-provider"),n=Mr("media-player");return V(),X("div",null,[et(n,{autoplay:"","stream-type":"live",load:"eager",title:"Sprite Fight",src:`/preview/hls/${i.uid}/index.m3u8`,class:"aspect-video"},{default:Fh(()=>[et(s)]),_:1},8,["src"])])}}},lp={class:""},up={__name:"Main",props:{mixer:Object},setup(i){const t=i,e=Me("enablePreview"),s=Fn(!1),n=t.mixer.uid;return(a,r)=>{const h=Yh,o=Mh;return V(),X("div",lp,[et(h,{uid:tt(n)},null,8,["uid"]),tt(e)||tt(s)?(V(),is(o,{key:0,uid:i.mixer.uid},null,8,["uid"])):ns("",!0)])}}},dp={__name:"Main",props:{output:Object},setup(i){return(t,e)=>(V(),X("div",null,ee(i.output.uid)+" "+ee(i.output.type)+" "+ee(i.output.state),1))}},pp={class:""},fp={__name:"Header",props:{uid:Object,inputEnabled:Boolean},setup(i){const t=i;Me("enablePreview");const e=async()=>{await Ct("/api/inputs",{method:"delete",body:{uid:t.uid}},"$Qx8fovd2RS")};return(s,n)=>{const a=qn;return V(),X("div",pp,[Hn(" Input: "+ee(i.uid)+" ",1),et(a,{name:"uil:trash",color:"red",size:"24px",onClick:e})])}}};const mp={__name:"Controls",props:{state:String,uid:String,inputEnabled:Boolean},setup(i){const t=i,e=Me("enablePreview"),s=async()=>{await Ct("/api/input/delete",{method:"post",body:{uid:t.uid}},"$8zJn3hlv7d")},n=async()=>{await Ct("/api/input/delete",{method:"post",body:{uid:t.uid}},"$3jlFRTthTj")},a=async()=>{await Ct("/api/input/delete",{method:"post",body:{uid:t.uid}},"$ROA873tGCH")},r=Uh(()=>{switch(t.state){case"PLAYING":return console.log("play"),"playing";case"BUFFERING":return console.log("buffer"),"buffering";case"PENDING":return console.log("pending"),"pending";case"PAUSED":return console.log("paused"),"paused";default:return console.log("Status unknown"),""}});return(h,o)=>{const c=qn;return V(),X("div",{class:Wh(tt(r))},[et(c,{name:"uil:stop-circle",color:"black",size:"24px",onClick:a}),et(c,{name:"uil:pause-circle",color:"black",size:"24px",onClick:n}),et(c,{name:"uil:play-circle",color:"black",size:"24px",onClick:s}),Hn(" "+ee(i.state)+" ",1),!tt(e)&&i.inputEnabled?(V(),is(c,{key:0,name:"uil:video-slash",color:"black",size:"24px",onClick:o[0]||(o[0]=u=>h.$emit("enablePreview",!1))})):ns("",!0),!tt(e)&&!i.inputEnabled?(V(),is(c,{key:1,name:"uil:video",color:"black",size:"24px",onClick:o[1]||(o[1]=u=>h.$emit("enablePreview",!0))})):ns("",!0)],2)}}},bp=Vh(mp,[["__scopeId","data-v-ab278121"]]),gp={class:""},$p={__name:"Main",props:{input:Object},setup(i){const t=i,e=Me("enablePreview"),s=Fn(!1),n=t.input.uid;return(a,r)=>{const h=fp,o=Mh,c=bp;return V(),X("div",gp,[et(h,{uid:tt(n)},null,8,["uid"]),tt(e)||tt(s)?(V(),is(o,{key:0,uid:i.input.uid},null,8,["uid"])):ns("",!0),et(c,{state:i.input.state,uid:i.input.uid,inputEnabled:tt(s),onEnablePreview:r[0]||(r[0]=u=>s.value=u)},null,8,["state","uid","inputEnabled"])])}}},yp={class:"grid col-span-8"},vp={class:"grid grid-cols-3 px-4 py-8"},wp=Ge("div",{class:"grid col-span-3"}," Main Outputs ",-1),xp={class:"grid col-span-1"},Tp={__name:"index",async setup(i){let t,e;const s=Fn(null),{data:n}=([t,e]=ei(()=>Ct("/api/inputs","$PslAyef5YX")),t=await t,e(),t),{data:a}=([t,e]=ei(()=>Ct("/api/mixers","$6PO73qLRkI")),t=await t,e(),t),{data:r}=([t,e]=ei(()=>Ct("/api/outputs","$nn2AXZkwPl")),t=await t,e(),t),h={input:n,mixer:a,output:r},o=(p,f)=>{const T=h[p].value,x=T.findIndex(F=>F.uid===f.uid);x!==-1&&(T[x]={...T[x],...f})},c=(p,f)=>{const T=h[p].value;T.some(x=>x.uid===f.uid)||T.push(f)},u=(p,f)=>{h[p].value=h[p].value.filter(T=>T.uid!==f.uid)};Bh(()=>{s.value=new WebSocket("ws://localhost:5000/ws"),s.value.onmessage=p=>{const f=JSON.parse(p.data),x={CREATE:c,UPDATE:o,DELETE:u}[f.channel];x&&h[f.type]?x(f.type,f.data):console.warn("Unknown Type or Channel:",f.type,f.channel)},s.value.onerror=p=>{console.error("WebSocket error:",p)}}),zh(()=>{s.value&&s.value.close()});const d=p=>{Kh(p,(f,T)=>{},{deep:!0})};return d(n),d(a),d(r),(p,f)=>{const T=up,x=dp,F=$p;return V(),X(Qe,null,[Ge("div",yp,[Ge("div",vp,[(V(!0),X(Qe,null,si(tt(a),C=>(V(),X("div",{key:C.uid},[et(T,{mixer:C},null,8,["mixer"])]))),128))])]),wp,Ge("div",xp,[(V(!0),X(Qe,null,si(tt(r),C=>(V(),X("div",{key:C.uid},[et(x,{output:C},null,8,["output"])]))),128))]),(V(!0),X(Qe,null,si(tt(n),C=>(V(),X("div",{key:C.uid,class:"grid col-span-2 px-4 py-8"},[et(F,{input:C},null,8,["input"])]))),128))],64)}}},Mp=Object.freeze(Object.defineProperty({__proto__:null,default:Tp},Symbol.toStringTag,{value:"Module"}));export{hl as A,ia as B,Pp as C,R as D,Hl as E,bi as F,ht as G,Dp as H,Lp as I,Mp as J,O as L,Gt as Q,ai as T,m as a,Cp as b,rs as c,os as d,l as e,_p as f,Jo as g,$i as h,D as i,P as j,st as k,b as l,ri as m,Ip as n,mt as o,th as p,Jn as q,K as r,E as s,Np as t,jp as u,ll as v,S as w,g as x,Rp as y,Op as z};
